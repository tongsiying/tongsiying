<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/hedgehog.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/hedgehog.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"tongsiying.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"hide","b2t":true,"scrollpercent":true,"padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="article">
<meta property="og:title" content="linux-all">
<meta property="og:url" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/index.html">
<meta property="og:site_name" content="tongsiying">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/2021-05-17-linux-all%5Cimage-20210412224531237.png">
<meta property="og:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/image-20210412224531237.png">
<meta property="og:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/2021-05-17-linux-all%5CImage.png">
<meta property="og:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/Image.png">
<meta property="og:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/Image-1618240330504.png">
<meta property="og:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/Image-1618240330504.png">
<meta property="og:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/2021-05-17-linux-all%5Cimage-20210412233541228.png">
<meta property="og:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/image-20210412233541228.png">
<meta property="og:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/2021-05-17-linux-all%5C0853362lrr7yjd79o7rl78.png.thumb.jpg">
<meta property="og:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/0853362lrr7yjd79o7rl78.png.thumb.jpg">
<meta property="og:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/2021-05-17-linux-all%5Cimage-20210330224332075.png">
<meta property="og:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/image-20210330224332075.png">
<meta property="article:published_time" content="2021-05-17T10:37:19.000Z">
<meta property="article:modified_time" content="2021-06-28T23:58:57.840Z">
<meta property="article:author" content="tongsiying">
<meta property="article:tag" content="印象-豪">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/2021-05-17-linux-all%5Cimage-20210412224531237.png">

<link rel="canonical" href="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>linux-all | tongsiying</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
<!-- 加入APlayer音乐播放器 -->
<link rel="stylesheet" href="/dist/APlayer.min.css">
<div id="aplayer"></div>
<script type="text/javascript" src="/dist/APlayer.min.js"></script>
<script type="text/javascript" src="/dist/music.js"></script>
  <div class="container use-motion">
    <div class="headband"></div>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

	<!-- catalog/ -->
	<!--     <a href="/" class="brand" rel="start"> -->
	
    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">tongsiying</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">阅读|运动|自律</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/gutianle.gif">
      <meta itemprop="name" content="tongsiying">
      <meta itemprop="description" content="问渠那得清如许？为有源头活水来。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="tongsiying">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          linux-all
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-17 18:37:19" itemprop="dateCreated datePublished" datetime="2021-05-17T18:37:19+08:00">2021-05-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-06-29 07:58:57" itemprop="dateModified" datetime="2021-06-29T07:58:57+08:00">2021-06-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>93k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1:25</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p class="description"></p>
<a id="more"></a>

<h1 id="001-linux基础知识"><a href="#001-linux基础知识" class="headerlink" title="001-linux基础知识"></a>001-linux基础知识</h1><h2 id="一、计算机的构成"><a href="#一、计算机的构成" class="headerlink" title="一、计算机的构成"></a>一、计算机的构成</h2><p><strong>硬件</strong></p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>中央处理器</span><br><span class="line"><span class="bullet">- </span>存储器：磁盘</span><br><span class="line"><span class="bullet">- </span>输入设备：键盘、鼠标、扫描仪等</span><br><span class="line"><span class="bullet">- </span>输出设备：打印机、监控器</span><br></pre></td></tr></table></figure>
<p><strong>软件</strong></p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>系统软件：操作系统、数据库管理系统等，</span><br><span class="line"><span class="bullet">- </span>应用软件：办公软件、游戏软件等</span><br></pre></td></tr></table></figure>

<h2 id="二、操作系统"><a href="#二、操作系统" class="headerlink" title="二、操作系统"></a>二、操作系统</h2><p>操作系统(0peratingSystem,简称0S)传统上是负责对计算机硬件直接控制及管理的系统软件。操作系统的功能一般包括处理器管理、存储管理、文件管理、设各管理和作业管理等。当多个程序同时运行时 操作系统负责规划以优化每个程序的处理时间。<br><img src="/2021/05/17/linux/2021-05-17-linux-all/2021-05-17-linux-all%5Cimage-20210412224531237.png" alt></p>
<img src="/2021/05/17/linux/2021-05-17-linux-all/image-20210412224531237.png" class title="This is an example image">



<p>1.什么是Linux？</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>严格来讲应该不是一个操作系统，linux只是一个操作系统中的内核。</span><br><span class="line"><span class="bullet">- </span>内核是什么？</span><br><span class="line">内核建立的计算机软件与硬件之间通讯的平台，内核提供系统服务，比如文件管理，虚拟内存，设备I/O等。</span><br><span class="line"><span class="bullet">- </span>通常所说的linux系统又是什么？</span><br><span class="line">基于linux内核的GNU操作系统，就是内核与其提供的接口工具。</span><br></pre></td></tr></table></figure>

<p>2.Linux还具有以下特色</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>采用阶层式目录结构，文件规定清楚，容易管理</span><br><span class="line"><span class="bullet">- </span>支持多种文件系统</span><br><span class="line"><span class="bullet">- </span>具有可移植性，系统核心只有小于10%的源代码采用汇编语言笔编写，其余均采用c语言编写，因此具有高度一致性，考虑其他操作系统windowsxp/2000等并存于同一台机器上。</span><br></pre></td></tr></table></figure>

<p>3.Linux系统结构</p>
<p><img src="/2021/05/17/linux/2021-05-17-linux-all/2021-05-17-linux-all%5CImage.png" alt></p>
<img src="/2021/05/17/linux/2021-05-17-linux-all/Image.png" class title="This is an example image">

<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Api:</span> 接口 (必须遵循规则, 内核提供一些系统调用的规则)</span><br></pre></td></tr></table></figure>



<p>4.VM:虚拟机<br>利用虚机以机可以在一台电脑上将硬盘和内存的一部分拿出来虚拟出若干台机器,每台机器可以运行单独的操作系统而互不干扰,这些“新’机器各自拥有自己独立的CMos、硬盘和操作系,可以像使用普通机器一祥对它们进行分区、格式化、安装系统和应用软件等操作,还可以将这几个操作系统联成一个网络。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- Vmwarel www<span class="selector-class">.vmware</span>.com</span><br><span class="line">- MicrosoftVirtualPC  www<span class="selector-class">.microsoft</span>.com/windows/virtualpc</span><br><span class="line">- VirtualBox  www<span class="selector-class">.virtualbox</span>.org</span><br></pre></td></tr></table></figure>

<p>虚拟化的特征</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">第一:分区</span></span><br><span class="line">在单一物理服务器上同时运行多个虚拟机;</span><br><span class="line"></span><br><span class="line"><span class="section">第二:隔离</span></span><br><span class="line">每一个虚拟机都与同一个服务器上的其他虚拟机相隔离;</span><br><span class="line"></span><br><span class="line"><span class="section">第三:封装</span></span><br><span class="line">虚拟机将整个系统, 包括硬件配置操作系统以及应用等封装在文件里;</span><br><span class="line"></span><br><span class="line"><span class="section">第四:独立性 </span></span><br><span class="line">可以在其他机器上不加修改地使用虚拟机;</span><br></pre></td></tr></table></figure>

<p>虚拟机用途</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">当硬件的处理速度越来越快，企业花费重金购买的硬件设备，单一应用不能够，充分利用硬件资源，通过虚拟机在计算机上模拟多套意应用，达到充分利用资源降低成本的目的。</span><br><span class="line">开发测试过程中往往需要搭建多套系统，通过利用虚拟技术，可以在尽可能少的硬件平台模拟出所要的环境，减少开发和测试成本。</span><br></pre></td></tr></table></figure>

<p>分区 挂载</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">必须分区  ·/(根分区)  ·swap（交换分区，内存<span class="number">2</span>倍，不超过<span class="number">2</span>GB）</span><br><span class="line">推荐分区   ·/boot(启动分区，<span class="number">200</span>MB)</span><br></pre></td></tr></table></figure>

<h2 id="三、Linux目录结构"><a href="#三、Linux目录结构" class="headerlink" title="三、Linux目录结构"></a>三、Linux目录结构</h2><p>1./根目录<br>2./bin系统启动是需要执行文件(二进制)，这些文件可以被普通用户使用。<br>3./boot用于存放加载程序的文件(LILO或GRUB)的文件，在计算机启动时，（如果有多个操作系统，有可能允许你选择启动哪一个操作系统），这些文件首先被装载，这个目录也会包含linux核（压缩文件vmlinuz），但linux和也可以存在别处，只要配置LILO，并且lilo知道linux核在哪儿。<br>4·/dev设备文件目录。linux下设备被当成文件，这样一来硬件被抽象化，便于读写、网络共享以及需要临时装载到文件系统中，正常情况下，设备会有一个独立的子目录。这些设备的内容会出现在独立的子目录下。Linux没有所谓的驱动符。<br>5·/etc操作系统的配置文件目录。<br>6·/home目录包含用户的文件：参数设置文件、个性化文件、文档、数据、 EMAIL、缓存数据等。这个目录在系统升级时应该保留。<br>7./1ib根文件系统目录下程序和核心模块的共享库。<br>8·/mnt软盘、光盘、 优盘等外设的預设挂载点。<br>9·/proc目录整个包含虚幻的文件。它们实际上并不存在磁盘上, 也不占用任何空间。(用1s -l可以显示它们的大小)当査看这些文件时, 实际上是在访问存在内存中的信息,这些信息用于访问系统。<br>10·/sbin<br>11·/tmp临时文件。该目录会被自动清理干浄。<br>12·/usr日录包含所有的命令、程序库、文档和其它文件。这些文件在正常操作中不会被改变的 。 这个目录也包含你的Linux发行版本的主要的应用程序,譬如，Netscape。<br>13·/var目录包含在正常操作中比改变统计，假脱机文件，记录文件，枷锁文件、临时文件和页格式文件等。<br>14·/root系统管理员的home目录。(也叫超级用或根用户）<br>15·/opt可选用的应用程序，譬如，REDHAT5.2下的KDE(REDHAT6.0下，KDE放在其他的应用程序中，主执行程序在/usr/bin目录下。<br>16./lost+found在文件系统修复时恢复的文件</p>
<h2 id="四、虚拟控制台"><a href="#四、虚拟控制台" class="headerlink" title="四、虚拟控制台"></a>四、虚拟控制台</h2><p>linux是真正的多用户操作系统，可以同时接入多个用户，远程和本地登陆，也允许同一个用户多次登录，允许用户在同一时间从不同控制台（系统的控制台是与系统直接与相连的监视器和键盘）进行多次登陆。<br>虚拟控制端口可使用户同时在多个控制台上工作，用户可以在某一虚拟控制台上，进行的工作尚未结束时，切换到另一个虚拟控制台开始另一项工作。例如，开发软件时，可以在一个控制台上进行编辑，在另一个控制台上进行编译，在第三个控制台上查阅信息。</p>
<p>1.IP地址查看</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- 直接执行ip a</span><br><span class="line">- ip <span class="number">-4</span> a</span><br><span class="line">- windows查看IP为ipconfig</span><br><span class="line">- 以root用户登录系统</span><br><span class="line">执行命令:ifconfig</span><br><span class="line">eth0Link encap:Ethemet HWaddr <span class="number">00</span>:<span class="number">0</span>C:<span class="number">29</span>:<span class="number">85</span>:DA:EA</span><br><span class="line">inet addr:<span class="number">192.168</span><span class="number">.0</span><span class="number">.34</span> Bcast:<span class="number">192.168</span><span class="number">.0</span><span class="number">.255</span>Mask:<span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span></span><br><span class="line">inet6 addr: fe80::<span class="number">20</span>c129fffe85:daea,<span class="number">64</span> Scope:Link</span><br><span class="line">UP BROADCAST RUN-NING MdTICAST MTU:<span class="number">1500</span> Metric：<span class="number">1</span></span><br><span class="line">RX packets:<span class="number">3926557</span> errors:<span class="number">0</span> dropped:<span class="number">0</span> overruns:<span class="number">0</span> frame:<span class="number">0</span></span><br><span class="line">TX packets:<span class="number">40859</span> errors:<span class="number">0</span> dropped:<span class="number">0</span> overruns:<span class="number">0</span> carrier:<span class="number">0</span></span><br><span class="line">co11isions:<span class="number">0</span> txqueuelen:<span class="number">1000</span></span><br><span class="line">RX bytes;<span class="number">351579699</span> (<span class="number">335.2</span> MiB) TXbytes:<span class="number">5029445</span> (<span class="number">4.7</span> MiB) Interrupt:<span class="number">67</span> Base address:<span class="number">0x2024</span></span><br></pre></td></tr></table></figure>
<h2 id="五、LINUX操作技巧"><a href="#五、LINUX操作技巧" class="headerlink" title="五、LINUX操作技巧"></a>五、LINUX操作技巧</h2><p>1.基础技巧</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">-</span> 获取历史命令:按<span class="selector-attr">[向上箭头]</span>和<span class="selector-attr">[向下箭头]</span>键可以滚动以前使用过的命令</span><br><span class="line"><span class="selector-tag">-</span> 命令，文件或路径的补全:键入了文件名、命令、或路径名的一部分,然后按<span class="selector-attr">[Tab]</span>键,会把文件或路径名的剩余部分补全</span><br><span class="line"><span class="selector-tag">-</span> 图形与文本界面切換</span><br><span class="line">图形切换到文本界面(命令行界面) : <span class="selector-tag">shift</span>+<span class="selector-tag">ctrl</span>+<span class="selector-tag">alt</span>+<span class="selector-tag">f4</span></span><br><span class="line"><span class="selector-tag">-</span> 文本界面(命令行界面)切换到图形: (shift+)<span class="selector-tag">alt</span>+<span class="selector-tag">f7</span></span><br></pre></td></tr></table></figure>

<p>2.Shell提示符</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@haozhinuo~</span>]<span class="meta">#</span></span><br><span class="line">[<span class="meta">用户@主机名当前目录名称</span>]提示符</span><br><span class="line">root为<span class="meta">#普通用户为$</span></span><br></pre></td></tr></table></figure>

<p>3.Linux命令输入规律</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">命令<span class="comment">[选项]</span> (<span class="comment">[参数]</span>) <span class="comment">[选项的值]</span> (<span class="comment">[参数的值]</span>)</span><br><span class="line">·空格作为分割</span><br><span class="line">·如: <span class="comment">[root@haozhinuo~]</span># ls -a /home/hzn</span><br></pre></td></tr></table></figure>

<p>4.绝对路径</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd<span class="regexp">/etc/</span>sysconfig<span class="regexp">/network-scripts/</span></span><br></pre></td></tr></table></figure>

<p>5.相对路径</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@haozhinuo</span>~]<span class="meta">#cd etc</span></span><br><span class="line">[root<span class="symbol">@haozhinuo</span> etc]<span class="meta"># cd sysconfig/network-scripts/</span></span><br></pre></td></tr></table></figure>

<p>6.命令热身</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">. 代表此层目录</span><br><span class="line"><span class="string">..</span>代表上层目录</span><br><span class="line"><span class="keyword">cd</span>: 改变目录, 如<span class="keyword">cd</span>/home, 表示进入home目录</span><br><span class="line"><span class="keyword">pwd</span>: 显示当前的目录 </span><br><span class="line"><span class="keyword">clear</span>: 清除屏幕上的信息</span><br></pre></td></tr></table></figure>

<p>7.退出 </p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- logout</span><br><span class="line">- <span class="keyword">exit</span></span><br><span class="line">- Ctr1+D(相当于执行<span class="keyword">exit</span>)</span><br></pre></td></tr></table></figure>

<p>8.重启动 </p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- reboot</span><br><span class="line">- <span class="keyword">shutdown</span> -r &lt;time&gt;</span><br><span class="line">举例：</span><br><span class="line"><span class="keyword">shutdown</span> -r 3  <span class="params">---3</span>分钟之后重新启动</span><br><span class="line">组合键 Ctrl+Alt+Del  <span class="params">---</span>（只适用于控制台下）</span><br></pre></td></tr></table></figure>

<p>9.关机</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- halt</span><br><span class="line">- <span class="keyword">shutdown</span> -h &lt;time&gt;</span><br><span class="line">举例;</span><br><span class="line"><span class="keyword">shutdown</span> -h 3  <span class="params">---3</span>分钟之后关机</span><br></pre></td></tr></table></figure>

<p>10./etc/inittab</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">·#<span class="built_in"> Default </span>runleve1. The runlevels used by RHS are:</span><br><span class="line">- #0 -halt(<span class="keyword">Do</span> <span class="keyword">NOT</span> <span class="builtin-name">set</span> initdefault <span class="keyword">to</span> this)  </span><br><span class="line">- #1 -Single<span class="built_in"> user </span>mode  </span><br><span class="line">- #2 -Multiuser，without NFS(The same as3, <span class="keyword">if</span> you <span class="keyword">do</span> <span class="keyword">not</span> have networking)</span><br><span class="line">- #3 -Fu11 multiuser mode</span><br><span class="line">- #4 -unused</span><br><span class="line">- #5 -X11</span><br><span class="line">- #6 -reboot(<span class="keyword">Do</span> <span class="keyword">NOT</span> <span class="builtin-name">set</span> initdefault <span class="keyword">to</span> this)【表示当前缺省运行级别为5(initdefault)】</span><br><span class="line">- id:5:initdefault:  【如果修改为启动到文本界面,则将id:5中的5修改为为3】</span><br></pre></td></tr></table></figure>

<p>11.光盘挂载</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mount <span class="string">/dev/cdrom</span> <span class="string">/mnt</span></span><br><span class="line">umount <span class="string">/dev/cdrom</span></span><br><span class="line">注意：执行mount和umount操作时，请不要挂载目录中进行操作</span><br></pre></td></tr></table></figure>



<p>12.分区和挂载</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">fdisk</span> <span class="string">-l    【查看硬盘及分区信息】</span></span><br><span class="line"><span class="attr">df</span>          <span class="string">【显示磁盘挂载及使用情况】</span></span><br><span class="line"><span class="meta">常用参数：df</span> <span class="string">-h</span></span><br></pre></td></tr></table></figure>

<p>13.目录处理命令:ls</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">命令格式:</span><br><span class="line">ls[选项] [文件名或目录名]</span><br><span class="line"></span><br><span class="line">命令功能:</span><br><span class="line">列出目标目录中所有的子目录和文件</span><br><span class="line"></span><br><span class="line">常用选项:</span><br><span class="line"><span class="deletion">-a   显示所有文件,包括隐藏文件</span></span><br><span class="line">以.开头的文件名都视为隐藏文件</span><br><span class="line"><span class="deletion">-l   显示详细信息   ll</span></span><br><span class="line"><span class="deletion">-h   以容易理解的格式列出文件大小（例: IK 234M）</span></span><br></pre></td></tr></table></figure>

<p>14.错误报错</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">英文提示的困惑?</span><br><span class="line"><span class="keyword">Command</span> <span class="keyword">not</span> found</span><br><span class="line">命令找不到</span><br><span class="line">No Such <span class="keyword">file</span> <span class="keyword">or</span> directory</span><br><span class="line">没有这样的文件或目录</span><br></pre></td></tr></table></figure>

<p>15.文件新建</p>
<figure class="highlight irpf90"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">touch</span>命令【功能:文件修改和创建】</span><br><span class="line">语法: <span class="keyword">touch</span>目标文件</span><br><span class="line">举例：</span><br><span class="line"><span class="keyword">touch</span> wxt 【wxt为文件名】</span><br></pre></td></tr></table></figure>

<p>16.vi编辑</p>
<p>编辑模式</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">一般模式   i，a，o，r【可以直接进入文件编辑】</span><br><span class="line">i键插入,从目前光标所在处插入</span><br><span class="line">a键插入,从目前光标所在下一个字符处插入</span><br><span class="line">o键插入,从目前光标所在下一行插入新的一行</span><br><span class="line">r键 替换当前字符</span><br><span class="line">退回编辑模式,回到一般模式 ESC</span><br><span class="line"></span><br><span class="line">存盘<span class="symbol">:w</span></span><br><span class="line">不存盘退出<span class="symbol">:q</span></span><br><span class="line">存盘退出<span class="symbol">:wq</span></span><br><span class="line">强制退出<span class="symbol">:q!</span></span><br><span class="line">强制存盘退出<span class="symbol">:wq!</span></span><br><span class="line">显示行号<span class="symbol">:set</span> nu</span><br><span class="line">不显示行号<span class="symbol">:set</span> nonu</span><br><span class="line">光标移动到第几行<span class="symbol">:n</span></span><br><span class="line">上下左右箭头可以移动光标位置</span><br><span class="line">光标移到文件最后一行 G</span><br><span class="line">光标移到文件第一行gg</span><br><span class="line">光标移到该行的最后面$</span><br><span class="line">光标移到该行的最前面0</span><br><span class="line">査询字符串/word ?word</span><br><span class="line">重复上一次査找n, N(反向査找)</span><br><span class="line">査询字符串(不区分大小写) /word\c</span><br><span class="line">替换当前行s/old/new/g</span><br><span class="line">替换整个文档中的字符串<span class="symbol">:%s/old/new/g</span></span><br><span class="line">替换整个文档中的字符串<span class="symbol">:</span><span class="number">1</span>,<span class="variable">$s</span>/old/new/g</span><br><span class="line">替换a到b行的字符串<span class="symbol">:a</span>,bs/old/new/g</span><br><span class="line">删除光标所在行 dd</span><br><span class="line">复制光标所在行 yy</span><br><span class="line">撤销u</span><br><span class="line">将已经复制的数据粘贴 p</span><br><span class="line">删除从光标所在到最后一行 dG</span><br><span class="line">删除从光标所在到该行最后一个字符 d$</span><br><span class="line">删除从光标所在到该行最前面的一个字符 d0</span><br><span class="line">复制从光标所在到该行最后一个字符 y$</span><br><span class="line">复制从光标所在到该行由面的一个字符 y0</span><br><span class="line">复制光标向下的多行nyy n,my复制n行到m行</span><br><span class="line">删除光标及光标下的多行 nddn,md复制n行到m行</span><br></pre></td></tr></table></figure>

<p>17.Tree命令<br><img src="/2021/05/17/linux/2021-05-17-linux-all/Image-1618240330504.png" alt></p>
<img src="/2021/05/17/linux/2021-05-17-linux-all/Image-1618240330504.png" class title="This is an example image">

<p>18.文件及目录的基本操作</p>
<p>ls命令</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">【功能:列出目录的内容。该命令类似于<span class="selector-tag">Dos</span>下的<span class="selector-tag">dir</span>命令】</span><br><span class="line">语法: <span class="selector-tag">ls</span><span class="selector-attr">[选项]</span> <span class="selector-attr">[目录或是文件]</span></span><br><span class="line">颜色含义</span><br><span class="line">蓝色→目录</span><br><span class="line">绿色→可执行文件</span><br><span class="line">红色→压缩文件</span><br><span class="line">浅蓝色→链接文件</span><br></pre></td></tr></table></figure>

<p>cd命令</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">【功能：改变工作目录】</span><br><span class="line">语法: <span class="keyword">cd</span>[directory]</span><br><span class="line">备注: </span><br><span class="line"><span class="keyword">cd</span> 或 <span class="keyword">cd</span>~到用户家目录 </span><br><span class="line"><span class="keyword">cd</span> <span class="string">..</span>上层目录，</span><br><span class="line"><span class="keyword">cd</span> . 在当前目录</span><br><span class="line"><span class="keyword">cd</span> - 上一次进入的目录</span><br></pre></td></tr></table></figure>

<p>pwd命令</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">【功能:此命令显示出当前工作目录的绝对路径】</span></span><br><span class="line"><span class="section">语法: pwd</span></span><br></pre></td></tr></table></figure>

<p>mkdir命令   </p>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">【功能: 创建一个目录 (类似Dos下的<span class="built_in">md</span>命令)】</span><br><span class="line">语法: <span class="built_in">mkdir</span> [选项]目录名称</span><br><span class="line">常用参数: -p递归</span><br><span class="line"><span class="built_in">mkdir</span> dir1 dir2 dir3 【连续新建<span class="number">3</span>个文件夹dir1 dir2 dir3】</span><br><span class="line"><span class="built_in">mkdir</span> -p a/b/c【a文件夹目录下有b文件夹，b文件夹下有c文件夹】</span><br></pre></td></tr></table></figure>

<p>rmdir命令</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">【功能:删除空目录】</span></span><br><span class="line"><span class="section">语法: rmdir[选项]目录名称</span></span><br><span class="line"><span class="section">常用参数: -p递归删除除空目录</span></span><br><span class="line">同上mkdir</span><br></pre></td></tr></table></figure>

<p>cp命令   </p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">【功能: 将给出的文件或目录拷贝到另一文件或目录中, 就如同Dos下的copy命令一样,功能非常大】 </span><br><span class="line">语法: cp[选项]源文件 目录目标文件或目录</span><br><span class="line">常用参数:</span><br><span class="line">-r 递归持续复制, 用于目录的复制</span><br><span class="line">-a保持原属性不变</span><br><span class="line">举例：</span><br><span class="line">cp <span class="string">/etc/passwd</span> <span class="string">./</span> 拷贝passwd文件到当前目录下</span><br><span class="line">cp <span class="string">/etc/passwd</span> <span class="string">./pass</span>  如果当前不存在pass目录，此时会自动新建一个pass文件夹</span><br><span class="line">cp -ra 123 <span class="string">./pass</span></span><br></pre></td></tr></table></figure>

<p>mv命令</p>
<figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">【功能: 为文件或目录改名或将文件或目录由一个目录移入另面一个目录中】 </span><br><span class="line">语法：<span class="keyword">mv</span>[选项]源文件或目录目标文件或目录</span><br></pre></td></tr></table></figure>

<p>rm命令</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">功能:删除一个目录中的一个或多个文件或目录,它也可以将某个目录及其下的所有文件及子目录均删除。 对于链接文件,只是删除了链接, 原有文件均保持不变。</span><br><span class="line">语法: rm[选项]文件</span><br><span class="line">常用参数: </span><br><span class="line"><span class="deletion">-f【强制删除】</span></span><br><span class="line"><span class="deletion">-i【删除前提示】</span></span><br><span class="line"><span class="deletion">-r【递归删除(使用要慎重! )】</span></span><br></pre></td></tr></table></figure>

<p>cat命令</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">【功能: 显示文件内容, 并且支持将多个文件串连接后输出】</span><br><span class="line">注意:该命令一次显示完整个文件,若想分页査看,需使用 more</span><br><span class="line">语法: cat[选项]目标文件</span><br><span class="line">常用参数:</span><br><span class="line">-n对所有输出行进行编号</span><br><span class="line">-b与-n相似,但空白行不编号</span><br><span class="line">举例：</span><br><span class="line">cat <span class="keyword">a</span> b     【同时查看<span class="keyword">a</span>文件和b文件】</span><br><span class="line">cat -n  <span class="keyword">a</span>   【给<span class="keyword">a</span>文本编号】</span><br><span class="line">cat -b <span class="keyword">a</span>    【编号（但不给空行不参与编号）】</span><br><span class="line">cat -n <span class="keyword">a</span> b  【给<span class="keyword">a</span>文件和b文件一起编号】</span><br></pre></td></tr></table></figure>

<p>head命令</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">【功能:输出文件最前面的几行数据】</span><br><span class="line">语法: head<span class="comment">[选项]</span>目标文件</span><br><span class="line">常用参数:</span><br><span class="line">-n显示前面的几行</span><br><span class="line">举例：</span><br><span class="line">head /etc/<span class="keyword">man</span>.config 默认显示开头前十行</span><br><span class="line">head -3 /etc/<span class="keyword">man</span>.config 显示开头前3行</span><br></pre></td></tr></table></figure>

<p>tail命令</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">【功能:输出文件的最后部分】</span></span><br><span class="line"><span class="section">语法: tai1[选项]目标文件</span></span><br><span class="line"><span class="section">常用参数:</span></span><br><span class="line">-n显示后面的几行</span><br><span class="line">-f持续检测后面的文件内容</span><br><span class="line">tail -f多用来查看日志</span><br><span class="line">其余同head</span><br></pre></td></tr></table></figure>

<p>more命令</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">【功能:分页查看】</span></span><br><span class="line"><span class="section">语法: more目标文件</span></span><br><span class="line">常用参数：</span><br><span class="line"><span class="section">-num:每页显示多少行内容</span></span><br><span class="line"><span class="section">+num:从多少行开始显示</span></span><br><span class="line"><span class="section">空格:向下翻一页</span></span><br><span class="line"><span class="section">Enter:向下一行</span></span><br><span class="line"><span class="section">/字符串:向下査询</span></span><br><span class="line">Ctr1十F </span><br><span class="line">Ctr1十B向上一页</span><br><span class="line">q退出more</span><br></pre></td></tr></table></figure>

<p>19.设备挂载</p>
<p>每个文件系统都有白己独立的inode, block等信息,这个文件系统要能够连按到目录树才能够被我们使用，这种文件系统与目录树相结合的操作称为挂载。<br>挂载一定是目录, 该目录为进入该文件系统的入口 。挂载就是将某个未使用的空问或可移动设各的存储空间指向一个目录。</p>
<p>20.补充：</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>DHCP：自动获取IP</span><br><span class="line"><span class="bullet">- </span>快捷键：ctrl<span class="code">+shift+</span>“+” 放大终端</span><br><span class="line"><span class="code"> ctrl+c终止  ctrl+d退出  ctrl+l清屏（clear）</span></span><br><span class="line"><span class="bullet">- </span>vm快照功能</span><br></pre></td></tr></table></figure>

<p>alias 查看系统别名</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/profile</span><br><span class="line">在文本最后添加alias <span class="attribute">l</span>=‘ls-l’（如果修改开机提示在这里填入echo hello）</span><br><span class="line">source /etc/profile使配置文件生效</span><br><span class="line"></span><br><span class="line">echo hello&gt;&gt;passwd</span><br><span class="line">&gt;&gt; 追加的意思</span><br></pre></td></tr></table></figure>

<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">·linux远程联接端口为：22端口</span><br><span class="line">touch是创建文件，mkdir创建目录</span><br><span class="line">cp <span class="string">/etc/passwd</span> ~   复制到家目录</span><br><span class="line">cp  -r  <span class="string">/etc</span>  ~<span class="string">/etc/</span></span><br></pre></td></tr></table></figure>

<h1 id="002-linux文件查找-amp-压缩"><a href="#002-linux文件查找-amp-压缩" class="headerlink" title="002-linux文件查找&amp;压缩"></a>002-linux文件查找&amp;压缩</h1><h2 id="一、find命令"><a href="#一、find命令" class="headerlink" title="一、find命令"></a>一、find命令</h2><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">【在目录结构中搜索文件,并执行指定的操作。此命令提供了相当多的査找条件,功能很强大】</span><br><span class="line">语法: <span class="built_in">find</span>起始目录寻找条件操作</span><br><span class="line">说明: <span class="built_in">find</span>命令从指定的起始目录开始, 速归地控索其各个子目录, 査找满足寻找条件的文件并对之采取相关的操作</span><br><span class="line">常用参数:</span><br><span class="line">-<span class="built_in">name</span>  査找文件名</span><br><span class="line">-user/-uid/-gid/-<span class="built_in">group</span> 查找相关用户和组              </span><br><span class="line">-perm   査找出相关权限的文件</span><br><span class="line"><span class="built_in">find</span>  /home  -<span class="built_in">name</span> <span class="string">"a1'"</span>            【<span class="built_in">find</span>找文件名为完全匹配】</span><br></pre></td></tr></table></figure>

<p>通配符号</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">？          匹配单个字符</span><br><span class="line">*           匹配<span class="number">0</span>个或多个字符</span><br><span class="line">[  ]        匹配其中任一个字符</span><br><span class="line">上面都需要加“”</span><br><span class="line">不需要加“”的有：<span class="keyword">cp</span>  <span class="keyword">ls</span>  rm  mv</span><br><span class="line">举例：</span><br><span class="line"><span class="keyword">cp</span>  <span class="keyword">a</span>*  dir            【把所有开头为<span class="keyword">a</span>的文件复制到dir目录下】</span><br><span class="line">rm  -rf  *             【删除所有文件（不能在根目录下操作此命令）】</span><br><span class="line"><span class="keyword">ls</span>  <span class="keyword">a</span>*                 【列出所有以<span class="keyword">a</span>开头的文件和目录】</span><br><span class="line"><span class="keyword">cp</span>  -r  hzn/*  wang    【把hzn下所有复制到wang（不包含hzn）】</span><br><span class="line">find1 / -name  httpd.<span class="keyword">conf</span>           【按文件名査找】</span><br><span class="line"><span class="keyword">find</span>  /etc  /bin   -name  “*scmn?”  【使用通配符】</span><br><span class="line"><span class="keyword">find</span>  /boot/  -pem  <span class="number">755</span>             【等于<span class="number">775</span>权限的文件或目录】</span><br><span class="line"><span class="keyword">find</span>  /home  -name  “*<span class="keyword">ab</span>*”          【查找文件名含<span class="keyword">ab</span>的所有文件】</span><br><span class="line"><span class="keyword">find</span>  /home  -name “？<span class="keyword">b</span>*”        【查找文件名第二个为<span class="keyword">b</span>的所有文件】</span><br><span class="line"><span class="keyword">find</span>  /home  -name  “*<span class="keyword">b</span>？”         【查找倒数第二个为<span class="keyword">b</span>的所以文件】</span><br><span class="line"><span class="keyword">find</span>   /etc  /bin  -name  “ ....”      【同时在多个目录下查找】</span><br><span class="line"><span class="keyword">find</span>  /home  -user  hzn                 【找出hzn用户的文件】</span><br><span class="line"><span class="keyword">find</span>  /home  -perm  <span class="number">700</span>           【找出用户权限为<span class="number">700</span>的相关文件】</span><br><span class="line"></span><br><span class="line">假使存在a1  b1 c1 c2 b2 a2</span><br><span class="line"><span class="keyword">find</span> ./ -name “[<span class="keyword">a</span>-<span class="keyword">z</span>]*”【找出含<span class="keyword">a</span>-<span class="keyword">z</span>的字母文件（a1 b1 c1 c2 b2 a2】</span><br><span class="line"><span class="keyword">find</span> ./ -name “[abd]<span class="number">1</span>”        【a1 b1 d1】</span><br><span class="line"><span class="keyword">find</span> ./ -name “*[<span class="keyword">abc</span>][<span class="number">1</span>-<span class="number">2</span>]”   【a1 b1 c1 a2 b2 c2】</span><br></pre></td></tr></table></figure>

<h2 id="二、grep命令"><a href="#二、grep命令" class="headerlink" title="二、grep命令 "></a><a href="https://www.cnblogs.com/kongzhongqijing/articles/4462793.html" target="_blank" rel="noopener external nofollow noreferrer">二、grep命令 </a></h2><p><a href="http://www.51niux.com/?id=90" target="_blank" rel="noopener external nofollow noreferrer">grep命令详解</a></p>
<p>搜索文件, 并通知用户在什么文件中搜素到与指定的模式匹配的字符串，并打印出所有包含该字符的文本行,在该文本行的最前面是该行所在的文件名;<br>grep家族包括grep、egrep和fgrep：egrep是grep的扩展，支持更多的re元字符；fgrep就是fixed grep或fast grep；</p>
<p><img src="/2021/05/17/linux/2021-05-17-linux-all/2021-05-17-linux-all%5Cimage-20210412233541228.png" alt></p>
<img src="/2021/05/17/linux/2021-05-17-linux-all/image-20210412233541228.png" class title="This is an example image">
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">语法: <span class="keyword">grep</span>[选项][査找模式][文件名<span class="number">1</span>,文件名<span class="number">2</span>, .....]</span><br><span class="line">常用参数:</span><br><span class="line">-i  忽略大小写</span><br><span class="line">-n  输出行号</span><br><span class="line">-v  反向选择                   </span><br><span class="line">-r  査找含有匹配字符串的文件</span><br><span class="line"></span><br><span class="line">-A -B -C 后面都跟阿拉伯数字 </span><br><span class="line">-A  是显示匹配后和它后面的n行。 </span><br><span class="line">-B  是显示匹配行和它前面的n行。 </span><br><span class="line">-C  是匹配行和它前后各n行。 </span><br><span class="line">总体来说，-C覆盖面最大。用它保险些。哈哈。这<span class="number">3</span>个开关都是关于匹配行的上下文的（context）。</span><br><span class="line"></span><br><span class="line"><span class="keyword">grep</span> -r hzn <span class="regexp">/etc         【从/</span>etc目录下查找含有hzn字符的文件】</span><br><span class="line"><span class="keyword">grep</span> root passwd </span><br><span class="line"><span class="keyword">grep</span> -i bin passwd【（忽略大小写）查找passwd下bin字符，不分大小写】</span><br><span class="line"><span class="keyword">grep</span> -n bin passwd     【输出存在passwd下bin字符的行号】</span><br><span class="line"><span class="keyword">grep</span> -v bin psswd      【不包含bin的在哪边（反向选择）】</span><br><span class="line"><span class="keyword">grep</span> -r bin .<span class="regexp">/ 【(找对应目录是否有bin的文件，bin为文件，./</span>为目录）】</span><br><span class="line"><span class="keyword">grep</span> -w  【查找全匹配,不包括子字符串】</span><br><span class="line">export GREP_OPTIONS=<span class="string">'--color=auto'</span> GREP_COLOR=<span class="string">'100;8'</span>【用GREP_OPTIONS来让查找的项醒目】</span><br><span class="line"><span class="keyword">grep</span> -c <span class="string">"keyword"</span> 文件名【计算匹配的数量】</span><br></pre></td></tr></table></figure>

<p>简介</p>
<p>　　grep (global search regular expression(RE) and print out the line,全面搜索正则表达式并把行打印出来)是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。</p>
<p>　　Unix的grep家族包括grep、egrep和fgrep。egrep和fgrep的命令只跟grep有很小不同。egrep是grep的扩展，支持更多的re元字符， fgrep就是fixed grep或fast grep，它们把所有的字母都看作单词，也就是说，正则表达式中的元字符表示回其自身的字面意义，不再特殊。linux使用GNU版本的grep。它功能更强，可以通过-G、-E、-F命令行选项来使用egrep和fgrep的功能。</p>
<p>　　grep的工作方式是这样的，它在一个或多个文件中搜索字符串模板。如果模板包括空格，则必须被引用，模板后的所有字符串被看作文件名。搜索的结果被送到标准输出，不影响原文件内容。grep可用于shell脚本，因为grep通过返回一个状态值来说明搜索的状态，如果模板搜索成功，则返回0，如果搜索不成功，则返回1，如果搜索的文件不存在，则返回2。我们利用这些返回值就可进行一些自动化的文本处理工作。</p>
<p>命令格式：grep [option] pattern file</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">grep的常用选项：</span><br><span class="line">-<span class="ruby">V： 打印grep的版本号</span></span><br><span class="line"><span class="ruby">-E： 解释PATTERN作为扩展正则表达式，也就相当于使用egrep。 或操作</span></span><br><span class="line"><span class="ruby">-F :   解释PATTERN作为固定字符串的列表，由换行符分隔，其中任何一个都要匹配。也就相当于使用fgrep。</span></span><br><span class="line"><span class="ruby">-<span class="symbol">G:</span>   将范本样式视为普通的表示法来使用。这是默认值。加不加都是使用grep。</span></span><br><span class="line"></span><br><span class="line"><span class="ruby">匹配控制选项：</span></span><br><span class="line"><span class="ruby">-e :  使用PATTERN作为模式。这可以用于指定多个搜索模式，或保护以连字符（ - ）开头的图案。指定字符串做为查找文件内容的样式。   </span></span><br><span class="line"><span class="ruby">-f :  指定规则文件，其内容含有一个或多个规则样式，让grep查找符合规则条件的文件内容，格式为每行一个规则样式。</span></span><br><span class="line"><span class="ruby">-i :  搜索时候忽略大小写</span></span><br><span class="line"><span class="ruby">-<span class="symbol">v:</span>  反转匹配，选择没有被匹配到的内容。</span></span><br><span class="line"><span class="ruby">-w：匹配整词，精确地单词,单词的两边必须是非字符符号(即不能是字母数字或下划线)</span></span><br><span class="line"><span class="ruby">-x：仅选择与整行完全匹配的匹配项。精确匹配整行内容(包括行首行尾那些看不到的空格内容都要完全匹配)</span></span><br><span class="line"><span class="ruby">-y：此参数的效果和指定“-i”参数相同。</span></span><br><span class="line"></span><br><span class="line"><span class="ruby">一般输出控制选项：</span></span><br><span class="line"><span class="ruby">-c： 抑制正常输出;而是为每个输入文件打印匹配线的计数。</span></span><br><span class="line"><span class="ruby">--color [= WHEN]：让关键字高亮显示，如--color=auto</span></span><br><span class="line"><span class="ruby">-L：列出文件内容不符合指定的范本样式的文件名称</span></span><br><span class="line"><span class="ruby">-l : 列出文件内容符合指定的范本样式的文件名称。</span></span><br><span class="line"><span class="ruby">-m num：当匹配内容的行数达到num行后,grep停止搜索,并输出停止前搜索到的匹配内容</span></span><br><span class="line"><span class="ruby">-<span class="symbol">o:</span> 只输出匹配的具体字符串,匹配行中其他内容不会输出</span></span><br><span class="line"><span class="ruby">-q：安静模式,不会有任何输出内容,查找到匹配内容会返回<span class="number">0</span>,未查找到匹配内容就返回非<span class="number">0</span></span></span><br><span class="line"><span class="ruby">-s：不会输出查找过程中出现的任何错误消息，-q和-s选项因为与其他系统的grep有兼容问题，shell脚本应该避免使用-q和-s，并且应该将标准和错误输出重定向到/dev/null 代替。</span></span><br><span class="line"></span><br><span class="line"><span class="ruby">输出线前缀控制：</span></span><br><span class="line"><span class="ruby">-b：输出每一个匹配行(或匹配的字符串)时在其前附加上偏移量(从文件第一个字符到该匹配内容之间的字节数)</span></span><br><span class="line"><span class="ruby">-H：在每一个匹配行之前加上文件名一起输出(针对于查找单个文件),当查找多个文件时默认就会输出文件名</span></span><br><span class="line"><span class="ruby">-h：禁止输出上的文件名的前缀。无论查找几个文件都不会在匹配内容前输出文件名</span></span><br><span class="line"><span class="ruby">--label = LABEL：显示实际来自标准输入的输入作为来自文件LABEL的输入。这是特别在实现zgrep等工具时非常有用，例如gzip -cd foo.gz <span class="params">| grep --label = foo -H的东西。看到 也是-H选项。</span></span></span><br><span class="line"><span class="ruby">-n：输出匹配内容的同时输出其所在行号。</span></span><br><span class="line"><span class="ruby">-T：初始标签确保实际行内容的第一个字符位于制表位上，以便对齐标签看起来很正常。在匹配信息和其前的附加信息之间加入tab以使格式整齐。</span></span><br><span class="line"></span><br><span class="line"><span class="ruby">上下文线控制选项：</span></span><br><span class="line"><span class="ruby">-A num：匹配到搜索到的行以及该行下面的num行</span></span><br><span class="line"><span class="ruby">-B num：匹配到搜索到的行以及该行上面的num行</span></span><br><span class="line"><span class="ruby">-C num：匹配到搜索到的行以及上下各num行</span></span><br><span class="line"></span><br><span class="line"><span class="ruby">文件和目录选择选项：</span></span><br><span class="line"><span class="ruby">-a： 处理二进制文件，就像它是文本;这相当于--binary-files = text选项。不忽略二进制的数据。  </span></span><br><span class="line"><span class="ruby"> --binary-files = TYPE：如果文件的前几个字节指示文件包含二进制数据，则假定该文件为类型TYPE。默认情况下，TYPE是二进制的，grep通常输出一行消息二进制文件匹配，或者如果没有匹配则没有消息。如果TYPE不匹配，grep假定二进制文件不匹配;这相当于-I选项。如果TYPE是文本，则grep处理a二进制文件，如果它是文本;这相当于-a选项。警告：grep --binary-files = text可能会输出二进制的垃圾，如果输出是一个终端和如果可能有讨厌的副作用终端驱动程序将其中的一些解释为命令。</span></span><br><span class="line"><span class="ruby">-D：如果输入文件是设备，FIFO或套接字，请使用ACTION处理。默认情况下，读取ACTION，这意味着设备被读取，就像它们是普通文件一样。如果跳过ACTION，设备为 默默地跳过。</span></span><br><span class="line"><span class="ruby">-<span class="symbol">d:</span>  如果输入文件是目录，请使用ACTION处理它。默认情况下，ACTION是读的，这意味着目录被读取，就像它们是普通文件一样。如果跳过ACTION，目录将静默跳过。如果ACTION是recurse，grep将递归读取每个目录下的所有文件;这是相当于-r选项。</span></span><br><span class="line"><span class="ruby">--exclude=GLOB：跳过基本名称与GLOB匹配的文件（使用通配符匹配）。文件名glob可以使用*，？和[...]作为通配符，和\引用通配符或反斜杠字符。搜索其文件名和GLOB通配符相匹配的文件的内容来查找匹配使用方法<span class="symbol">:grep</span> -H --exclude=c* <span class="string">"old"</span> ./*  c*是通配文件名的通配符./* 指定需要先通配文件名的文件的范围,必须要给*,不然就匹配不出内容,(如果不给*,带上-r选项也可以匹配)</span></span><br><span class="line"><span class="ruby">--exclude-from = FILE：在文件中编写通配方案,grep将不会到匹配方案中文件名的文件去查找匹配内容</span></span><br><span class="line"><span class="ruby">--exclude-dir = DIR：匹配一个目录下的很多内容同时还要让一些子目录不接受匹配,就使用此选项。</span></span><br><span class="line"><span class="ruby"> --<span class="keyword">include</span> = GLOB：仅搜索其基本名称与GLOB匹配的文件（使用--exclude下所述的通配符匹配）。</span></span><br><span class="line"><span class="ruby">-R ,-r <span class="symbol">:</span>以递归方式读取每个目录下的所有文件; 这相当于-d recurse选项。</span></span><br><span class="line"></span><br><span class="line"><span class="ruby">其他选项：</span></span><br><span class="line"><span class="ruby">--line-buffered： 在输出上使用行缓冲。这可能会导致性能损失。</span></span><br><span class="line"><span class="ruby">--mmap：启用mmap系统调用代替read系统调用</span></span><br><span class="line"><span class="ruby">-U：将文件视为二进制。</span></span><br><span class="line"><span class="ruby">-z：将输入视为一组行，每一行由一个零字节（ASCII NUL字符）而不是a终止新队。与-Z或--null选项一样，此选项可以与排序-z等命令一起使用来处理任意文件名。</span></span><br></pre></td></tr></table></figure>

<p> 简述</p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby">a   --text   <span class="comment">#不要忽略二进制的数据。 将 binary 文件以 text 文件的方式搜寻数据 </span></span></span><br><span class="line"><span class="ruby">-A&lt;显示行数&gt;   --after-context=&lt;显示行数&gt;   <span class="comment">#除了显示符合范本样式的那一列之外，并显示该行之后的内容。   </span></span></span><br><span class="line"><span class="ruby">-b   --byte-offset   <span class="comment">#在显示符合样式的那一行之前，标示出该行第一个字符的编号。   </span></span></span><br><span class="line"><span class="ruby">-B&lt;显示行数&gt;   --before-context=&lt;显示行数&gt;   <span class="comment">#除了显示符合样式的那一行之外，并显示该行之前的内容。   </span></span></span><br><span class="line"><span class="ruby">-c    --count   <span class="comment">#计算符合样式的行数。   </span></span></span><br><span class="line"><span class="ruby">-C&lt;显示行数&gt;    --context=&lt;显示行数&gt;或-&lt;显示行数&gt;   <span class="comment">#除了显示符合样式的那一行之外，并显示该行之前后的内容。   </span></span></span><br><span class="line"><span class="ruby">-d &lt;动作&gt;      --directories=&lt;动作&gt;   <span class="comment">#当指定要查找的是目录而非文件时，必须使用这项参数，否则grep指令将回报信息并停止动作。   </span></span></span><br><span class="line"><span class="ruby">-e&lt;范本样式&gt;  --regexp=&lt;范本样式&gt;   <span class="comment">#指定字符串做为查找文件内容的样式。   </span></span></span><br><span class="line"><span class="ruby">-E      --extended-regexp   <span class="comment">#将样式为延伸的普通表示法来使用。   </span></span></span><br><span class="line"><span class="ruby">-f&lt;规则文件&gt;  --file=&lt;规则文件&gt;   <span class="comment">#指定规则文件，其内容含有一个或多个规则样式，让grep查找符合规则条件的文件内容，格式为每行一个规则样式。   </span></span></span><br><span class="line"><span class="ruby">-F   --fixed-regexp   <span class="comment">#将样式视为固定字符串的列表。   </span></span></span><br><span class="line"><span class="ruby">-G   --basic-regexp   <span class="comment">#将样式视为普通的表示法来使用。   </span></span></span><br><span class="line"><span class="ruby">-h   --no-filename   <span class="comment">#在显示符合样式的那一行之前，不标示该行所属的文件名称。   </span></span></span><br><span class="line"><span class="ruby">-H   --with-filename   <span class="comment">#在显示符合样式的那一行之前，表示该行所属的文件名称。   </span></span></span><br><span class="line"><span class="ruby">-i    --ignore-<span class="keyword">case</span>   <span class="comment">#忽略字符大小写的差别。   </span></span></span><br><span class="line"><span class="ruby">-l    --file-with-matches   <span class="comment">#列出文件内容符合指定的样式的文件名称。 </span></span></span><br><span class="line"><span class="ruby">-L   --files-without-match   <span class="comment">#列出文件内容不符合指定的样式的文件名称。   </span></span></span><br><span class="line"><span class="ruby">-n   --line-number   <span class="comment">#在显示符合样式的那一行之前，标示出该行的列数编号。   </span></span></span><br><span class="line"><span class="ruby">-q   --quiet或--silent   <span class="comment">#不显示任何信息。   </span></span></span><br><span class="line"><span class="ruby">-r   --recursive   <span class="comment">#此参数的效果和指定“-d recurse”参数相同。   </span></span></span><br><span class="line"><span class="ruby">-s   --no-messages   <span class="comment">#不显示错误信息。   </span></span></span><br><span class="line"><span class="ruby">-v   --revert-match   <span class="comment">#显示不包含匹配文本的所有行。   </span></span></span><br><span class="line"><span class="ruby">-V   --version   <span class="comment">#显示版本信息。   </span></span></span><br><span class="line"><span class="ruby">-w   --word-regexp   <span class="comment">#只显示全字符合的列。   </span></span></span><br><span class="line"><span class="ruby">-x    --line-regexp   <span class="comment">#只显示全列符合的列。   </span></span></span><br><span class="line"><span class="ruby">-y   <span class="comment">#此参数的效果和指定“-i”参数相同。</span></span></span><br><span class="line"><span class="ruby">--color=auto ：可以将找到的关键词部分加上颜色的显示</span></span><br></pre></td></tr></table></figure>

<p> <strong>使用实例：</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grep</span> -i pattern <span class="keyword">files</span> ：不区分大小写地搜索。默认情况区分大小写，</span><br><span class="line"><span class="keyword">grep</span> -<span class="keyword">l</span> pattern <span class="keyword">files</span> ：只列出匹配的文件名，</span><br><span class="line"><span class="keyword">grep</span> -L pattern <span class="keyword">files</span> ：列出不匹配的文件名，</span><br><span class="line"><span class="keyword">grep</span> -<span class="keyword">w</span> pattern <span class="keyword">files</span> ：只匹配整个单词，而不是字符串的一部分（如匹配‘magic’，而不是‘magical’），</span><br><span class="line"><span class="keyword">grep</span> -C <span class="keyword">number</span> pattern <span class="keyword">files</span> ：匹配的上下文分别显示[<span class="keyword">number</span>]行，</span><br><span class="line"><span class="keyword">grep</span> pattern1 | pattern2 <span class="keyword">files</span> ：显示匹配 pattern1 或 pattern2 的行，</span><br><span class="line"><span class="keyword">grep</span> pattern1 <span class="keyword">files</span> | <span class="keyword">grep</span> pattern2 ：显示既匹配 pattern1 又匹配 pattern2 的行。</span><br><span class="line">这里还有些用于搜索的特殊符号：</span><br><span class="line">&lt; 和 &gt; 分别标注单词的开始与结尾。</span><br><span class="line">例如：</span><br><span class="line"><span class="keyword">grep</span> man * 会匹配 ‘Batman’、‘manic’、‘man’等，</span><br><span class="line"><span class="keyword">grep</span> \<span class="string">'&lt;man\'</span> * 匹配‘manic’和‘man’，但不是‘Batman’，</span><br><span class="line"><span class="keyword">grep</span> \<span class="string">'&lt;man&gt;\'</span> 只匹配‘man’，而不是‘Batman’或‘manic’等其他的字符串。</span><br><span class="line">\<span class="string">'^\'</span>：指匹配的字符串在行首，</span><br><span class="line">\<span class="string">'$\'</span>：指匹配的字符串在行尾，</span><br><span class="line">如果您不习惯命令行参数，可以试试图形界面的‘<span class="keyword">grep</span>’，如 reXgrep 。这个软件提供 AND、OR、NOT 等语法，还有漂亮的按钮 :-) 。如果您只是需要更清楚的输出，不妨试试 fungrep 。</span><br><span class="line"></span><br><span class="line">.<span class="keyword">grep</span> 搜索字符串</span><br><span class="line">命令格式:</span><br><span class="line"><span class="keyword">grep</span> <span class="built_in">string</span> filename</span><br><span class="line">寻找字串的方法很多，比如说我想找所有以M开头的行.此时必须引进pattern的观</span><br><span class="line">念.以下是一些简单的□例，以及说明：</span><br><span class="line">^M 以M开头的行，^表示开始的意思</span><br><span class="line">M$ 以M结尾的行，$表示结束的意思</span><br><span class="line">^[<span class="number">0</span>-<span class="number">9</span>] 以数字开始的行，[]内可列举字母</span><br><span class="line">^[<span class="number">124</span><span class="keyword">ab</span>] 以<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="keyword">a</span>,或<span class="keyword">b</span>开头的行</span><br><span class="line">^<span class="keyword">b</span>.<span class="number">503</span> 句点表示任一字母</span><br><span class="line">* 星号表示<span class="number">0</span>个以上的字母(可以没有)</span><br><span class="line">+ 加号表示<span class="number">1</span>个以上的字母</span><br><span class="line">. 斜线可以去掉特殊意义</span><br><span class="line"><span class="symbol">&lt;eg&gt;</span> <span class="keyword">cat</span> passwd | <span class="keyword">grep</span> ^<span class="keyword">b</span> 列出大学部有申请帐号者名单</span><br><span class="line"><span class="keyword">cat</span> passwd | <span class="keyword">grep</span> ^s 列出交换学生申请帐号者名单</span><br><span class="line"><span class="keyword">cat</span> passwd | <span class="keyword">grep</span> \<span class="string">'^b.503\'</span> 列出电机系各年级...</span><br><span class="line"><span class="keyword">grep</span> \<span class="string">'^.\'</span> myfile.txt 列出所有以句点开头的行</span><br></pre></td></tr></table></figure>

<p> <strong>使用实例：</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、查找指定进程</span><br><span class="line">命令：<span class="keyword">ps</span> -ef|<span class="keyword">grep</span> java</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、查找指定进程个数</span><br><span class="line">命令：<span class="keyword">ps</span> -ef|<span class="keyword">grep</span> -<span class="keyword">c</span> java</span><br><span class="line">或<span class="keyword">ps</span> -ef|<span class="keyword">grep</span> java -<span class="keyword">c</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、从文件中读取关键词进行搜索，默认是显示的是行</span><br><span class="line">命令<span class="number">1</span>：<span class="keyword">cat</span> test.txt | <span class="keyword">grep</span> -<span class="keyword">f</span> test2.txt</span><br><span class="line">命令<span class="number">2</span>（**显示行号**）：<span class="keyword">cat</span> test.txt | <span class="keyword">grep</span> -**n**<span class="keyword">f</span> test2.txt</span><br><span class="line">作用：输出test.txt文件中含有从test2.txt文件中读取出的关键词的内容行，可用于按指定关键词（放到一个文件中）搜索日志文件。</span><br><span class="line"></span><br><span class="line">另一种用法：将多个文件之间相同的行输出来</span><br><span class="line"># <span class="keyword">cd</span> /etc/sysconfig/network-scripts/</span><br><span class="line"># <span class="keyword">grep</span>  <span class="string">"IPADDR"</span> ifcfg-eth0  ifcfg-<span class="keyword">lo</span>    #默认不加参数指定过滤关键字，外加多个文件，只是将多个文件里面有匹配的行输出</span><br><span class="line">ifcfg-eth0:IPADDR=<span class="number">192.168</span>.<span class="number">1.108</span></span><br><span class="line">ifcfg-<span class="keyword">lo</span>:IPADDR=<span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"># <span class="keyword">grep</span> **-<span class="keyword">f</span> ifcfg-eth0  ifcfg-<span class="keyword">lo</span>** #grep -<span class="keyword">f</span> 文件<span class="number">1</span> 文件<span class="number">2</span> ,会将多个文件之间相同的行输出出来</span><br><span class="line">ONBOOT=yes</span><br><span class="line"></span><br><span class="line">-<span class="keyword">o</span>:只显示被模式匹配到的字符串，而不是整个行</span><br><span class="line">命令：<span class="keyword">grep</span> -<span class="keyword">o</span> <span class="string">"you"</span> <span class="keyword">ab</span>.<span class="built_in">log</span> </span><br><span class="line"></span><br><span class="line"># <span class="keyword">grep</span> <span class="string">"root"</span>  /etc/passwd  #先看下正常的过滤，会将整个一行过滤出来</span><br><span class="line">roo<span class="variable">t:x</span>:<span class="number">0</span>:<span class="number">0</span>:roo<span class="variable">t:</span>/roo<span class="variable">t:</span>/bin/bash</span><br><span class="line">operator:<span class="keyword">x</span>:<span class="number">11</span>:<span class="number">0</span>:operator:/roo<span class="variable">t:</span>/sbin/nologin</span><br><span class="line"># <span class="keyword">grep</span> -<span class="keyword">o</span> <span class="string">"root"</span> /etc/passwd  #加<span class="keyword">o</span>之后的操作，只过滤关键字出来</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line">root</span><br><span class="line"># <span class="keyword">grep</span> -<span class="keyword">o</span> <span class="string">"root:.*0"</span> /etc/passwd   #加上正则表达式，这样才是正确的用法，不用输出一整行，只是输出一小段</span><br><span class="line">roo<span class="variable">t:x</span>:<span class="number">0</span>:<span class="number">0</span></span><br><span class="line"># <span class="keyword">grep</span> -<span class="keyword">o</span> <span class="string">"root"</span> -<span class="keyword">b</span>  /etc/passwd  </span><br><span class="line">-<span class="keyword">b</span>和-<span class="keyword">o</span>一般是配合使用的，一行中字符串的字符是从该行的第一个字符开始计算，起始值为<span class="number">0</span>。这里左边的数字就是此关键字在此文件中的起始位置，第一个root出现在<span class="number">0</span>位置，然后字符字母有一个算一个，你就一个个的向右数吧，下一个root出现在<span class="number">11</span>位置以此类推。</span><br><span class="line"><span class="number">0</span>:root</span><br><span class="line"><span class="number">11</span>:root</span><br><span class="line"><span class="number">17</span>:root</span><br><span class="line"><span class="number">414</span>:root</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、从文件中查找关键词，忽略大小写，默认情况区分大小写</span><br><span class="line">命令<span class="number">1</span>：<span class="keyword">grep</span> <span class="string">'linux'</span> test.txt</span><br><span class="line">命令<span class="number">2</span>（从多个文件中查找）：<span class="keyword">grep</span> <span class="string">'linux'</span> test.txt test2.txt</span><br><span class="line">　　多文件时，输出查询到的信息内容行时，会把文件的命名在行最前面输出并且加上<span class="string">":"</span>作为标示符</span><br><span class="line">命令<span class="number">3</span>（忽略大小写）：<span class="keyword">grep</span> -i  <span class="string">'linux'</span> test.txt</span><br><span class="line">命令：<span class="keyword">find</span> . -name <span class="string">".log"</span> | <span class="keyword">grep</span> -i error | <span class="keyword">grep</span> -<span class="keyword">vi</span> <span class="string">"info"</span></span><br><span class="line"><span class="number">1</span>）使用<span class="keyword">find</span> -name 来列出所有<span class="built_in">log</span>文件，重定向给<span class="keyword">grep</span></span><br><span class="line"><span class="number">2</span>）使用<span class="keyword">grep</span> -i 来查找包含error的行</span><br><span class="line"><span class="number">3</span>）使用<span class="keyword">grep</span> -<span class="keyword">vi</span> 来查找不包含info的行</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>、<span class="keyword">grep</span>不显示本身</span><br><span class="line">命令：</span><br><span class="line"><span class="keyword">ps</span> aux|<span class="keyword">grep</span> \[s]<span class="keyword">sh</span></span><br><span class="line"><span class="keyword">ps</span> aux | <span class="keyword">grep</span> ssh | <span class="keyword">grep</span> -v <span class="string">"grep"</span>    #不包含<span class="keyword">grep</span> ssh这条命令</span><br><span class="line"><span class="keyword">grep</span> -v root /etc/passwd | <span class="keyword">grep</span> -v nologin  #将/etc/passwd，将没有出现 root 和nologin的行取出来</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>、-r 递归查找子目录</span><br><span class="line"> 查找当前目录及其子目录下面包含匹配字符的文件</span><br><span class="line"># <span class="keyword">grep</span> ‘<span class="keyword">ab</span>’ * #在当前目录搜索带<span class="string">'ab'</span>行的文件</span><br><span class="line"># <span class="keyword">grep</span> -r ‘<span class="keyword">ab</span>’ * #在当前目录及其子目录下搜索<span class="string">'ab'</span>行的文件</span><br><span class="line"># <span class="keyword">grep</span> -<span class="keyword">l</span> -r ‘<span class="keyword">ab</span>’ * #在当前目录及其子目录下搜索<span class="string">'ab'</span>行的文件，但是不显示匹配的行，只显示匹配的文件</span><br><span class="line"># <span class="keyword">grep</span> -nr BLOG* . # 查找子目录，匹配后输出行号，这里的点表示当前目录</span><br><span class="line"># <span class="keyword">grep</span> -<span class="keyword">lr</span> BLOG* . #查找子目录，匹配后只输出文件名</span><br><span class="line"></span><br><span class="line">查询不包含某个目录</span><br><span class="line">#grep -R --exclude-dir=node_modules <span class="string">'some pattern'</span> /path/<span class="keyword">to</span>/<span class="built_in">search</span>  #不包含txt目录 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">7</span>、列出关键字所在行的前几行与后几行也一起显示</span><br><span class="line">-A -B -C</span><br><span class="line">很多时候，我们并关心匹配行而是关心匹配行的上下文。这时候-A -B -C就有用了</span><br><span class="line">-A n 后n行，A记忆为(After)</span><br><span class="line">-B n 前n行，B记忆为(Before)</span><br><span class="line">-C n 前n行，后n行，C记忆为(Center)</span><br><span class="line"></span><br><span class="line">[root@www ~]# dmesg | <span class="keyword">grep</span> -n -A3 -B2 --color=auto <span class="string">'eth'</span></span><br><span class="line"><span class="number">245</span>-PCI: setting IRQ <span class="number">10</span> <span class="keyword">as</span> level-triggered</span><br><span class="line"><span class="number">246</span>-ACPI: PCI Interrupt <span class="number">0000</span>:<span class="number">00</span>:<span class="number">0</span><span class="keyword">e</span>.<span class="number">0</span>[A] -&gt; Link [LNKB] ...</span><br><span class="line"><span class="number">247</span>:eth0: RealTek RTL8139 at <span class="number">0</span>xee846000, <span class="number">00</span>:<span class="number">90</span>:<span class="keyword">cc</span>:a6:<span class="number">34</span>:<span class="number">84</span>, IRQ <span class="number">10</span></span><br><span class="line"><span class="number">248</span>:eth0: Identified <span class="number">8139</span> chip <span class="built_in">type</span> <span class="string">'RTL-8139C'</span></span><br><span class="line"><span class="number">249</span>-inpu<span class="variable">t:</span> PC Speaker <span class="keyword">as</span> /class/<span class="built_in">input</span>/input2</span><br><span class="line"><span class="number">250</span>-ACPI: PCI Interrupt <span class="number">0000</span>:<span class="number">00</span>:<span class="number">01.4</span>[B] -&gt; Link [LNKB] ...</span><br><span class="line"><span class="number">251</span>-hd<span class="variable">b:</span> ATAPI <span class="number">48</span><span class="keyword">X</span> DVD-ROM DVD-R-RAM CD-R/RW drive, <span class="number">2048</span>kB Cache, UDMA(<span class="number">66</span>)</span><br><span class="line"># 如上所示，你会发现关键字 <span class="number">247</span> 所在的前两行及 <span class="number">248</span> 后三行也都被显示出来！</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>、--<span class="built_in">line</span>-buffered 打开buffering 模式</span><br><span class="line">有一个文件是动态的，它不断地添加信息到文件的尾部，而你想要输出包含某些信息的行。即持续的<span class="keyword">grep</span>一个动态的流</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>、<span class="keyword">e</span>与E区别</span><br><span class="line"><span class="keyword">grep</span>想同时过滤多个条件或操作</span><br><span class="line">错误写法：</span><br><span class="line"># netstat -<span class="keyword">an</span>|<span class="keyword">grep</span> <span class="string">"ESTABLISHED|WAIT"</span>    #默认<span class="keyword">grep</span>不支持多条件匹配   </span><br><span class="line">正确写法：</span><br><span class="line"># netstat -<span class="keyword">an</span>|<span class="keyword">grep</span> -E <span class="string">"ESTABLISHED|WAIT"</span>  #加上-E 多条件用<span class="string">""</span>包起来，然后多条件之间用|管道符分开</span><br><span class="line">tcp     <span class="number">0</span>   <span class="number">52</span> <span class="number">192.168</span>.<span class="number">1.108</span>:<span class="number">22</span>       <span class="number">192.168</span>.<span class="number">1.104</span>:<span class="number">54127</span>     ESTABLISHED </span><br><span class="line"># <span class="keyword">ps</span> -aux|<span class="keyword">grep</span> **-<span class="keyword">e</span> udevd -<span class="keyword">e</span> master**|awk &#123;<span class="string">'print $(NF-1)'</span>&#125;|<span class="keyword">sort</span>|uniq   #而-<span class="keyword">e</span>呢不用<span class="string">""</span>包起来，-<span class="keyword">e</span> 指定一个匹配条件</span><br><span class="line">/sbin/udevd</span><br><span class="line">/usr/bin/salt-master</span><br><span class="line"></span><br><span class="line"><span class="keyword">grep</span> -E <span class="string">'123|abc'</span> filename // 找出文件（filename）中包含<span class="number">123</span>或者包含<span class="keyword">abc</span>的行</span><br><span class="line">egrep <span class="string">'123|abc'</span> filename  // 用egrep同样可以实现</span><br><span class="line">awk <span class="string">'/123|abc/'</span> filename  // awk 的实现方式</span><br><span class="line"></span><br><span class="line">与操作</span><br><span class="line"><span class="keyword">grep</span> pattern1 <span class="keyword">files</span> | <span class="keyword">grep</span> pattern2 ：显示既匹配 pattern1 又匹配 pattern2 的行。</span><br><span class="line"></span><br><span class="line"><span class="number">10</span>、-<span class="keyword">c</span> 统计行数</span><br><span class="line"># <span class="keyword">grep</span> -i <span class="string">"abc"</span> test.txt|wc -<span class="keyword">l</span>  #不分大小写。test.txt里面包含<span class="keyword">abc</span>过滤条件的为<span class="number">2</span>行</span><br><span class="line"><span class="number">2</span></span><br><span class="line"># <span class="keyword">grep</span> -yc <span class="string">"abc"</span> test.txt  #-<span class="keyword">c</span>呢，就是不显示行的内容，直接显示有几行</span><br><span class="line"><span class="number">2</span></span><br><span class="line"># <span class="keyword">cat</span>  /etc/passwd|wc -<span class="keyword">l</span> </span><br><span class="line"><span class="number">55</span></span><br><span class="line"># <span class="keyword">grep</span>  -<span class="keyword">c</span> <span class="string">"^.*$"</span> /etc/passwd  #那么我们除了wc -<span class="keyword">l</span>用来统一一个文件有多少行以外，又多了一种统计文件多少行的方法</span><br><span class="line"><span class="number">55</span></span><br><span class="line"></span><br><span class="line"><span class="number">11</span>、 -<span class="keyword">m</span>的使用</span><br><span class="line"># <span class="keyword">cat</span> test2.txt  #这是测试文件</span><br><span class="line"><span class="keyword">abc</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">abc</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">abc</span> <span class="number">3</span></span><br><span class="line"><span class="keyword">abc</span> <span class="number">4</span></span><br><span class="line"><span class="keyword">abc</span> <span class="number">5</span></span><br><span class="line"></span><br><span class="line"># <span class="keyword">grep</span> -<span class="keyword">m</span> <span class="number">3</span> <span class="string">"abc"</span> test2.txt  #只匹配到了第三行就退出了</span><br><span class="line"><span class="keyword">abc</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">abc</span> <span class="number">2</span></span><br><span class="line"><span class="keyword">abc</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>与正则表达式结合</strong></p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">grep的规则表达式:</span><br><span class="line">\     反义字符：如<span class="string">"\"</span>\<span class="string">""</span>表示匹配<span class="string">""</span></span><br><span class="line">[ - ] 匹配一个范围，[<span class="number">0</span><span class="number">-9</span>a-zA-Z]匹配所有数字和字母</span><br><span class="line">* 所有字符，长度可为<span class="number">0</span></span><br><span class="line">+ 前面的字符出现了一次或者多次</span><br><span class="line">^  <span class="meta">#匹配行的开始 如：<span class="string">'^grep'</span>匹配所有以grep开头的行。    </span></span><br><span class="line">$  <span class="meta">#匹配行的结束 如：<span class="string">'grep$'</span>匹配所有以grep结尾的行。    </span></span><br><span class="line">.  <span class="meta">#匹配一个非换行符的字符 如：<span class="string">'gr.p'</span>匹配gr后接一个任意字符，然后是p。    </span></span><br><span class="line">*  <span class="meta">#匹配零个或多个先前字符 如：<span class="string">'*grep'</span>匹配所有一个或多个空格后紧跟grep的行。    </span></span><br><span class="line">.*   <span class="meta">#一起用代表任意字符。   </span></span><br><span class="line">[]   <span class="meta">#匹配一个指定范围内的字符，如<span class="string">'[Gg]rep'</span>匹配Grep和grep。    </span></span><br><span class="line">[^]  <span class="meta">#匹配一个不在指定范围内的字符，如：<span class="string">'[^A-FH-Z]rep'</span>匹配不包含A-R和T-Z的一个字母开头，紧跟rep的行。    </span></span><br><span class="line">\(..\)  <span class="meta">#标记匹配字符，如<span class="string">'\(love\)'</span>，love被标记为1。    </span></span><br><span class="line">\&lt;      <span class="meta">#到匹配正则表达式的行开始，如:<span class="string">'\&lt;grep'</span>匹配包含以grep开头的单词的行。    </span></span><br><span class="line">\&gt;      <span class="meta">#到匹配正则表达式的行结束，如<span class="string">'grep\&gt;'</span>匹配包含以grep结尾的单词的行。    </span></span><br><span class="line">x\&#123;m\&#125;  <span class="meta">#重复字符x，m次，如：<span class="string">'0\&#123;5\&#125;'</span>匹配包含5个o的行。    </span></span><br><span class="line">x\&#123;m,\&#125;  <span class="meta">#重复字符x,至少m次，如：<span class="string">'o\&#123;5,\&#125;'</span>匹配至少有5个o的行。    </span></span><br><span class="line">x\&#123;m,n\&#125;  <span class="meta">#重复字符x，至少m次，不多于n次，如：<span class="string">'o\&#123;5,10\&#125;'</span>匹配5--10个o的行。   </span></span><br><span class="line">\w    <span class="meta">#匹配文字和数字字符，也就是[A-Za-z0-9]，如：<span class="string">'G\w*p'</span>匹配以G后跟零个或多个文字或数字字符，然后是p。   </span></span><br><span class="line">\W    <span class="meta">#\w的反置形式，匹配一个或多个非单词字符，如点号句号等。   </span></span><br><span class="line">\b    <span class="meta">#单词锁定符，如: <span class="string">'\bgrep\b'</span>只匹配grep。  </span></span><br><span class="line">POSIX字符:</span><br><span class="line">为了在不同国家的字符编码中保持一至，POSIX(The Portable Operating System Interface)增加了特殊的字符类，如[:alnum:]是[A-Za-z0<span class="number">-9</span>]的另一个写法。要把它们放到[]号内才能成为正则表达式，如[A- Za-z0<span class="number">-9</span>]或[[:alnum:]]。在linux下的grep除fgrep外，都支持POSIX的字符类。</span><br><span class="line">[:alnum:]    <span class="meta">#文字数字字符   </span></span><br><span class="line">[:alpha:]    <span class="meta">#文字字符   </span></span><br><span class="line">[:digit:]    <span class="meta">#数字字符   </span></span><br><span class="line">[:graph:]    <span class="meta">#非空字符（非空格、控制字符）   </span></span><br><span class="line">[:lower:]    <span class="meta">#小写字符   </span></span><br><span class="line">[:cntrl:]    <span class="meta">#控制字符   </span></span><br><span class="line">[:print:]    <span class="meta">#非空字符（包括空格）   </span></span><br><span class="line">[:punct:]    <span class="meta">#标点符号   </span></span><br><span class="line">[:space:]    <span class="meta">#所有空白字符（新行，空格，制表符）   </span></span><br><span class="line">[:upper:]    <span class="meta">#大写字符   </span></span><br><span class="line">[:xdigit:]   <span class="meta">#十六进制数字（0-9，a-f，A-F）</span></span><br></pre></td></tr></table></figure>

<p> <strong>使用实例：</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">例：通过管道过滤<span class="keyword">ls</span> -<span class="keyword">l</span>输出的内容，只显示以<span class="keyword">a</span>开头的行。</span><br><span class="line">首与行尾字节 ^ $，^ 符号，在字符类符号(括号[])之内与之外是不同的！ 在 [] 内代表『反向选择』，在 [] 之外则代表定位在行首的意义！</span><br><span class="line">$ <span class="keyword">ls</span> -<span class="keyword">l</span> | <span class="keyword">grep</span> \<span class="string">'^a\'</span></span><br><span class="line">$ <span class="keyword">ls</span> -<span class="keyword">l</span> | <span class="keyword">grep</span>  ^<span class="keyword">a</span></span><br><span class="line">$ <span class="keyword">ls</span> -<span class="keyword">l</span> | <span class="keyword">grep</span>  ^[^<span class="keyword">a</span>]    #输出非<span class="keyword">a</span>开头的行，反向选择</span><br><span class="line">$ <span class="keyword">grep</span> -n <span class="string">'^$'</span> express.txt    #找出空白行，因为只有行首跟行尾 (^$)</span><br><span class="line"></span><br><span class="line">例：显示所有以d开头的文件中包含test的行。</span><br><span class="line">$ <span class="keyword">grep</span> \<span class="string">'test\'</span> d*</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">例：输出以hat结尾的行内容</span><br><span class="line">$ <span class="keyword">cat</span> test.txt |<span class="keyword">grep</span> hat$</span><br><span class="line"></span><br><span class="line">例：显示在aa，bb，<span class="keyword">cc</span>文件中匹配test的行。</span><br><span class="line">$ <span class="keyword">grep</span> \<span class="string">'test\'</span> aa bb <span class="keyword">cc</span></span><br><span class="line"></span><br><span class="line">例：显示所有包含每个字符串至少有<span class="number">5</span>个连续小写字符的字符串的行。</span><br><span class="line">在一组集合字节中，如果该字节组是连续的，例如大写英文/小写英文/数字等等，就可以使用[<span class="keyword">a</span>-<span class="keyword">z</span>],[A-Z],[<span class="number">0</span>-<span class="number">9</span>]等方式来书写，那么如果我们的要求字串是数字与英文呢？就将他全部写在一起，变成：[<span class="keyword">a</span>-zA-Z0-<span class="number">9</span>]。</span><br><span class="line">$ <span class="keyword">grep</span> \<span class="string">'[a-z]&#123;5&#125;\'</span> aa</span><br><span class="line">$ <span class="keyword">grep</span> -n <span class="string">'[0-9]'</span> regular_express.txt  　#取得有数字的那一行</span><br><span class="line">$ <span class="keyword">grep</span> -n <span class="string">'^[a-z]'</span> regular_express.txt 　　 #只输出开头是小写字母的那一行</span><br><span class="line">$ <span class="keyword">grep</span> -n <span class="string">'^[^a-zA-Z]'</span> regular_express.txt  #不输出开头是英文的</span><br><span class="line">$ <span class="keyword">grep</span> -n <span class="string">'\.$'</span> regular_express.txt  　　　　 #只输出行尾结束为小数点 (.) 的那一行</span><br><span class="line">注意：小数点具有其他意义，所以必须要使用转义字符(\)来加以解除其特殊意义！</span><br><span class="line"></span><br><span class="line">例：显示包含ed或者at字符的内容行</span><br><span class="line">命令：<span class="keyword">cat</span> test.txt |<span class="keyword">grep</span> -E <span class="string">"ed|at"</span></span><br><span class="line"></span><br><span class="line">例：如果west被匹配，则es就被存储到内存中，并标记为<span class="number">1</span>，然后搜索任意个字符（.*），这些字符后面紧跟着另外一个es（<span class="number">1</span>），找到就显示该行。如果用egrep或<span class="keyword">grep</span> -E，就不用<span class="string">""</span>号进行转义，直接写成\<span class="string">'w(es)t.*1\'</span>就可以了。</span><br><span class="line">$ <span class="keyword">grep</span> \<span class="string">'w(es)t.*1\'</span> aa</span><br><span class="line"></span><br><span class="line">例：显示当前目录下面以.txt 结尾的文件中的所有包含每个字符串至少有<span class="number">7</span>个连续小写字符的字符串的行</span><br><span class="line">命令：<span class="keyword">grep</span> <span class="string">'[a-z]\&#123;7\&#125;'</span> *.txt</span><br><span class="line"></span><br><span class="line">例：查询IP地址、邮箱、手机号</span><br><span class="line">这里用到了-<span class="keyword">o</span>和-<span class="keyword">P</span>命令</span><br><span class="line">man <span class="keyword">grep</span>查看</span><br><span class="line">-<span class="keyword">o</span>, --<span class="keyword">only</span>-matching：</span><br><span class="line">       Show <span class="keyword">only</span> the part of <span class="keyword">a</span> matching <span class="built_in">line</span> that matches PATTERN.</span><br><span class="line">-<span class="keyword">P</span>, --<span class="keyword">perl</span>-regexp：</span><br><span class="line">       Interpret PATTERN <span class="keyword">as</span> <span class="keyword">a</span> Perl regular expression.</span><br><span class="line">也就是说-<span class="keyword">o</span>，只显示匹配行中匹配正则表达式的那部分，-<span class="keyword">P</span>，作为Perl正则匹配</span><br><span class="line"><span class="number">192.168</span>.<span class="number">0.1</span></span><br><span class="line">abc@<span class="number">163</span>.<span class="keyword">com</span></span><br><span class="line">匹配ABC类IP地址即 <span class="number">1.0</span>.<span class="number">0.1</span>---<span class="number">223.255</span>.<span class="number">255.254</span></span><br><span class="line">命令（IP）：<span class="keyword">grep</span> -oP <span class="string">"([0-9]&#123;1,3&#125;\.)&#123;3&#125;[0-9]&#123;1,3&#125;"</span> <span class="keyword">file</span>.txt</span><br><span class="line">或<span class="keyword">grep</span> -E --color <span class="string">"\&lt;([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-1][0-9]|22[0-3])\.([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-4])\&gt;"</span> <span class="keyword">file</span>.txt</span><br><span class="line"></span><br><span class="line">邮箱是任意长度数字字母@任意长度数字字母</span><br><span class="line">命令（邮箱）：<span class="keyword">grep</span> -oP <span class="string">"[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+"</span> <span class="keyword">file</span>.txt</span><br><span class="line">手机号码是<span class="number">1</span>[<span class="number">3</span>|<span class="number">4</span>|<span class="number">5</span>|<span class="number">8</span>]后面接<span class="number">9</span>位数字的</span><br><span class="line">命令（手机号）：<span class="keyword">grep</span> -E <span class="string">"\&lt;1[3|4|5|8][0-9]&#123;9&#125;\&gt;"</span> <span class="keyword">file</span>.txt</span><br><span class="line"></span><br><span class="line">例：任意一个字节 . 与重复字节</span><br><span class="line">. (小数点)：代表『一定有一个任意字节』的意思；</span><br><span class="line">* (星号)：代表『重复前一个字符， <span class="number">0</span> 到无穷多次』的意思，为组合形态</span><br><span class="line">$ <span class="keyword">grep</span> -n <span class="string">'[0-9][0-9]*'</span> regular_express.txt   #找出『任意数字』的行</span><br><span class="line">$ <span class="keyword">grep</span> -n <span class="string">'g.*g'</span> regular_express.txt    #找出以g行首与行尾的行，当中的字符可有可无</span><br><span class="line">这个 .* 的 RE 表示任意字符是很常见的.</span><br><span class="line"></span><br><span class="line">例：限定连续 RE 字符范围 &#123;&#125;</span><br><span class="line">利用 . 与 RE 字符及 * 来配置 <span class="number">0</span> 个到无限多个重复字节</span><br><span class="line">打算找出两个到五个 <span class="keyword">o</span> 的连续字串，该如何作？这时候就得要使用到限定范围的字符 &#123;&#125; 了。 但因为 &#123; 与 &#125; 的符号在 <span class="keyword">shell</span> 是有特殊意义的，因此， 我们必须要使用字符  \ 来让他失去特殊意义才行。 </span><br><span class="line">$ <span class="keyword">grep</span> -n <span class="string">'o\&#123;2\&#125;'</span> regular_express.txt</span><br><span class="line">$ <span class="keyword">grep</span> -n <span class="string">'go\&#123;2,5\&#125;g'</span> regular_express.txt  #要找出 g 后面接 <span class="number">2</span> 到 <span class="number">5</span> 个 <span class="keyword">o</span> ，然后再接一个 g 的字串</span><br><span class="line">$ <span class="keyword">grep</span> -n <span class="string">'go\&#123;2,\&#125;g'</span> regular_express.txt   #想要的是 <span class="number">2</span> 个 <span class="keyword">o</span> 以上的 goooo....g 呢？除了可以是 gooo*g</span><br></pre></td></tr></table></figure>

<h2 id="三、进程管理"><a href="#三、进程管理" class="headerlink" title="三、进程管理"></a>三、进程管理</h2><p><strong>进程的定义</strong>：<br>进程是操作系统的概念,每当我们执行个程序时,对于操作系统来讲就创建一个进程,在这个过程中,伴随着资源分配和释放。可以认为进程是一个程序的一次执行过程。<br><strong>进程与程序的区别</strong>：<br>程序时静态的,它是一些保存在磁盘上得指令的有序集合,没有任何执行的概念<br>进程是一个动态的概念，它是程序执行的过程,包括创建、调度和消亡。</p>
<p> <strong>ps命令</strong>           </p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">【命令是最基本同时也是非常强大的进程査看命令】</span></span><br><span class="line"><span class="meta">语法</span>: <span class="string">ps    [选项]</span></span><br><span class="line"><span class="meta">査看系统所有进程</span>:<span class="string"></span></span><br><span class="line"><span class="attr">ps</span>  <span class="string">aux=ps  -aux</span></span><br><span class="line"><span class="attr">ps</span>  <span class="string">-ef</span></span><br><span class="line"><span class="attr">a</span>		<span class="string">所有进程都显示出来;    </span></span><br><span class="line"><span class="attr">u</span>		<span class="string">有效用户;   </span></span><br><span class="line"><span class="attr">x</span>		<span class="string">显示没有控制终端的进程    </span></span><br><span class="line"><span class="attr">f</span>		<span class="string">完整输出           </span></span><br><span class="line"><span class="attr">e</span>		<span class="string">显示所有的进程</span></span><br><span class="line"></span><br><span class="line"><span class="meta">au(x)</span>	<span class="string">输出格式:</span></span><br><span class="line"><span class="attr">USER</span>:	 	<span class="string">进程的所有者</span></span><br><span class="line"><span class="attr">PID</span>: 		<span class="string">进程ID</span></span><br><span class="line"><span class="meta">%CPU</span>:		<span class="string">占用的CPU使用率</span></span><br><span class="line"><span class="meta">%MEM</span>:		<span class="string">占用的内存使用率</span></span><br><span class="line"><span class="attr">VSZ</span>:		<span class="string">占用的.由拟内存大小</span></span><br><span class="line"><span class="attr">Rss</span>:		<span class="string">占用的内存大小</span></span><br><span class="line"><span class="attr">TTY</span>:		<span class="string">终端的次要装置号码</span></span><br><span class="line"><span class="attr">STAT</span>: 		<span class="string">进程程状态：</span></span><br><span class="line"><span class="attr">START</span>: 		<span class="string">启动进程的时间</span></span><br><span class="line"><span class="attr">TIME</span>: 		<span class="string">进程消耗CPU的时间</span></span><br><span class="line"><span class="attr">COMMAND</span>:	<span class="string">命令的名称和参数 </span></span><br><span class="line"></span><br><span class="line"><span class="attr">举例：</span></span><br><span class="line"><span class="attr">ps</span>  <span class="string">-ef | grep 		目标査找的进程</span></span><br><span class="line"><span class="attr">ps</span>  <span class="string">-ef | grep  ssh</span></span><br><span class="line"><span class="attr">ls</span>  <span class="string">| grep  a</span></span><br></pre></td></tr></table></figure>

<p><strong>|   管道符号</strong>   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">【把前一个命令的处理结果交给后一个命令执行】</span><br></pre></td></tr></table></figure>

<p><strong>kill命令</strong>       </p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">【通过向进程发送指定的信号来结束进程的】</span><br><span class="line"><span class="keyword">kill</span>    [选项]    进程号</span><br><span class="line"><span class="keyword">kill</span>  -<span class="number">9</span>     强行杀掉指定进程</span><br><span class="line"></span><br><span class="line">举例：</span><br><span class="line">ps  -ef  |<span class="keyword">grep</span>  ssh</span><br><span class="line"><span class="keyword">kill</span>  <span class="number">7828</span>（前面的数字）或者<span class="keyword">kill</span>  -<span class="number">9</span>  <span class="number">7828</span></span><br><span class="line">pkill ssh</span><br></pre></td></tr></table></figure>

<p> <strong>top命令</strong>  </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">动态进程</span><br><span class="line"><span class="selector-tag">-</span> <span class="selector-tag">top</span>命令和<span class="selector-tag">ps</span> 命令的基本作用是相同的, 显示系统当前的进程和其他状况;但是<span class="selector-tag">top</span>是一个动态显示过程,即可以通过用户按键来不断刷新当前状态</span><br><span class="line"><span class="selector-tag">-</span> 比较准确的说, <span class="selector-tag">top</span>命令提供了实时的对系统处理器的状态监视</span><br><span class="line"><span class="selector-tag">-</span> 语法格式:</span><br><span class="line"><span class="selector-tag">top</span>  <span class="selector-attr">[-]</span>  <span class="selector-attr">[d delay]</span>  <span class="selector-attr">[q]</span>  <span class="selector-attr">[c]</span>  <span class="selector-attr">[s]</span>  <span class="selector-attr">[S]</span>  <span class="selector-attr">[i]</span> </span><br><span class="line"><span class="selector-tag">top</span>之后【按1】</span><br></pre></td></tr></table></figure>

<h2 id="四、压缩包"><a href="#四、压缩包" class="headerlink" title="四、压缩包"></a>四、压缩包</h2><p><strong>tar包</strong></p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">unix系统打包工具tar制作           </span><br><span class="line">tar包参数说明:</span><br><span class="line">-c，建立新的各份文件;打包</span><br><span class="line">-x，将各份文件解开;  解包</span><br><span class="line">-t，列出各份文件的内容;  査看</span><br><span class="line">-v，在处理文件时显示更多的信息;  显示</span><br><span class="line">-f ，filename指定filename为读出或写人的各份文件的文件名</span><br><span class="line">-z，压缩文件</span><br><span class="line"></span><br><span class="line">文件打包语法：</span><br><span class="line">tar -cvf    目标文件名<span class="string">.tar</span>  源文件</span><br><span class="line"></span><br><span class="line">文件解包语法:</span><br><span class="line">tar -xvf    目标文件名<span class="string">.tar</span></span><br><span class="line"></span><br><span class="line">文件压缩语法:</span><br><span class="line">tar -zcvf    目标文件名<span class="string">.tar.gz</span>  源文件</span><br><span class="line">tar -zcvf    目标文件名<span class="string">.tgz</span>      源文件</span><br><span class="line"></span><br><span class="line">文件解压语法:</span><br><span class="line">tar-zxvf    目标文件名<span class="string">.tar.gz</span></span><br><span class="line">tar-zxvf    目标文件名<span class="string">.tgz</span></span><br><span class="line"></span><br><span class="line">举例:将整个<span class="string">/etc</span>目录下的文件全部打包成为<span class="string">/tmp/etc.tar</span></span><br><span class="line">tar -cvf <span class="string">/tmp/etc.tar</span> <span class="string">/etc</span>        仅打包,不压缩!</span><br><span class="line">tar -zcvf <span class="string">/tmp/etc.tar.gz</span> <span class="string">/etc</span>    打包后, 以gzip压缩</span><br><span class="line">·ar -ztvf <span class="string">/tep/etc.tar.gz</span>         看打包中的文件</span><br><span class="line">tar -tvf <span class="string">/tmp/etc.tar</span>             査看打包中的文件</span><br><span class="line">-特别注意,在参数f之后的文件名是自己取的,我们习惯上都用<span class="string">.tar</span>来作为辨识</span><br><span class="line">-如果加z参数, 则以<span class="string">.tar.gz</span>或<span class="string">.tgz</span>来代表gzip压缩过的tar file</span><br><span class="line">-上述指令在执行的时候,会显示一个警告讯息: 那是关于绝对路径的特殊设定。</span><br><span class="line">tar  -cvf  d.tar  Desktop        【<span class="string">.tar</span>为后缀，Desktop为源文件】</span><br><span class="line">tar  -cvf  <span class="string">/home/dir1.tar</span>  dir2  【把打包文件放到<span class="string">/home</span>下】</span><br><span class="line">tar  -xvf  dir.tar               【解包】</span><br><span class="line">tar  -xvf  dir.tar  -C  wang  【解包到wang下<span class="params">(-C表示指定路径，wang为路径）】</span></span><br><span class="line"><span class="params">tar  -zcvf  dir2.tar.gz  dir2 【其中dir2.tar.<span class="attr">gz</span>=dir2.tgz)</span>打包后, 以gzip压缩】</span><br><span class="line">tar  -zxvf  zcw.tgz  -C  <span class="string">/home/wang</span>  【解压包到<span class="string">/home/wang</span>】</span><br></pre></td></tr></table></figure>

<p><strong>zip包</strong>            </p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">【将文件打包为<span class="keyword">zip</span>格式的压缩文件】</span><br><span class="line"><span class="keyword">zip</span>  filename.<span class="keyword">zip</span>  <span class="keyword">file</span></span><br><span class="line">常用参数:  </span><br><span class="line">-r递归压缩</span><br><span class="line"></span><br><span class="line">unzip是从<span class="keyword">zip</span>包中解压出某个文件</span><br><span class="line">unzip    文件名.<span class="keyword">zip</span></span><br><span class="line">unzip    文件名.<span class="keyword">zip</span>  -<span class="keyword">d</span>  路径</span><br><span class="line"><span class="keyword">zip</span>  sec.<span class="keyword">zip</span>  secwecpt.chm</span><br><span class="line"><span class="keyword">zip</span>  -r  setup.<span class="keyword">zip</span>  setup 【(setup为目录）压缩setup以及下面的文件】</span><br></pre></td></tr></table></figure>

<p><strong>gzip包</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">gzip</span>    <span class="selector-attr">[选项]</span>    压缩文件名</span><br><span class="line">选项:</span><br><span class="line"><span class="selector-tag">-c</span>将输出写到标准输出上, 并保留原有文件</span><br><span class="line"><span class="selector-tag">-d</span>将压缩文件解压</span><br><span class="line"><span class="selector-tag">-1</span>对每个压缩文件,显示压缩文件的大小,未压缩文件的大小压缩比,未压缩文件的名字</span><br><span class="line"><span class="selector-tag">-f</span>速归式地査找指定目录并压缩其中的所有文件或者是解压缩.</span><br><span class="line"><span class="selector-tag">-t</span>测试,检査压缩文件是否完整</span><br><span class="line"><span class="selector-tag">-v</span>对每一个压缩和解压的文件,显示文件名和压缩比。</span><br><span class="line"><span class="selector-tag">gzip</span> <span class="selector-attr">[-cdv...]</span> <span class="selector-attr">[-S ...]</span> <span class="selector-attr">[file...]</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">gzip</span>    源文件</span><br><span class="line"><span class="selector-tag">gzip</span>  <span class="selector-tag">-r</span>    源文件分别压缩文件下面的文件</span><br><span class="line"><span class="selector-tag">gzip</span>  <span class="selector-tag">-c</span>    源文件&gt; <span class="selector-tag">a</span><span class="selector-class">.gz</span></span><br><span class="line">解压缩</span><br><span class="line"><span class="selector-tag">gzip</span>  <span class="selector-tag">-d</span>  <span class="selector-tag">test</span><span class="selector-class">.txt</span><span class="selector-class">.gz</span></span><br><span class="line"><span class="selector-tag">gunzip</span>  <span class="selector-tag">test</span><span class="selector-class">.gz</span></span><br><span class="line"><span class="selector-tag">gzip</span>  <span class="selector-tag">passwd</span> （会删除源文件）</span><br><span class="line"><span class="selector-tag">gzip</span>  <span class="selector-tag">-c</span>  <span class="selector-tag">passwd</span>&gt;<span class="selector-tag">p</span><span class="selector-class">.gz</span> 压缩<span class="selector-tag">pad</span>，命名为<span class="selector-tag">p</span><span class="selector-class">.gz</span>(源文件不删除）</span><br></pre></td></tr></table></figure>

<p><strong>rpm包</strong></p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby"> RedHat公司提供的软件包封装格式</span></span><br><span class="line"><span class="ruby">- rpm是以一种数据库记录的方式来将你所需要的套件安装到你的Liux主机的一套管理程序 。</span></span><br><span class="line"><span class="ruby">/etc一些配置文件放置的目录, 例如/etc/crontab</span></span><br><span class="line"><span class="ruby">/usr/bin一些可执行文件案</span></span><br><span class="line"><span class="ruby">/usr/lib-一些程序使用的动态函式库</span></span><br><span class="line"><span class="ruby">/usr/share/doc一些基本的软件使用手册与说明文件        </span></span><br><span class="line"><span class="ruby">/us/share/man一些manpage档案</span></span><br><span class="line"></span><br><span class="line"><span class="ruby">参数说明<span class="symbol">:</span></span></span><br><span class="line"><span class="ruby">-i, insta11;（安装）</span></span><br><span class="line"><span class="ruby">-v，査看更详细的安装信息画面</span></span><br><span class="line"><span class="ruby">-h，以安装信息栏显示安装进度</span></span><br><span class="line"><span class="ruby">-q，仅査询;</span></span><br><span class="line"><span class="ruby">-a，所有;</span></span><br><span class="line"><span class="ruby">-U,软件包更新;</span></span><br><span class="line"><span class="ruby">-e，erase卸裁;</span></span><br><span class="line"></span><br><span class="line"><span class="ruby">- rpm常用命令</span></span><br><span class="line"><span class="ruby">安装rpm  -ivh  vim-<span class="number">4.6</span>-<span class="number">4</span>srcrpm</span></span><br><span class="line"><span class="ruby">升级rpm  -Uvh  vim-<span class="number">4.6</span>-<span class="number">4</span>src.rpm</span></span><br><span class="line"><span class="ruby">卸载rpm  -e  vsftpd</span></span><br><span class="line"><span class="ruby">列出出详细信息 rpm  -qi  vsftpd</span></span><br><span class="line"><span class="ruby">查询rpm  -q 软件名称</span></span><br><span class="line"><span class="ruby">查询rpm  -qa  <span class="params">|grep 名称</span></span></span><br><span class="line"><span class="ruby">rpm  -qa <span class="params">|grep  ftp</span></span></span><br><span class="line"><span class="ruby">列出配置文件rpm  -qc</span></span><br><span class="line"><span class="ruby">查询所属包rpm  -qf文件名(偶尔)</span></span><br><span class="line"></span><br><span class="line"><span class="ruby">- rpm依赖包安装   </span></span><br><span class="line"><span class="ruby">如果我们在安装的过程当中发现问题, 或者已经知道会发生的同题,  而还是『执意』要安装这个套件时,可以.使用如下的参数『强制』安装上去。</span></span><br><span class="line"><span class="ruby"> --nodeps使用时机:  如果在安装某个套件时,老是发现rpm告诉你『有属性相依的套件尚未安装』,而又想要直接强制安装这个套件时, 可以加上--nodeps告知RPM不要去检査套件的相依性。</span></span><br><span class="line"><span class="ruby">rpm  -e   vsftp-<span class="number">22.2323</span>.<span class="number">011</span>.rpm   --nRedeps  </span></span><br><span class="line"><span class="ruby">注：危险性:  套件会有相依性的原因是因为彼此会使用到对方的机制或功能,如果强制安装而不考虑套件的属性相依,则可能会造成该套件的无法正常使用</span></span><br></pre></td></tr></table></figure>

<h2 id="五、磁盘管理"><a href="#五、磁盘管理" class="headerlink" title="五、磁盘管理"></a>五、磁盘管理</h2><p><strong>mount</strong>命令</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mount  <span class="string">/dev/cdrom</span>  <span class="string">/mnt</span></span><br><span class="line"><span class="keyword">cd</span>  <span class="string">/mnt</span></span><br><span class="line"></span><br><span class="line"><span class="string">/etc/fstab</span> </span><br><span class="line">mount -a</span><br></pre></td></tr></table></figure>

<p><strong>df命令</strong>        </p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">【功能:检査文件系统的磁盘空间占用情况】</span><br><span class="line">语法: df [选项]</span><br><span class="line">选项:</span><br><span class="line"><span class="deletion">-a显示所有文件系统的磁盘使用情况,包括0块(b1ock)的文件系统, 如/proc文件系统。</span></span><br><span class="line"><span class="deletion">-k  以k字节为单位显示</span></span><br><span class="line"><span class="deletion">-i  显示i节点信息,而不是磁盘块,                           .</span></span><br><span class="line"><span class="deletion">-t  显示各指定类型的文件系统的磁盘空间使用情况 </span></span><br><span class="line"><span class="deletion">-h 以人们较易阅读的GB、 MB、 KB等格式自行显示</span></span><br></pre></td></tr></table></figure>

<p><strong>磁常管理</strong> </p>
<figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">du（disk usage）命令   【功能:统计目录(或文件)所占磁盘空间的大小】</span></span><br><span class="line"><span class="attribute">语法</span>: du    [选项]     [Names...]</span><br><span class="line">说明: 该命令逐级进入指定目录的每一个子目录并显示该目录占用文件系统数据块(1024字节)的情况,若没有给出Names则对当前目录进行统计, 默认以KB输出</span><br><span class="line">常用参数:</span><br><span class="line"><span class="literal">-s    对每个Names参数只给出占用的数据块总数</span></span><br><span class="line"><span class="literal">-a    递归地显示指定目录中各文件及子孙目录中各文件占用的数据块数</span></span><br><span class="line"><span class="literal">-b    以字节为单位歹l1出磁盘空间使用情况(系统缺省以k字节为单位) 。</span></span><br><span class="line"><span class="literal">-k    以1024字节为单.位.fl1出磁盘空间使用情况。</span></span><br><span class="line"><span class="literal">-c    最后再加上一个总计（系统缺省设置）。</span></span><br><span class="line"><span class="literal">-l    计算所有的文件大小，对硬链接文件，则计算多次。</span></span><br><span class="line"><span class="literal">-h    以人们较易阅读的GB、 MB、 KB等格式自行显示</span></span><br><span class="line">举例：</span><br><span class="line"><span class="attribute">du  -sh  查看文件具体大小</span></span><br></pre></td></tr></table></figure>

<p><strong>补充：</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PPID复进程</span><br><span class="line">rz 上传window上的文件到linux</span><br><span class="line">&gt; 重定向（覆盖）比如：who&gt;<span class="number">2.</span>txt 意思就是把who查询的内容输入到<span class="number">2.</span>txt里面，如果<span class="number">2</span>里面有内容会被覆盖）</span><br><span class="line">&gt;&gt; 追加（不覆盖，追加在内容结尾）ls&gt;&gt; <span class="number">1.</span>txt在<span class="number">1</span>内容后追加ls的查询结果</span><br></pre></td></tr></table></figure>

<h1 id="003-linux用户与组的管理"><a href="#003-linux用户与组的管理" class="headerlink" title="003-linux用户与组的管理"></a>003-linux用户与组的管理</h1><h2 id="一、-用户与组的管理"><a href="#一、-用户与组的管理" class="headerlink" title="一、 用户与组的管理"></a>一、 用户与组的管理</h2><p>常用命令:</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">·groupadd，groupmod ,groupdel </span><br><span class="line">·useradd，usermod，userdel</span><br><span class="line">·passwd，gpasswd，groups <span class="keyword">new</span><span class="type">grp</span></span><br><span class="line"><span class="type"></span>·id ，who</span><br></pre></td></tr></table></figure>

<p>用户管理：<br>1.超级用户<br>Linux系统充通过UID来区分用户权限级别別, UID为0的用户具有超级权限。通过/etc/passwd 来査得<strong>UID为0</strong>的用户是root, root用户是系统中超级用户;<br>su  切换用户<br>su - 切换用户, 连同环境变量一起切换<br>查看IP的时候可以看二者出区别</p>
<p>2.用户组<br>在Linux系统中,每个用户帐号都至少属于一个用户组(一般为私有组) ,每个用户组可以包括多个帐号。属于同一用户组的用户享有该组共有的权限 。(主要是文件使用权限)</p>
<p><strong>groupadd</strong> </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">【功能说明:建立用户组 】</span><br><span class="line">举例：</span><br><span class="line">groupadd  police        【创建警察组】</span><br><span class="line"></span><br><span class="line">语法: groupadd  [-g  gid]  groupname</span><br><span class="line">补充说明:需要建立群组时,可用groupadd指令来完成这项工作 。</span><br><span class="line">相关参数:</span><br><span class="line">-g                       【gid:指定组ID号】</span><br><span class="line">groupadd -g 600 police1  【创建id号为600的警察1组】</span><br><span class="line"></span><br><span class="line">tail /etc<span class="built_in">/group </span>         【查看组】</span><br><span class="line">root:x:0:root</span><br><span class="line">·第一字段: 组名</span><br><span class="line">·第二字段：口令,映射到/etc/gshadow文件中;</span><br><span class="line">·第三字段: GID;</span><br><span class="line">·第四字段: 属于该组的用户;</span><br></pre></td></tr></table></figure>

<p><strong>groupmod</strong>        </p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">【功能说明:更改组ID号】</span><br><span class="line">语法:</span><br><span class="line">groupmod    [<span class="string">-g&lt;组ID号&gt; &lt;-o&gt;</span>][<span class="symbol">-n&lt;新群组名称&gt;</span>]  [群组名称]</span><br><span class="line">补充说明:需要更改组ID号或名称时,可用groupmod指令来完成这项工作。</span><br><span class="line">相关参数:</span><br><span class="line">-g    <span class="xml"><span class="tag">&lt;<span class="name">组ID号</span>&gt;</span></span>      		   【设置要使用的改组ID号】</span><br><span class="line">groupmod  -g  700  			【police修改police组id为700】</span><br><span class="line"></span><br><span class="line">-n<span class="xml"><span class="tag">&lt;<span class="name">新组名称</span>&gt;</span></span>设置新的组名</span><br><span class="line">groupmod  -n   po1  police  【修改police的组名为pol】</span><br></pre></td></tr></table></figure>

<p><strong>groupdel</strong>        </p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">【功能说明:删除群组】</span></span><br><span class="line"><span class="section">语法:</span></span><br><span class="line">groupdel     [群组名称]</span><br><span class="line"><span class="section">补充说明: 需要从系统上删除群组时, 可用groupdel指令来完成这项工作 。倘若该群组中仍包括某些用户, 则必须先删除这些用户后, 方能删除群组</span></span><br><span class="line">groupdel   pol   【删除pol组】</span><br></pre></td></tr></table></figure>

<p><strong>useradd</strong>        </p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">【功能说明:建立用户帐号】</span></span><br><span class="line">语法：useradd 参数新建的用户名 </span><br><span class="line">补充说明：使用useradd指令所建立的帐号是保存在/etc/passwd文件中                        </span><br><span class="line"><span class="section">参数说明: </span></span><br><span class="line">-d       &lt;登入目录&gt;    指定用户登入时的起始目录</span><br><span class="line">-g       &lt;群组&gt;   指定用户所属的群组          </span><br><span class="line">-m       自动建立用户的登入目录         </span><br><span class="line">-u&lt;uid&gt;  指定用户ID</span><br><span class="line">举例：</span><br><span class="line">useradd  -g  501  wang3         </span><br><span class="line">【添加用户wang3，加到wang组】</span><br><span class="line">（501为组ID，501可以换做具体的组名如wang，wang3为用户）</span><br><span class="line"></span><br><span class="line">useradd  -u  600  wang2          </span><br><span class="line">【添加一个ID为600的用户wang2】</span><br><span class="line"></span><br><span class="line">useradd -g wang -u 700 wang3  </span><br><span class="line">【添加用户wang3，wang3的ID为700，加入wang组】</span><br><span class="line"></span><br><span class="line">/etc/passwd</span><br><span class="line"><span class="section">root:x:0:0:root:/root:/bin/bash</span></span><br><span class="line"><span class="section">第一字段:用户名(也被称为登录名)</span></span><br><span class="line"><span class="section">第二字段: 口令,映射到/etc/shadow文件中;</span></span><br><span class="line"><span class="section">第三字段: UID;(用户id)</span></span><br><span class="line"><span class="section">第四字段: GID;（组的编号）</span></span><br><span class="line"><span class="section">第五字段:用户名全称,这是可选的,可以不设置;</span></span><br><span class="line"><span class="section">第六字段:用户的主目录所在位置;</span></span><br><span class="line"><span class="section">第七字段:用户所用SHELL的类型;</span></span><br></pre></td></tr></table></figure>

<p><strong>usermod</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">功能说明:修改用户帐号。</span><br><span class="line">语法: usermod--参数[用户帐号]</span><br><span class="line">补充说明: usermod可用来修改用户帐号的各项设定</span><br><span class="line">参数说明:</span><br><span class="line">-g    &lt;群组&gt;  修改用户所属的群组</span><br><span class="line">-u&lt;uid&gt;  修改用户ID</span><br><span class="line">-U   解除密码锁定                                  </span><br><span class="line">-L  锁定用户密码,使密码无效</span><br><span class="line">举例：</span><br><span class="line">usermod  -g  <span class="number">501</span>  wang4     【修改wang4的群组为<span class="number">501</span>】</span><br><span class="line">usermod  -u  <span class="number">800</span>  wang5     【修改wang5的用户id为<span class="number">800</span>】</span><br></pre></td></tr></table></figure>

<p><strong>userdel</strong> </p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">功能说明:删除用户帐号。</span><br><span class="line">语法: userde1[<span class="string">-r</span>][<span class="symbol">用户帐号</span>]</span><br><span class="line">补充说明: userde1可删除用户帐号与相关的文件。若不加参数,则仅删除用户帐号,而不删除相关文件。</span><br><span class="line">参数说明:</span><br><span class="line">-r 删除用户及其home目录。</span><br><span class="line">举例：</span><br><span class="line">userdel  -r  wang5   【删除wang5用户及其家目录】</span><br></pre></td></tr></table></figure>

<p><strong>密码修改：passwd</strong></p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">语法</span>:  <span class="string">passwd[用户账号]</span></span><br><span class="line"><span class="attr">passwd</span>   <span class="string">wang      【修改wang的密码】</span></span><br><span class="line"><span class="meta">passwd什么都不加</span>     <span class="string">修改root密码</span></span><br><span class="line"><span class="attr">举例：</span></span><br><span class="line"><span class="meta">该命令用于修改用户的密码,使用方法</span>:<span class="string"></span></span><br><span class="line"><span class="meta">[root@haozhinuo-]#</span> <span class="string">passwd zhangsan</span></span><br><span class="line"><span class="attr">Changingpassword</span> <span class="string">foruserzhangsan.</span></span><br><span class="line"><span class="attr">NewUNIX</span> <span class="string">password:</span></span><br><span class="line"><span class="attr">Retype</span> <span class="string">newUNIX password:</span></span><br><span class="line"><span class="attr">passwd</span>:<span class="string">a11 authentication tokensupdated successfully</span></span><br></pre></td></tr></table></figure>

<p><strong>设定组密码</strong></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpasswd    &lt;<span class="keyword">group</span>-<span class="type">name</span>&gt;</span><br></pre></td></tr></table></figure>

<p> <strong>取消组密码</strong></p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gpasswd    -r    &lt;group-name&gt;</span><br><span class="line">说明：取消密组码后, 只有成员才可以通过<span class="keyword">new</span><span class="type">grp</span>命令切换入该组。</span><br></pre></td></tr></table></figure>

<p><strong>一个用户加入多个用户组</strong></p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">gpasswd</span> <span class="string">-a rong wxt</span></span><br><span class="line"><span class="attr">或者</span></span><br><span class="line"><span class="attr">usermod</span> <span class="string">-G rong wxt</span></span><br></pre></td></tr></table></figure>

<p><strong>设定组管理员(系统管理员)</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpasswd  -A<span class="tag">&lt;<span class="name">user</span>&gt;</span>  <span class="tag">&lt;<span class="name">group_name</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>添加组成员</strong></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gpasswd  -a&lt;<span class="keyword">user</span>)&lt;<span class="keyword">group</span>-<span class="type">name</span>&gt;</span><br><span class="line">gpasswd  -a  wang1  wang   【把用户wang1添加到wang组里面】</span><br></pre></td></tr></table></figure>

<p><strong>删除组成员</strong></p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gpasswd   -d&lt;<span class="keyword">user</span>)    &lt;<span class="keyword">group</span>-<span class="type">name</span>&gt;</span><br><span class="line">举例：</span><br><span class="line">gpasswd   -d  wang1  wang        【把用户wang1从wang组里面删除】</span><br></pre></td></tr></table></figure>

<p><strong>査看用户属于哪些组</strong></p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">groups  [usermame]</span><br><span class="line">举例：</span><br><span class="line">groups  wa<span class="symbol">ng1</span>        【wa<span class="symbol">ng1</span>为用户】</span><br><span class="line">注：一个用户可以分属于不同的用户组</span><br></pre></td></tr></table></figure>

<p><strong>username是要査看的用户名</strong><br>如果省略则査看自己所属的用户组</p>
<p><strong>用户切换所属组</strong>                                    </p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">newgrp [group]        【使用newgrp 命令在所属的用户组中切换】</span><br><span class="line">注：</span><br><span class="line"><span class="number">1</span>.group参数给出要切换到的目标用户组, 如果没有给出该参数, 则切回登录时所在的工作组。</span><br><span class="line"><span class="number">2</span>.要离开新的有效群组时,输入【<span class="keyword">exit</span>】即可</span><br></pre></td></tr></table></figure>

<p><strong>id</strong>      </p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">【功能说明:显示用户的ID,以及所属群组的ID】</span><br><span class="line">语法: id    [<span class="string">-gGnru</span>][<span class="symbol">--help</span>][<span class="string">--version</span>]    [用户名称]</span><br><span class="line">举例：</span><br><span class="line">id   wang1        【wang1为用户名】</span><br><span class="line"></span><br><span class="line">补充说明: </span><br><span class="line">1.id会显示用户以及所属群组的实际与有效ID</span><br><span class="line">2.若两个ID相同, 则仅显示实际ID</span><br><span class="line">3.若仅指定用户名称,则显示目前用户的ID</span><br></pre></td></tr></table></figure>

<p> <strong>who</strong>        </p>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">【功能说明:主要用于查看当前在线上的用户情况】</span><br><span class="line">补充说明:</span><br><span class="line"><span class="number">1</span>.显示系统中有那些使用者正在上面,显示的资料包含了使用者 ID, 使用的终端机, 从哪边边连上来的,上线时间,呆滞时间, <span class="meta">CPU</span>使用量,动作等等。</span><br><span class="line"><span class="number">2</span>.直接输入who，显示的<span class="built_in">IP</span>为window下的<span class="built_in">IP</span>（虚拟机的缘故）</span><br></pre></td></tr></table></figure>

<p><strong>配置文件</strong></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">帐号信息    密码信息</span><br><span class="line">用户       /etc/passwd     /etc/shadow</span><br><span class="line">组         /etc<span class="built_in">/group </span>    /etc/gshadow【了解】</span><br></pre></td></tr></table></figure>

<h2 id="二、-文件与目录管理"><a href="#二、-文件与目录管理" class="headerlink" title="二、 文件与目录管理"></a>二、 文件与目录管理</h2><p><strong>访问权限</strong><br>1.Linux系统中的每个文作和目录都有访问许可权限，用来确定谁可以通过何种方式和目录进行何种访问和操作；<br>2.文件或目录的访问权限分为只读，只写和可执行三种；<br>3.文件或目录被创建时, 文件所有者自动拥有对该文件的读、写和可执行权限；<br>4.每一文件或目录的访问权限都有三组, 每组用三位表示, 分别为:文件属主的读、写和执行权限；与属主同组用户的读、写和执行权限；系统中其他用户的读、写和执行权限；</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">d   rwx  r-x  r-x  <span class="number">2</span>  root  root  <span class="number">4096</span> <span class="number">01</span><span class="number">-24</span> <span class="number">10</span>:<span class="number">28</span> Desktop</span><br><span class="line">①    ②    ③    ④   ⑤   ⑥     ⑦      ⑧        ⑨        ⑩</span><br><span class="line"><span class="number">1</span>、表示文件的类型,“d<span class="string">'表示该文件为目录,也就是通常意义的文件夹,  '</span>-<span class="string">''</span>表示该文件是一般文件,“<span class="number">1</span>”表示该文件为一个链接, 也就是通常以上的快捷方式</span><br><span class="line"><span class="number">2</span>、表示文件所有者的权限, r为读权限, w为写权限, x为执行权限</span><br><span class="line"><span class="number">3</span>、表示文件所属组的权限, r, w, x含义同上。</span><br><span class="line"><span class="number">4</span>、表示其他人对该文件拥有的权限, r, w, x含义同上。</span><br><span class="line"><span class="number">5</span>、表示连接数;  (表示为连接占用的节点,跟连接档比较有关)</span><br><span class="line"><span class="number">6</span>、表示文件拥有者</span><br><span class="line"><span class="number">7</span>、表示文件所属组</span><br><span class="line"><span class="number">8</span>、表示文件的大小                                               </span><br><span class="line"><span class="number">9</span>、表示文件最后修改日期</span><br><span class="line"><span class="number">10</span>、文件名称  </span><br><span class="line"></span><br><span class="line">用ls -l（ll）命令可以显示文件或目录的详细信息</span><br><span class="line">例如：</span><br><span class="line">$ls -l sobsrc.tgz</span><br><span class="line">-rw-r--r--   <span class="number">1</span>  root  root  <span class="number">483397</span> Jul <span class="number">15</span> <span class="number">17</span>:<span class="number">31</span> sobsrc.tgz</span><br><span class="line">最左边的一列为文件的访问权限，第一个字符指定了文件类型，其他位字符指定访问权限：横线代表空许可（无权限），r代表只读，w代表写，x代表可执行。</span><br><span class="line">例如上例中：</span><br><span class="line"> -           rw-       r--      r--</span><br><span class="line">普通文件     文件主     组用户    其他用</span><br></pre></td></tr></table></figure>


<p><strong>chmod命令</strong>【<strong>权限修改</strong>】</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">【用于改变文件或目录的访问权限】</span><br><span class="line">有两种用法: </span><br><span class="line"><span class="number">1.</span>一种是包含字母和操作符表达式的文字设定法</span><br><span class="line"><span class="number">2.</span>另一种是包含数字的数字设定法</span><br><span class="line"></span><br><span class="line">文字设定法:</span><br><span class="line">chmod [+|-|=] [mode] 文件名...</span><br><span class="line">u表示用户</span><br><span class="line">g表示组</span><br><span class="line">o表示其他组</span><br><span class="line">a表示所有</span><br><span class="line">chmod  u-x  wxt   用户去掉一个执行权限（x）</span><br><span class="line">chmod  g+r  wxt   组加上可读权限</span><br><span class="line">chmod  o+w  wxt   其他组加上可写权限</span><br><span class="line">chmod  a+x  wxt 所有加上可执行权限（可以写成chmod  +x  wxt）</span><br><span class="line">chmod  u-x,o+r  wxt  可以同时生效（记得加逗号）</span><br><span class="line"></span><br><span class="line">数字设定法:</span><br><span class="line">常用参数： -R递归</span><br><span class="line">chmod  -R  <span class="number">450</span>  wxt修改wxt以及wxt下面的文件的权限</span><br><span class="line">数字设定法</span><br><span class="line">chmod [mode] 文件名...</span><br><span class="line">chmod  <span class="number">450</span>  wxt</span><br><span class="line">r=<span class="number">4</span>    w=<span class="number">2</span>     x=<span class="number">1</span>     -=<span class="number">0</span></span><br><span class="line">-rw-------(<span class="number">600</span>) --只有属主有读写权限</span><br><span class="line">-rw-r--r--(<span class="number">644</span>)--只有属主有读写权限, 而属组用户和其他用户只有读权限</span><br><span class="line">-rwx------(<span class="number">700</span>)--只有属主有读、写、执行权限</span><br><span class="line">-rwxr-xr-x（<span class="number">755</span>)--属主有读、写、执行权限,而属主用户和其他用户只有读、执行权限</span><br><span class="line">-rwx--x--x(<span class="number">711</span>)--属主有读、写、执行权限,而属组用户和其他用户只有执行权限</span><br><span class="line">-rw-rw-rw-（<span class="number">666</span>）--所有用户都有文件读、写权限</span><br><span class="line">-rwxrwxrwx（<span class="number">777</span>）--所有用户都有读、写、执行权限</span><br></pre></td></tr></table></figure>

<p><strong>归属修改</strong><br>文件与目录的归属是指文件的所有者(即用户)与所属的组, 归属决定了文件与目录的使用者的权限划分</p>
<p><strong>chgrp</strong>       </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">【功能: 改变文件或目录所属的组】</span><br><span class="line">语法: chgrp [选项]<span class="built_in"> group </span>filen1me</span><br><span class="line">常用参数: -R递归修改 </span><br><span class="line">举例：</span><br><span class="line">chgrp  hzn  a                </span><br><span class="line">【修改a的组名为hzn】</span><br><span class="line"></span><br><span class="line">chgrp  gname  /home/ourteams </span><br><span class="line">【修改ourteams用户家目录所属组为gname】</span><br></pre></td></tr></table></figure>

<p><strong>chown命令</strong>        </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">【功能:更改某个文件或目录的属主和属组,这个命令也很常用】</span><br><span class="line">语法: <span class="selector-tag">chown</span> <span class="selector-attr">[选项]</span> <span class="selector-tag">user</span><span class="selector-attr">[:group]</span> 文件</span><br><span class="line">常用参数<span class="selector-pseudo">:-R</span>递归修改</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">chown</span>  <span class="selector-tag">hzn</span><span class="selector-pseudo">:hzn</span>  <span class="selector-tag">wang</span>   </span><br><span class="line">【同时将<span class="selector-tag">wang</span>的所属用户以及所属组都改为<span class="selector-tag">hzn</span>（改别的也行<span class="selector-tag">hzn</span><span class="selector-pseudo">:root</span>）】</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">chown</span>  <span class="selector-tag">hzn</span>  <span class="selector-tag">wang</span>                   </span><br><span class="line">【改<span class="selector-tag">wang</span>所属用户改为<span class="selector-tag">hzn</span>】</span><br></pre></td></tr></table></figure>

<h2 id="三、链接ln"><a href="#三、链接ln" class="headerlink" title="三、链接ln"></a>三、链接ln</h2><p>1.链接类似于wmdows中的快捷方式, 创建链接实际上是给系统中已有的某个文件或目录指定另外一个可用子访同它的名称,对子这个整的文件空,我们可以为之指定不同的访同权限, 以控制对信息的共早和安全性的问题。<br>2.如果链接指向目录,用户就可以利用该链接直接进入被链接的目录而不用打一大堆的路径名,而且,即使我们删除这个链接,也不会破坏原来的目录。</p>
<p><strong>ln命令</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">语法：<span class="keyword">ln</span>【选项】目标【链接名】</span><br><span class="line">常用参数：-s软链接，类似与windows下快捷方式</span><br><span class="line">链接有两种：</span><br><span class="line">一种被称为硬链接（Hard Link)，另一种被称为符号链接（Symbolic Link）。建立硬链接时，链接文件和被链接文件必需位于同一文件系统中，并且不能建立指向目录的硬链接。而对符号链接，则不存在这个问题。</span><br><span class="line"></span><br><span class="line">软链接：</span><br><span class="line"><span class="keyword">ln</span>  -s 原件（绝对路径）  目标文件</span><br><span class="line">举例：</span><br><span class="line"><span class="keyword">ln</span>  -s  /etc/passwd  p2         </span><br><span class="line">【把/etc/passwd 进行软链接，快捷方式为p2】</span><br><span class="line">可以<span class="keyword">cat</span> p2</span><br><span class="line"></span><br><span class="line">硬链接（硬链接不常用）：</span><br><span class="line"><span class="keyword">ln</span>  passwd  p1  </span><br><span class="line">硬链接没有-s</span><br></pre></td></tr></table></figure>

<h1 id="004-linux环境搭建"><a href="#004-linux环境搭建" class="headerlink" title="004-linux环境搭建"></a>004-linux环境搭建</h1><p><strong>网络管理命令</strong></p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hostname</span> <span class="string">[査看主机名称]</span></span><br><span class="line"><span class="attr">hostname</span>  <span class="string">haozhinuo         【设置主机名】</span></span><br></pre></td></tr></table></figure>

<p><strong>设置网络配置</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig eth0  <span class="number">210.34</span><span class="number">.6</span><span class="number">.89</span>  netmask  <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span></span><br></pre></td></tr></table></figure>

<p><strong>ping</strong></p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ping</span>命令用于査看网络上的主机是否在工作</span><br></pre></td></tr></table></figure>

<p><strong>主机名修改</strong><br>修改主机名：修改以下两个文件之后,<strong>重新启动机器</strong>,主机名要保持一致【在修改配置文件之前建议先各份】</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@wm~]#cat  /etc/sysconfig/network</span><br><span class="line"><span class="attribute">NETWORKKING</span>=<span class="literal">yes</span></span><br><span class="line"><span class="attribute">NETWORKKING_IPV6</span>=<span class="literal">no</span></span><br><span class="line"><span class="attribute">HOSTNAME</span>=hzn</span><br><span class="line"></span><br><span class="line">[root@wm~]#cat  /etc/hosts</span><br><span class="line"><span class="comment">#Do  not  remove  the  following  line,or  various  programs</span></span><br><span class="line"><span class="comment">#that  require  network  functionlity  will  fail.</span></span><br><span class="line">127.0.0.1       hzn  localhost</span><br><span class="line">：：1           localhost6.localdomain6  localhost6</span><br></pre></td></tr></table></figure>

<p><strong>工作实践：</strong>修改 hostname</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">suse11修改hostname</span><br><span class="line">1、修改当前的Hostname可以用</span><br><span class="line"> hostname myname</span><br><span class="line">此时只是修改了内存内部的，下次启动又恢复了</span><br><span class="line">2、机器在启动的时候会调用<span class="string">/etc/rc.d/boot.localnet</span></span><br><span class="line">脚本看后面的附录，这个脚本会判断当前的$HOSTNAME变量是否设置，没有设置就会读取<span class="string">/etc/HOSTNAME</span>来设置主机名</span><br><span class="line">3、因此要修改 hostname</span><br><span class="line">    3.1修改 <span class="string">/etc/HOSTNAME</span>文件</span><br><span class="line">    3.2修改当前的$HOSTNAME变量</span><br><span class="line">    3.3停掉<span class="string">/etc/rc.d/</span> boot.localnet</span><br><span class="line">    3.4启动<span class="string">/etc/rc.d/boot.localnet</span></span><br><span class="line">因此执行脚本如下</span><br><span class="line"> export HOSTNAME=myname</span><br><span class="line"> <span class="keyword">echo</span> $HOSTNAME&gt;<span class="string">/etc/HOSTNAME</span></span><br><span class="line"> <span class="string">/etc/rc.d/boot.localnet</span> stop</span><br><span class="line"> <span class="string">/etc/rc.d/boot.localnet</span> start</span><br></pre></td></tr></table></figure>

<p><strong>工作实践</strong>：IP地址修改</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">1.设置静态IP地址</span><br><span class="line">使用setup（直接输setup）</span><br><span class="line"></span><br><span class="line">2.修改配置文件：</span><br><span class="line">cd  /etc/sysconfig/network-scripts</span><br><span class="line">ls</span><br><span class="line">vi  ifcfg-eth0</span><br><span class="line">修改之前:</span><br><span class="line"><span class="comment">#Adanced  Micro Devices  [AMD]  79c970  [PCnet32LANCE]</span></span><br><span class="line"><span class="attribute">DEVICE</span>=eth0</span><br><span class="line"><span class="attribute">BOOTPROTP</span>=dhcp</span><br><span class="line"><span class="attribute">HWADDR</span>=00:0C:29:B0:64:81</span><br><span class="line"><span class="attribute">ONBOOT</span>=<span class="literal">yes</span></span><br><span class="line"><span class="attribute">TYPE</span>=Ethernet</span><br><span class="line"></span><br><span class="line">修改之后:</span><br><span class="line"><span class="comment">#Adanced  Micro Devices  [AMD]  79c970  [PCnet32LANCE]</span></span><br><span class="line"><span class="attribute">DEVICE</span>=eth0</span><br><span class="line"><span class="attribute">BOOTPROTP</span>=none</span><br><span class="line"><span class="attribute">HWADDR</span>=00:0C:29:B0:64:81</span><br><span class="line"><span class="attribute">ONBOOT</span>=<span class="literal">yes</span></span><br><span class="line"><span class="attribute">TYPE</span>=Ethernet</span><br><span class="line"><span class="attribute">NETMASK</span>=255.255.255.0</span><br><span class="line"><span class="attribute">IPADDR</span>=192.168.1.161</span><br><span class="line"><span class="attribute">GATEWAY</span>=192.168.1.1</span><br><span class="line"></span><br><span class="line">修改之后需要重启网卡或重启:</span><br><span class="line">service <span class="built_in"> network </span> restart        【网卡重启】</span><br><span class="line"></span><br><span class="line">中兴IP增加：</span><br><span class="line">ip addr <span class="builtin-name">add</span> 30.1.170.133/24 dev eth1</span><br><span class="line">上面:</span><br><span class="line">/24对应的掩码是255.255.255.0</span><br><span class="line">/16对应的掩码是255.255.0.0</span><br><span class="line"></span><br><span class="line">加默认网关：</span><br><span class="line">route <span class="builtin-name">add</span><span class="built_in"> default </span>30.1.170.254 netmask 255.255.255.0</span><br><span class="line"></span><br><span class="line">网络管理命令:route     【用来产生和修改路由表】</span><br><span class="line">linux:</span><br><span class="line">route -n</span><br><span class="line"></span><br><span class="line">windows:</span><br><span class="line">route print</span><br></pre></td></tr></table></figure>

<p><strong>netstat  -anp</strong>        </p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">【查看端口是否启动】</span><br><span class="line">显示网络连接、路由表和网络接口信息</span><br><span class="line">常用参数:  -an</span><br><span class="line"><span class="deletion">-a(all)显示所有选项</span></span><br><span class="line"><span class="deletion">-n以网络IP地址代替名称</span></span><br></pre></td></tr></table></figure>

<p><strong>echo命令</strong> </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">【功能:在显示器上显示一段文字，也可以显示环境变量的名字】</span><br><span class="line">如: </span><br><span class="line"><span class="number">1.</span><span class="keyword">echo</span>  $PATH</span><br><span class="line"><span class="number">2.</span>name=a</span><br><span class="line">  <span class="keyword">echo</span>  $name</span><br><span class="line">  结果显示a</span><br></pre></td></tr></table></figure>

<p><strong>date命令</strong> </p>
<figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">date</span>   +%Y%m%d  </span><br><span class="line"><span class="keyword">date</span>   +%Y-%m-%d  </span><br><span class="line">【功能:显示和设置系统日期和时间】</span><br><span class="line"></span><br><span class="line">修改时间 <span class="keyword">date</span>  -s</span><br><span class="line"><span class="keyword">date</span>  -s <span class="number">10</span>:<span class="number">46</span>:<span class="number">00</span>修改时间</span><br></pre></td></tr></table></figure>

<p><strong>管道符“|”</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">用来隔开两个命令,管道符左边命令的输出会作为管道右边的命令的输入</span><br></pre></td></tr></table></figure>

<p><strong>wc命令</strong>        </p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">【功能：打印出文件中字符行数、字节数、单词个数等】</span><br><span class="line">常用参数:  -l             【打印出行数】</span><br><span class="line">wc  <span class="regexp">/etc/</span>passed          【显示字符行数、字节数、单词个数等】</span><br><span class="line">wc  -l  <span class="regexp">/etc/</span>passwd      【只显示行数】</span><br><span class="line">举例：</span><br><span class="line">用的比较多的<span class="keyword">grep</span>  -n  root  <span class="regexp">/etc/</span>passwd |wc  -l</span><br></pre></td></tr></table></figure>

<p><strong>diff命令</strong>       </p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">【功能:比较两个文件的不同】</span><br><span class="line"><span class="keyword">diff </span> a  <span class="keyword">b </span>       【比较a与<span class="keyword">b的不同（不适用）】</span></span><br><span class="line"><span class="keyword">vimdiff </span> a  <span class="keyword">b </span>    【（这个比较适用）】</span><br></pre></td></tr></table></figure>

<p><strong>history命令</strong>        </p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">【功能:査看历史记录】</span></span><br><span class="line"><span class="section">使用历史命令:  ！序号</span></span><br><span class="line">history</span><br><span class="line">！696</span><br></pre></td></tr></table></figure>

<p><strong>在线帮助</strong><br><strong>man命令</strong>       </p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">【功能：査看联机手册】</span><br><span class="line">语法：<span class="keyword">man</span>    <span class="comment">[选项]</span>    命令名称</span><br></pre></td></tr></table></figure>

<p> <strong>–help选项</strong>:</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">命令在线帮助如: <span class="keyword">ls</span>    <span class="params">--help</span></span><br></pre></td></tr></table></figure>

<p><strong>whereis命令</strong>        </p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">【功能:查找与某一命令相关的文件的存放位置】</span></span><br></pre></td></tr></table></figure>

<p><strong>chkconfig命令</strong> ：【服务开机自启动】</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">【功能: 检査,设置系统的各种服务】</span><br><span class="line">常用参数:</span><br><span class="line">chkconfig    服务名 <span class="keyword">on</span>/off</span><br><span class="line">chkconfig   sshd  off</span><br><span class="line">chkconfig   sshd  <span class="keyword">on</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--list査看</span></span><br><span class="line">chkconfig  <span class="comment">--list |more</span></span><br><span class="line">chkconfig   <span class="comment">--list |grep ssh</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--add添加到开机启动</span></span><br><span class="line">chkconfig  <span class="comment">--add  sshd</span></span><br><span class="line"><span class="comment">--del从开机启动项中删除</span></span><br><span class="line">chkconfig   sshd  <span class="comment">--del</span></span><br></pre></td></tr></table></figure>

<p><strong>启动服务</strong></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/etc/linit.d/sshd  restart  ( stop start status)</span><br><span class="line">service  sshd  restart      (stop start status)</span><br></pre></td></tr></table></figure>

<p><strong>系统资源査看</strong> </p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">（top也可以查CPU和内存信息）   </span><br><span class="line">査看CPU信息：</span><br><span class="line">cat  /<span class="keyword">proc</span>/cpuinfo</span><br><span class="line"></span><br><span class="line">査看内存信息：</span><br><span class="line">cat  /<span class="keyword">proc</span>/meminfo</span><br><span class="line"></span><br><span class="line">査看1inux版本类型：</span><br><span class="line">cat  /etc/issue</span><br><span class="line">lsb_release</span><br><span class="line"></span><br><span class="line">査看1inux的位数</span><br><span class="line">getconf<span class="title"> LONG_BIT</span></span><br><span class="line"><span class="title"></span></span><br><span class="line"><span class="title">査看系统类型</span></span><br><span class="line"><span class="title">uname</span>  -a</span><br></pre></td></tr></table></figure>

<p><strong>远程连接乱码解决</strong></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- 乱码: /etc/profile中添加</span><br><span class="line"><span class="builtin-name">export</span>   <span class="attribute">LC_ALL</span>=zh_CN.GBK</span><br><span class="line"><span class="builtin-name">export</span>  <span class="attribute">LC_ALL</span>=en_US.GBK</span><br><span class="line"></span><br><span class="line">- 执行source  /etc/profile</span><br><span class="line">连接工具选择字符集 UTF-8</span><br></pre></td></tr></table></figure>

<p><strong>工具：</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- Secure CRT          </span><br><span class="line">强大的Windows终端模拟器软件,支持远程登录、重新登录、序列号、 TAPI协议和SSH(SecureShe11,安全外壳) SSH可以提供密码保护的登录和数据传输等, 可进行完全定制,使用简便,还支持密码、 RSA和TIS,其中支持地密码有B1owfish、 DES、<span class="number">3</span>DES和RC4,可使用ZModem进行安全文件传输,其他新功能还有: x11重定向、多种压缩等。                                     URL: http：<span class="comment">//www.vandyke.com/      </span></span><br><span class="line"></span><br><span class="line">- Putty                </span><br><span class="line">putty是一个Telnet、SSH、rlogin、纯TCP以及串行口连接软件, 较早的版本仅支持Windows平台, 在最近的版本中开始支持各类unix平台, 并打算移植至Mac <span class="number">0</span>S X上,,PuTTY为一-开放源代码软件,主要由Simon Tatham维护,,Putty是一-个免費的、 Wi11lows32平台下的telnet、r1ogin和ssh客户端，但是功能丝毫不逊于商业的telnet类工具。</span><br><span class="line"></span><br><span class="line">- Secure FX </span><br><span class="line">SecureFX支持三种文件传输协议: FTP、 SFTP和FTP,overSSH2。它可以提供安全文件传输,无论您连接的是任何一种服务器,它都能提供安全的传输服务。</span><br><span class="line">URL:http:<span class="comment">//www.vandyke.com</span></span><br><span class="line"></span><br><span class="line">- FileZilla               </span><br><span class="line">FileZi11a是一种快速、 可信赖的FTP客户端以及服务器端开放源代码空式,具有多种特色、直觉的接口,可控性、有条理的界面和管理多站点的简化方式使得Filezi11a客户端版成为一-个方便高效的FTP客户端工具,而FileZi11a Server则是一个小巧并且可靠的支持FTP&amp;SFTP的FTP服务器软件, FileZi11在<span class="number">2002</span>年<span class="number">1</span> <span class="number">1</span>月获选为当月最住推荐专案。</span><br></pre></td></tr></table></figure>

<p><strong>VSFTP安装</strong></p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">- VSFTP简介           </span><br><span class="line">VSFTP是一个基子GPL发布的类Unix系统上使用的FTP服务器软件,它的生称是Very Secure FTP从此名称可以看出来,编制者的初衷表是代码的安全</span><br><span class="line">特点:</span><br><span class="line">它是一个安全、高速、稳定的FTP服务器</span><br><span class="line"></span><br><span class="line">vsftpd安装</span><br><span class="line">步骤：</span><br><span class="line">mount <span class="string">/dev/cdrom</span> <span class="string">/mnt</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">/mnt</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">/Server</span></span><br><span class="line"><span class="keyword">ls</span> |grep ftp</span><br><span class="line">rpm -ivh vsftpd-2.0.5-16.el5.i386.rpm</span><br><span class="line">rpm -qa |grep vsftpd</span><br><span class="line">service vsftpd start或者<span class="string">/etc/init.d/vsftpd</span> start或者service vsftpd stop</span><br><span class="line"></span><br><span class="line">测试：</span><br><span class="line">- 在windows打开IE输入: ftp:<span class="string">//ip/</span></span><br><span class="line">- 从windows中拷贝文件到ftp中</span><br><span class="line">- 使用FTP客户端工具</span><br><span class="line"></span><br><span class="line">VSFTP配置文件</span><br><span class="line">步骤：</span><br><span class="line">vi <span class="string">/etc/vsftpd/ftpusers</span></span><br><span class="line"><span class="params">(进去删除root，或者在root前加#号）【设置用户是否允许使用vsftpd登录】</span></span><br><span class="line"><span class="params"></span></span><br><span class="line"><span class="params">vi /etc/vsftpd/user_list</span></span><br><span class="line"><span class="params">(进去删除root，或者在root前加#号）【vsftpd userlist，可配置】</span></span><br><span class="line"><span class="params"></span></span><br><span class="line"><span class="params">service vsftpd restart</span></span><br><span class="line"><span class="params">点开FileZilla，输入linux的ip，用户名，密码，端口号为21</span></span><br></pre></td></tr></table></figure>

<p><strong>WEB服务器安装</strong></p>
<p><strong>常见的web服务器</strong></p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">PHP：httpd （apache）、nginx</span><br><span class="line">tomcat：jsp+html</span><br><span class="line"><span class="keyword">win</span>:<span class="keyword">IIS</span></span><br><span class="line"></span><br><span class="line">客户端</span><br><span class="line">IE、firefox、chrome、手机（浏览器）Browser</span><br></pre></td></tr></table></figure>

<p><strong>Apache安装</strong></p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">步骤：</span><br><span class="line"><span class="keyword">cd</span> <span class="string">/root/setup</span></span><br><span class="line">tar -zxvf httpd-2.2.4.tar.gz</span><br><span class="line"><span class="keyword">cd</span> httpd-2.2.4</span><br><span class="line"><span class="string">./configure</span></span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">rpm -qa |grep httpd</span><br><span class="line"></span><br><span class="line">Apache配置:</span><br><span class="line">vi <span class="string">/usr/local/apache2/conf/httpd.conf</span></span><br><span class="line">:<span class="string">/ServerName</span></span><br><span class="line">按n向下查找<span class="comment">#ServerName www.example.com:80</span></span><br><span class="line">把<span class="comment">#删除。</span></span><br><span class="line">:<span class="string">/listen</span>\c</span><br><span class="line">按n向下查找Listen 80</span><br><span class="line">把80改为88；（此为改端口号）</span><br><span class="line"><span class="function">:wq</span></span><br><span class="line"><span class="string">/usr/local/apache2/bin/apachectl</span>  start</span><br><span class="line">浏览器打开http:<span class="string">//192.168.184.130</span><span class="function">:88</span>/</span><br></pre></td></tr></table></figure>

<p><strong>JDK安装</strong></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">步骤：</span><br><span class="line">第一步</span><br><span class="line">cd /root/setup/</span><br><span class="line">chmod u+x jdk-6u1-linux-i586-rpm.bin</span><br><span class="line">./jdk-6u1-linux-i586-rpm.bin</span><br><span class="line">空格到最后</span><br><span class="line"><span class="literal">yes</span></span><br><span class="line">rpm -ivf jdk-6u1-linux-i586.rpm</span><br><span class="line">rpm -qa |grep jdk</span><br><span class="line">rpm -qa |grep jdk（查看JDK版本）</span><br><span class="line"></span><br><span class="line">第二步</span><br><span class="line">vi /etc/profile</span><br><span class="line">G到最后添加</span><br><span class="line"><span class="attribute">JAVA_HOME</span>=/JAVA_HOME=/usr/java/jdk1.6.0_01</span><br><span class="line"><span class="attribute">CLASSPATH</span>=<span class="variable">$JAVA_HOME</span>/lib:$JAVA_HOME/jre/lib</span><br><span class="line"><span class="attribute">PATH</span>=<span class="variable">$PATH</span>:$JAVA_HOME/bin:$JAVA_HOME/jre/bin</span><br><span class="line"><span class="builtin-name">export</span> PATH CLASSPATH JAVA_HOME</span><br><span class="line">：wq</span><br><span class="line">source /etc/profile</span><br><span class="line">echo <span class="variable">$JAVA_HOME</span></span><br></pre></td></tr></table></figure>

<p><strong>MySQL安装</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">cd /mnt</span><br><span class="line">ls |grep DBI</span><br><span class="line">rpm -ivh perl-DBI-1.52-2.el5.i386.rpm</span><br><span class="line">cd /root/setup</span><br><span class="line">rpm -ivh MySQL-client-community-5.0.37-0.rhel4.i386.rpm</span><br><span class="line">rpm -ivh MySQL-devel-community-5.0.37-0.rhel4.i386.rpm</span><br><span class="line">rpm -ivh MySQL-server-community-5.0.37-0.rhel4.i386.rpm</span><br><span class="line">rpm -qa |grep -i mysql(查看是否安装）</span><br><span class="line"></span><br><span class="line">测试与密码修改:</span><br><span class="line">mysql -uroot -p（使用密码登录）【或mysql  -uroot  -p密码】</span><br><span class="line"><span class="keyword">use</span> mysql;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">databases</span>;(查看数据库）</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">tables</span>;（查看有哪些表）</span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> <span class="keyword">password</span>=<span class="keyword">password</span>(<span class="string">"123456"</span>)<span class="keyword">where</span> <span class="keyword">user</span>=<span class="string">'root'</span>;</span><br><span class="line"><span class="keyword">flush</span> <span class="keyword">privileges</span>;（使设置生效）</span><br><span class="line">exit   （退出）</span><br><span class="line"></span><br><span class="line">卸载:</span><br><span class="line">使用rpm  -qa |grep mysql查找mysql服务</span><br><span class="line">rpm  -e  <span class="comment">--nodeps  mysql*</span></span><br></pre></td></tr></table></figure>

<p><strong>TOMCAT</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">端口号<span class="number">8080</span></span><br><span class="line">netstat  -anp |<span class="keyword">grep</span>  <span class="number">8080</span></span><br><span class="line"><span class="keyword">sh</span>  <span class="keyword">version</span>.<span class="keyword">sh</span>（这个命令不要执行权限也可以运行<span class="keyword">sh</span>文件）</span><br><span class="line">步骤：</span><br><span class="line">tar -zxvf apache-tomcat-<span class="number">5.5</span>.<span class="number">28</span>.tar.gz </span><br><span class="line"><span class="keyword">cp</span> -R apache-tomcat-<span class="number">5.5</span>.<span class="number">28</span> /usr/local/tomcat</span><br><span class="line"><span class="keyword">cd</span> /usr/local</span><br><span class="line"><span class="keyword">cd</span> tomcat</span><br><span class="line"><span class="keyword">cd</span> bin</span><br><span class="line">./startup.<span class="keyword">sh</span></span><br><span class="line">netstat -anp |<span class="keyword">grep</span> <span class="number">8080</span></span><br><span class="line">./shutdown.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure>

<p><strong>oa步骤</strong></p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> /root/setup</span><br><span class="line">unzip oa.<span class="keyword">zip</span></span><br><span class="line"><span class="keyword">cd</span> oa</span><br><span class="line">cp -R /root/setup/oa /usr/<span class="keyword">local</span>/tomcat/webapps</span><br><span class="line"><span class="keyword">cd</span> /usr/<span class="keyword">local</span>/tomcat/webapps</span><br><span class="line">ll(看到redmoonoa.sql）</span><br><span class="line">mysql -<span class="keyword">u</span> root -p123456</span><br><span class="line">source  /usr/<span class="keyword">local</span>/tomcat/webapps/oa/setup/redmoonoa.sql;</span><br><span class="line">show databases;(看数据库是否导入）</span><br><span class="line"><span class="keyword">cd</span> /usr/<span class="keyword">local</span>/tomcat/webapps/oa</span><br><span class="line"><span class="keyword">cd</span> WEB-<span class="keyword">INF</span>/</span><br><span class="line">vi log4j.properties</span><br><span class="line">log4j.appender.R.<span class="keyword">File</span>=F:/oa/<span class="keyword">log</span>/oa.<span class="keyword">log</span></span><br><span class="line">log4j.appender.R.<span class="keyword">File</span>=/usr/<span class="keyword">local</span>/tomcat/webapps/oa/<span class="keyword">log</span>/oa.<span class="keyword">log</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">cd</span> /usr/<span class="keyword">local</span>/tomcat/webapps/oa/WEB-<span class="keyword">INF</span>/classes</span><br><span class="line"><span class="keyword">ls</span></span><br><span class="line">vi cache.ccf</span><br><span class="line">修改之前jcs.auxiliary.DC.attributes.DiskPath=F:/oa/CacheTemp</span><br><span class="line">修改之后jcs.auxiliary.DC.attributes.DiskPath=/usr/<span class="keyword">local</span>/tomcat/webapps/oa/CacheTemp</span><br><span class="line"><span class="keyword">cd</span> ..</span><br><span class="line">vi proxool.xml</span><br><span class="line">修改之前&lt;property name=<span class="string">"password"</span> value=<span class="string">"myoa888"</span> /&gt;^<span class="keyword">M</span></span><br><span class="line">修改之后&lt;property name=<span class="string">"password"</span> value=<span class="string">"123456"</span> /&gt;^<span class="keyword">M</span></span><br><span class="line">下面还有一个一样的</span><br><span class="line"><span class="keyword">cd</span> /usr/<span class="keyword">local</span>/tomcat/bin</span><br><span class="line">./shutdown.<span class="keyword">sh</span></span><br><span class="line">./startup.<span class="keyword">sh</span></span><br><span class="line">http:<span class="comment">//192.168.184.130:8080/oa/</span></span><br></pre></td></tr></table></figure>

<p><strong>补充：</strong></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>每台机子都一样，为自检IP（就是自身）</span><br><span class="line"></span><br><span class="line">两种子网掩码：</span><br><span class="line">                <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span>（最多<span class="number">255</span>人）</span><br><span class="line">                <span class="number">255.255</span><span class="number">.0</span><span class="number">.0</span>（不够就用这个掩码）</span><br><span class="line">                </span><br><span class="line">一个系统如linux在安装的时候需要配IP,子网掩码（netmask），以及网关（netway）</span><br><span class="line">IP:<span class="number">192.168</span><span class="number">.184</span><span class="number">.130</span></span><br><span class="line"><span class="number">192</span>位置最大为<span class="number">255</span></span><br><span class="line"><span class="number">192.168</span><span class="number">.184</span>相当于一个班，而<span class="number">130</span>为班里的一个同学，是唯一的最大也为<span class="number">255</span></span><br><span class="line">子网掩码一样，为一个班的，同一网段的，可以互相通讯。同网段IP前面一样，比如<span class="number">255.255</span><span class="number">.0</span><span class="number">.0</span>下，则<span class="number">192.168</span><span class="number">.1</span><span class="number">.5</span>中<span class="number">192.168</span>就不变。</span><br><span class="line"></span><br><span class="line">service network restart   网关重启（start，stop，status）</span><br><span class="line"></span><br><span class="line">route查看路由信息（网关）Gateway</span><br><span class="line">netstat  -anp |grep  <span class="number">22</span>查看<span class="number">22</span>端口</span><br><span class="line">FTP的端口号为<span class="number">21</span></span><br></pre></td></tr></table></figure>

<h2 id="linux-如何截取一段时间内log日志"><a href="#linux-如何截取一段时间内log日志" class="headerlink" title="linux 如何截取一段时间内log日志"></a>linux 如何截取一段时间内log日志</h2><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">情景一 日志文件较大，想直接连接精确地查询某段时间内的日志</span><br><span class="line">解决方案：</span><br><span class="line">sed -n <span class="string">'/2019-05-31 15:00:01/,/2019-05-31 15:05:01/'</span>p /root/toolspace/tomcat7/logs/catalina.<span class="keyword">out</span></span><br><span class="line"></span><br><span class="line">情景二 日志文件较大，想直接连接精确地查询某段时间内的日志并将其截取到新建的文件中，便于下载查看交流</span><br><span class="line">解决方案：</span><br><span class="line">sed -n <span class="string">'/2019-05-31 15:00:01/,/2019-05-31 15:05:01/'</span>p /root/toolspace/tomcat7/logs/catalina.<span class="keyword">out</span> &gt;/root/toolspace/tomcat7/logs/catalinanew.<span class="keyword">out</span></span><br><span class="line"></span><br><span class="line">情景三 例如日志时间格式非‘<span class="number">2015</span><span class="number">-05</span><span class="number">-04</span> <span class="number">09</span>:<span class="number">25</span>:<span class="number">55</span>’而是‘<span class="number">22</span>/Feb/<span class="number">2019</span>:<span class="number">15</span>:<span class="number">57</span>:<span class="number">00</span>’ 那么可以使用在 / 前使用转移符 \</span><br><span class="line">解决案例</span><br><span class="line">sed -n <span class="string">'/22/Feb/2019:15:00:01/,/22/Feb/2019:15:05:01/'</span>p /root/toolspace/tomcat7/logs/catalina.<span class="keyword">out</span> &gt;/root/toolspace/tomcat7/logs/catalinanew.<span class="keyword">out</span></span><br></pre></td></tr></table></figure>

<h2 id="Linux下文本转为图片"><a href="#Linux下文本转为图片" class="headerlink" title="Linux下文本转为图片"></a>Linux下文本转为图片</h2><p>有时候在Linux下将文本文件直接打印出来会出现对不齐的现象，特别是有空格时，例如想将CLUSTAL比对后的结果打印为图片时，直接打印位置会错乱。这里提供一种有效的解决办法：<br>enscript安装包：或者yum install enscript</p>
<p><a href="https://tongsiying.github.io/download/source/enscript-1.6.6-6.el7.x86_64.rpm">enscript-1.6.6-6.el7.x86_64.rpm</a></p>
<ol>
<li>直接用管道：</li>
</ol>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">enscript -B -p - good.txt | ps2pdf - | convert -density <span class="number">300</span> - output.png  <span class="meta">#这个生成的图片是透明的</span></span><br><span class="line"></span><br><span class="line">enscript -B -p - sar-all.txt | ps2pdf - |convert -background <span class="string">"rgb(255,251,240)"</span> -extent <span class="number">600</span>x800 - output.png;   <span class="meta">#extent生成背景布尺寸为600x800；background背景图为乳白色</span></span><br><span class="line">convert <span class="keyword">output</span><span class="number">-0.</span>png <span class="keyword">output</span><span class="number">-1.</span>png <span class="keyword">output</span><span class="number">-3.</span>png <span class="keyword">output</span><span class="number">-3.</span>png <span class="keyword">output</span><span class="number">-4.</span>png <span class="keyword">output</span><span class="number">-5.</span>png <span class="keyword">output</span><span class="number">-6.</span>png -append result.png <span class="meta">#纵向合并图片</span></span><br><span class="line"><span class="meta">#其中good.txt是输入文本文件；output.png是输出png文件名</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>分步执行：</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">2<span class="selector-class">.1</span> 先将文本转化为<span class="selector-tag">ps</span>格式</span><br><span class="line">使用<span class="selector-tag">linux</span>下工具<span class="selector-tag">enscript</span></span><br><span class="line"><span class="selector-tag">enscript</span> <span class="selector-tag">-p</span> <span class="selector-tag">output</span><span class="selector-class">.ps</span> <span class="selector-tag">-B</span> <span class="selector-tag">good</span><span class="selector-class">.txt</span></span><br><span class="line"># <span class="selector-tag">-p</span>接输出文件名，<span class="selector-tag">-B</span>表示不将页码文件名等文件信息打印到图片中</span><br><span class="line"></span><br><span class="line">2<span class="selector-class">.2</span> 再将<span class="selector-tag">ps</span>转<span class="selector-tag">pdf</span></span><br><span class="line"><span class="selector-tag">ps2pdf</span>安装包：或者<span class="selector-tag">yum</span> <span class="selector-tag">install</span> <span class="selector-tag">ImageMagick</span></span><br><span class="line"></span><br><span class="line">使用<span class="selector-tag">linux</span>下工具<span class="selector-tag">ps2pdf</span></span><br><span class="line"><span class="selector-tag">ps2pdf</span> <span class="selector-tag">output</span><span class="selector-class">.ps</span> <span class="selector-tag">output</span><span class="selector-class">.pdf</span></span><br></pre></td></tr></table></figure>

<p><a href="https://tongsiying.github.io/download/source/ImageMagick-6.7.8.9-15.el7_2.i686.rpm">ImageMagick-6.7.8.9-15.el7_2.i686.rpm</a></p>
<p><a href="https://tongsiying.github.io/download/source/ImageMagick-6.7.8.9-15.el7_2.x86_64.rpm">ImageMagick-6.7.8.9-15.el7_2.x86_64.rpm</a></p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2.3</span> 再使用ImageMagick中的convert</span><br><span class="line">可以使用sudo aptitude install imagemagick安装imagemagick</span><br><span class="line">安装好后直接运行以下代码即可将pdf文件转化为<span class="number">300</span>相素的png图片</span><br><span class="line"></span><br><span class="line">convert -density <span class="number">300</span> output.pdf output.png</span><br><span class="line"># 如果有多页，则打印为多个png文件</span><br><span class="line">最终结果如下：</span><br></pre></td></tr></table></figure>

<p><img src="/2021/05/17/linux/2021-05-17-linux-all/2021-05-17-linux-all%5C0853362lrr7yjd79o7rl78.png.thumb.jpg" alt></p>
<img src="/2021/05/17/linux/2021-05-17-linux-all/0853362lrr7yjd79o7rl78.png.thumb.jpg" class title="This is an example image">

<figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">https://www.baidu.com/link?url=jlgQCY_NSnRRfPbn4BgRXNHkzGorb_KfOkfIvTHv3Sw1of9qubKAsH8i0UKlwxGr&amp;wd=&amp;eqid=b147f39500005df9000000035e3be27b</span><br><span class="line">linux – 使用ubuntu上的<span class="built_in">convert</span>进行填充调整图像大小</span><br><span class="line">我正在使用<span class="built_in">convert</span>命令来调整图像大小</span><br><span class="line">有两个版本</span><br><span class="line">以下是第一个,结果图像保持纵横比,但图像不一定是nxn</span><br><span class="line"><span class="built_in">convert</span> temp.jpg -resize nxn temp.jpg</span><br><span class="line">第二个版本</span><br><span class="line"><span class="built_in">convert</span> temp.jpg -resize nxn! temp.jpg</span><br><span class="line">它不保留纵横比.</span><br><span class="line"></span><br><span class="line">我想要的是保持纵横比,并用所需的RGB值填充图像的其余部分,以实现nxn的大小</span><br><span class="line">有任何想法吗？</span><br><span class="line">谢谢</span><br><span class="line"></span><br><span class="line">解决方法</span><br><span class="line">在调整大小后,您需要使用-extent直接设置画布的大小,并且新创建的区域将填充您设置-<span class="built_in">background</span>的任何内容.</span><br><span class="line">因此,如果您希望填充为洋红色,请执行以下操作：</span><br><span class="line"><span class="built_in">convert</span> <span class="built_in">image</span>.png -resize 100x100 -<span class="built_in">background</span> <span class="string">"rgb(255,255)"</span> -extent 100x100 out.png</span><br><span class="line"></span><br><span class="line">如果您希望图像显示在输出图像的“中间”,并且填充边均匀分布在两侧,请添加重力中心,如下所示：</span><br><span class="line"><span class="built_in">convert</span> <span class="built_in">image</span>.png -resize 100x100 -gravity <span class="built_in">center</span> -<span class="built_in">background</span> <span class="string">"rgb(255,255)"</span> -extent 100x100 out.png</span><br><span class="line">因此,如果我们从一个宽的蓝色图像开始,即<span class="number">300</span>×<span class="number">100</span>,并且无法在正方形中正确拟合,如下所示：</span><br><span class="line">我们用这个调整大小：</span><br><span class="line"> <span class="built_in">convert</span> <span class="built_in">image</span>.png -resize 100x100 -gravity <span class="built_in">center</span> -<span class="built_in">background</span> <span class="string">"rgb(255,255)"</span> -extent 100x100 out.png</span><br><span class="line">我们会得到这个</span><br></pre></td></tr></table></figure>



<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//blog.kieng.cn/1151.html</span></span><br><span class="line">#得到一个图片的尺寸</span><br><span class="line">identify test.png</span><br><span class="line">#结果为：</span><br><span class="line">#test.png PNG <span class="number">178</span>x15 <span class="number">178</span>x15+<span class="number">0</span>+<span class="number">0</span> <span class="number">16</span>-bit PseudoClass <span class="number">65536</span>c <span class="number">2.28</span>kb</span><br><span class="line">#使用 shell</span><br><span class="line">identify test.png | cut -d <span class="string">' '</span> -f <span class="number">3</span> | cut -d <span class="string">'x'</span> -f <span class="number">1</span></span><br><span class="line">identify test.png | cut -d <span class="string">' '</span> -f <span class="number">3</span> | cut -d <span class="string">'x'</span> -f <span class="number">2</span></span><br><span class="line">#<span class="number">1</span>、压缩一个图片，限定高度为 <span class="number">60</span>， 宽高比例不变，但如果宽大于 <span class="number">90</span>，截取中间一段</span><br><span class="line">#convert source.jpg -resize x60 result_60.jpg</span><br><span class="line">#截图</span><br><span class="line">convert result_60.jpg -crop wxh+dx+dy result_60.jpg</span><br><span class="line">#w 为要截取图片的宽</span><br><span class="line">#h 为要截取图片的高</span><br><span class="line">#dx，dy 是开始截取的偏移位置，以左上角为原点</span><br><span class="line">#拼图</span><br><span class="line">#横向拼接</span><br><span class="line">convert <span class="number">1.</span>jpg <span class="number">2.</span>jpg <span class="number">3.</span>jpg +append result.jpg</span><br><span class="line">#纵向拼接</span><br><span class="line">convert <span class="number">1.</span>jpg <span class="number">2.</span>jpg <span class="number">3.</span>jpg -append result.jpg</span><br><span class="line">#<span class="number">256</span> 色 png 压缩</span><br><span class="line">convert -strip -depth <span class="number">8</span> -colors <span class="number">256</span> soure.png result.png</span><br><span class="line">advpng -z <span class="number">-4</span> result.png</span><br><span class="line">图片上写字</span><br><span class="line">convert source.jpg -font xxx.ttf -fill red -pointsize <span class="number">48</span> -annotate +<span class="number">50</span>+<span class="number">50</span> @text.txt result.jpg</span><br><span class="line">#使用字体 xxx.ttf, 字体用红色填充，字体 <span class="number">48</span>pixel, 位置(<span class="number">50</span>,<span class="number">50</span>), 文字在 text.txt 文件中</span><br><span class="line">#图片上画长方形</span><br><span class="line">convert source.jpg fill none -stroke red -strokewidth <span class="number">3</span> -draw rectangle <span class="number">50</span>,<span class="number">50</span> <span class="number">100</span>,<span class="number">100</span> result.jpg</span><br><span class="line">#还一个线宽为 <span class="number">3</span>，颜色为红色，从 <span class="number">50</span>，<span class="number">50</span> 到 <span class="number">100</span>，<span class="number">100</span> 的正方形，不填充</span><br><span class="line">#画线为 -draw line <span class="number">50</span>,<span class="number">50</span> <span class="number">100</span>,<span class="number">100</span></span><br><span class="line">#把图片合并成 PDF</span><br><span class="line">convert <span class="number">1.</span>jpg <span class="number">2.</span>jpg +compress res.pdf</span><br></pre></td></tr></table></figure>

<h1 id="005"><a href="#005" class="headerlink" title="005"></a>005</h1><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、README</span><br><span class="line">fstest的时候，解压版本后，目录下有这几个文件：</span><br><span class="line">[<span class="symbol">root@</span>host10242493 pjd-fstest<span class="number">-20080816</span>]# ls</span><br><span class="line">fstest.c  LICENSE  Makefile  README  tests</span><br><span class="line"></span><br><span class="line">就应该查看Makefile和README里面的内容</span><br><span class="line">最后发现需要在该目录下执行：make</span><br><span class="line">shell脚本curl命令，会出现有些链接，链接不上的问题：</span><br><span class="line">修改系统参数解决：</span><br><span class="line">sysctl -a  查看系统参数</span><br></pre></td></tr></table></figure>

<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>、日志定时打包，定时删除</span><br><span class="line">[root@dev-<span class="number">41</span> logrotate.d]<span class="comment"># cat /etc/logrotate.d/hyperkv </span></span><br><span class="line"><span class="regexp">/mnt/</span>log<span class="regexp">/hyperkv/m</span>etaparser<span class="regexp">/hyperkv.INFO /</span>opt<span class="regexp">/KV/</span>nohup.out &#123;</span><br><span class="line">notifempty</span><br><span class="line">copytruncate</span><br><span class="line">daily</span><br><span class="line">rotate <span class="number">3</span></span><br><span class="line">missingok</span><br><span class="line">dateext</span><br><span class="line">compress</span><br><span class="line">sharedscripts</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">·上面的hyperkv可以自定义命名</span><br><span class="line">·<span class="regexp">/mnt/</span>log<span class="regexp">/hyperkv/m</span>etaparser<span class="regexp">/hyperkv.INFO和/</span>opt<span class="regexp">/KV/</span>nohup.out为真实日志路径</span><br><span class="line">·rotate <span class="number">3</span>（<span class="number">3</span>表示：<span class="number">3</span>天删除日志）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">crontab -e中加入：</span><br><span class="line"><span class="number">30</span> <span class="number">02</span> * * * <span class="regexp">/usr/</span>sbin<span class="regexp">/logrotate -f /</span>etc<span class="regexp">/logrotate.d/</span>hyperkv</span><br></pre></td></tr></table></figure>

<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">3、安装ftp：</span><br><span class="line">1、yum install vsftpd</span><br><span class="line"></span><br><span class="line">4.创建用户</span><br><span class="line">（1）首先要启动服务</span><br><span class="line">service vsftpd start</span><br><span class="line">（2）创建用户</span><br><span class="line">adduser -s /bin/bash -d /mnt/xufx/ftp xufx</span><br><span class="line">passwd xufx</span><br><span class="line"></span><br><span class="line">5.vsftpd的配置</span><br><span class="line">安装完之后在/etc/vsftpd/路径下会存在三个配置文件。</span><br><span class="line">vsftpd.conf: 主配置文件</span><br><span class="line">ftpusers: 指定哪些用户不能访问FTP服务器,这里的用户包括root在内的一些重要用户。</span><br><span class="line">user_list: 指定的用户是否可以访问ftp服务器，通过vsftpd.conf文件中的userlist_deny的配置来决定配置中的用户是否可以访问，<span class="attribute">userlist_enable</span>=<span class="literal">YES</span> ，<span class="attribute">userlist_deny</span>=<span class="literal">YES</span> ，<span class="attribute">userlist_file</span>=/etc/vsftpd/user_list 这三个配置允许文件中的用户访问FTP。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(1)登录ftp后会发现，用户可以访问其他目录，并且具有mpsp组的权限，这样做是不允许的，我们需要将用户的访问范围控制在其主目录下。方法如下：</span><br><span class="line">a. vi /etc/vsftpd/vsftpd.conf进入ftp配置文件目录并编辑此文件,</span><br><span class="line"><span class="attribute">anonymous_enable</span>=<span class="literal">NO</span></span><br><span class="line"><span class="attribute">chroot_list_enable</span>=<span class="literal">YES</span></span><br><span class="line"><span class="attribute">chroot_list_file</span>=/etc/vsftpd/chroot_list</span><br><span class="line"><span class="attribute">chroot_local_user</span>=<span class="literal">NO</span></span><br><span class="line"><span class="attribute">userlist_enable</span>=<span class="literal">YES</span></span><br><span class="line"></span><br><span class="line">最后加上：</span><br><span class="line"><span class="attribute">userlist_deny</span>=<span class="literal">NO</span></span><br><span class="line"><span class="attribute">userlist_file</span>=/etc/vsftpd/user_list</span><br><span class="line"></span><br><span class="line">（2）</span><br><span class="line">vi /etc/vsftpd/vsftpd.chroot_list </span><br><span class="line">[root@dev-21 vsftpd]# vi vsftpd.chroot_list</span><br><span class="line">xufx</span><br><span class="line"></span><br><span class="line">（3）</span><br><span class="line">vi /etc/vsftpd/user_list </span><br><span class="line">最后加入xufx</span><br><span class="line"></span><br><span class="line">（4）</span><br><span class="line">ftp的ip+端口的登录方式：ftp 10.244.76.84 811</span><br></pre></td></tr></table></figure>

<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span>、查看内存泄露：</span><br><span class="line">[<span class="symbol">root@</span>sdosspststorage10 my]# ps -ef|grep fuse|grep -v grep</span><br><span class="line">root     <span class="number">10223</span>     <span class="number">1</span>  <span class="number">8</span> <span class="number">09</span>:<span class="number">04</span> ?        <span class="number">00</span>:<span class="number">53</span>:<span class="number">40</span> /mnt/data2/ossfuse/sdoss/weed -v=<span class="number">4</span> -http=<span class="literal">true</span> -log_dir=/mnt/data2/ossfuse/log ossfuse -bucket=fusebucket -mountpoint=/mnt/data2/ossfuse/test -ossendpoint=osspstxg.cnsuning.com</span><br><span class="line">[<span class="symbol">root@</span>sdosspststorage10 my]# top -p <span class="number">10223</span></span><br><span class="line">top - <span class="number">19</span>:<span class="number">28</span>:<span class="number">09</span> up <span class="number">178</span> days, <span class="number">23</span>:<span class="number">46</span>, <span class="number">10</span> users,  load average: <span class="number">1.37</span>, <span class="number">1.23</span>, <span class="number">1.18</span></span><br><span class="line">Tasks:   <span class="number">1</span> total,   <span class="number">0</span> running,   <span class="number">1</span> sleeping,   <span class="number">0</span> stopped,   <span class="number">0</span> zombie</span><br><span class="line">Cpu(s):  <span class="number">0.9</span>%us,  <span class="number">6.1</span>%sy,  <span class="number">0.0</span>%ni, <span class="number">92.9</span>%id,  <span class="number">0.0</span>%wa,  <span class="number">0.0</span>%hi,  <span class="number">0.0</span>%si,  <span class="number">0.1</span>%st</span><br><span class="line">Mem:  <span class="number">16334344</span>k total, <span class="number">15974360</span>k used,   <span class="number">359984</span>k free,    <span class="number">59644</span>k buffers</span><br><span class="line">Swap: <span class="number">10485752</span>k total,  <span class="number">5624620</span>k used,  <span class="number">4861132</span>k free,  <span class="number">3207248</span>k cached</span><br><span class="line"></span><br><span class="line">  PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND                                                                                                                                </span><br><span class="line"><span class="number">10223</span> root      <span class="number">20</span>   <span class="number">0</span> <span class="number">3031</span>m <span class="number">456</span>m <span class="number">3564</span> S  <span class="number">0.0</span>  <span class="number">2.9</span>  <span class="number">53</span>:<span class="number">40.33</span> weed </span><br><span class="line"></span><br><span class="line">RES值：应该变化不是太大，如果有增长，之后还是会降下来的，不降就是内存泄露</span><br></pre></td></tr></table></figure>

<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span>、ssh超时：</span><br><span class="line">vdbench免密拷机的时候，会无缘无故的退出，之后发现ssh超时，需要注释下面两行，重启sshd</span><br><span class="line">[root<span class="symbol">@sdfspstapp01</span> mnt]<span class="meta"># cat /etc/ssh/sshd_config |grep -E <span class="string">"ClientAliveInterval|ClientAliveCountMax"</span></span></span><br><span class="line"><span class="meta">#ClientAliveInterval 600</span></span><br><span class="line"><span class="meta">#ClientAliveCountMax 0</span></span><br></pre></td></tr></table></figure>

<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6</span>、linux命令：</span><br><span class="line">将脚本放到 /usr/<span class="keyword">local</span>/sbin/目录下可以作为命令使用</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> filemap <span class="keyword">limit</span> <span class="number">1</span>\G</span><br><span class="line">curl 带-w "%&#123;http_code&#125;"这个参数直接返回code</span><br></pre></td></tr></table></figure>

<h1 id="001-作业"><a href="#001-作业" class="headerlink" title="001-作业"></a>001-作业</h1><p>基础篇：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>新建组gname，设定组的id号为<span class="number">800</span>，查看组的信息；</span><br><span class="line">groupadd -g <span class="number">800</span> gname</span><br><span class="line">tail /etc/group</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>新建用户ourteams，用户属于root组，用户id设置为<span class="number">790</span>，给用户设定密码为<span class="number">123456</span>，查看该用户的信息；</span><br><span class="line">useradd -g root -u <span class="number">790</span> ourteams</span><br><span class="line">passwd ourteams</span><br><span class="line">id ourteams</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>修改用户ourteams的所属组为gname组，查看该用户的信息；</span><br><span class="line">usermod -g gname ourteams</span><br><span class="line">id ourteams</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>查看当前在线的用户信息，即查看当前有哪些用户登录到系统中；</span><br><span class="line">who</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>使用ourteams用户登录系统：（请按顺序写作业）</span><br><span class="line">su - ourteams</span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>进入ourteams用户的家目录，同时创建三个文件夹ateam，bteam和cteam</span><br><span class="line">mkdir ateam bteam cteam</span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>拷贝ourteams用户的家目录下的.bashrc文件到ateam文件夹中，并修改文件名称为afile</span><br><span class="line">cp .bashrc ateam/afile</span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>拷贝ateam文件夹到cteam文件夹中，修改cteam文件夹下的ateam文件夹为cdir</span><br><span class="line">cp -r ateam cteam/cdir</span><br><span class="line"></span><br><span class="line"><span class="number">9.</span>修改bteam文件名为bdir，将ateam文件夹移动到bdir中</span><br><span class="line">mv bteam bdir</span><br><span class="line">mv ateam bdir</span><br><span class="line"></span><br><span class="line"><span class="number">10.</span>拷贝/etc/man.config文件到ourteams用户家目录下；</span><br><span class="line">cp /etc/man.config ./</span><br><span class="line"></span><br><span class="line"><span class="number">11.</span>查看man.config文件的前<span class="number">5</span>行；</span><br><span class="line">head <span class="number">-5</span> man.config</span><br><span class="line"></span><br><span class="line"><span class="number">12.</span>查看man.config文件的最后<span class="number">3</span>行；</span><br><span class="line">tail <span class="number">-3</span> man.config</span><br><span class="line"></span><br><span class="line"><span class="number">13.</span>为man.config文件的所属用户加上可执行权限，其他用户取消可读权限；</span><br><span class="line">chmod u+x man.config</span><br><span class="line"></span><br><span class="line"><span class="number">14.</span>切换到root用户，设置bdir及bdir下所有的文件权限为所属用户具有读写权限，所属组用户具有读和执行权限，其他用户只有读取权限；</span><br><span class="line">su - root</span><br><span class="line">chmod -R <span class="number">654</span> bdir</span><br><span class="line"></span><br><span class="line"><span class="number">15.</span>切换到root用户，将/home/ourteams/man.config所属用户修改为bin，所属组修改为root。</span><br><span class="line">chown bin:root man.config</span><br><span class="line"></span><br><span class="line"><span class="number">16.</span>切换到ourteams用户，为/home/ourteams/cteam/cdir下的afile创建硬链接，链接到用户家目录，链接名称为yfile；</span><br><span class="line">su - ourteams</span><br><span class="line">ln /home/ourteams/cteam/cdir/afile yfile</span><br><span class="line"></span><br><span class="line"><span class="number">17.</span>为/home/ourteams/cteam/cdir文件夹创建一个软连接，连接名称为rdir，链接到/home/ourteams目录下；</span><br><span class="line">ln -s /home/ourteams/cteam/cdir rdir</span><br><span class="line"></span><br><span class="line"><span class="number">18.</span>在rdir中创建一个新的文件，rlj.txt；</span><br><span class="line">touch rlj.txt</span><br><span class="line"></span><br><span class="line"><span class="number">19.</span>使用root用户登录系统</span><br><span class="line"></span><br><span class="line"><span class="number">20.</span>修改gname的组id为<span class="number">650</span>；</span><br><span class="line">groupmod -g <span class="number">650</span> gname</span><br><span class="line"></span><br><span class="line"><span class="number">21.</span>将ourteams用户加入到root组中；</span><br><span class="line">gpasswd -a ourteams root</span><br><span class="line"></span><br><span class="line"><span class="number">22.</span>查看ourteams用户属于哪些组；</span><br><span class="line">id ourteams</span><br><span class="line"></span><br><span class="line"><span class="number">23.</span>修改outeams用户家目录所属组为gname组</span><br><span class="line">usermod -g gname ourteams</span><br><span class="line"></span><br><span class="line"><span class="number">24.</span>修改ourteams用户家目录以及家目录下所有文件所属用户以及组都为root</span><br><span class="line">chown -R root:root ourteams</span><br><span class="line"></span><br><span class="line"><span class="number">25.</span>删除ourteams用户以及它的家目录文件</span><br><span class="line">userdel -r ourteams</span><br></pre></td></tr></table></figure>

<h1 id="002-作业"><a href="#002-作业" class="headerlink" title="002-作业"></a>002-作业</h1><p>基础篇：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">1.写出系统1分钟后关机的命令。</span><br><span class="line">shutdown -h 1</span><br><span class="line"></span><br><span class="line">2.重启机器的命令</span><br><span class="line">reboot</span><br><span class="line"></span><br><span class="line">3.查看当前目录的命令。</span><br><span class="line">pwd</span><br><span class="line"></span><br><span class="line">4.开机启动级别的系统文件是</span><br><span class="line">vi  /etc/inittab</span><br><span class="line"></span><br><span class="line">5.查看环境变量的系统文件是：</span><br><span class="line">vi /etc/profile</span><br><span class="line"></span><br><span class="line">6.添加别名 l=ls –l ，并指定到环境变量中</span><br><span class="line">vi /etc/profile</span><br><span class="line">G最后一行，输入alias l=“ls -l”：wq，</span><br><span class="line">source/etc/profile</span><br><span class="line">添加登录提示语“welcome to hzn”</span><br><span class="line"></span><br><span class="line">7.在root用户的家目录下创建目录file</span><br><span class="line">mkdir file</span><br><span class="line"></span><br><span class="line">8.拷贝/etc/passwd文件至file目录</span><br><span class="line">cp /etc/passwd file</span><br><span class="line"></span><br><span class="line">9.给passwd文件重命名为password</span><br><span class="line">mv passwd password</span><br><span class="line"></span><br><span class="line">10.查看password文件，并显示行号。</span><br><span class="line">cat -n password</span><br><span class="line"></span><br><span class="line">11.查看password文件的前5行的命令</span><br><span class="line">head -5 password</span><br><span class="line"></span><br><span class="line">12.查看password文件的后5行的命令</span><br><span class="line"> tail -5 password</span><br><span class="line"> </span><br><span class="line">13.在file 目录下创建多个目录 1 2 3 4 5 6</span><br><span class="line">mkdir 1 2 3 4 5 6</span><br><span class="line"></span><br><span class="line">14.在1目录下创建多层文件夹 ,1下面有文件夹a，a下面有文件夹b，b文件夹下面有</span><br><span class="line">mkdir -p a/b/c</span><br><span class="line"></span><br><span class="line">15.在c目录下创建文件Firsttest.txt</span><br><span class="line">touch Firsttest.txt</span><br><span class="line"></span><br><span class="line">16.拷贝/etc/passwd的内容到新建的文件Firsttest.txt中</span><br><span class="line">cat /etc/passwd&gt;&gt;  Firsttest.txt</span><br><span class="line"></span><br><span class="line">- 对Firsttest.txt文件进行编辑：</span><br><span class="line">跳转到该文件的结尾，输入内容：</span><br><span class="line">Hello，This is the first time to edit the file</span><br><span class="line">And I am glad to learn more</span><br><span class="line">End</span><br><span class="line">vi Firsttest.txt</span><br><span class="line">G</span><br><span class="line">i</span><br><span class="line">输入：</span><br><span class="line">        Hello，This is the first time to edit the file</span><br><span class="line">        And I am glad to learn more</span><br><span class="line">        End</span><br><span class="line">:wq</span><br><span class="line"></span><br><span class="line">- 复制该文本第3-6行的内容，并将其粘贴到该文件的末尾</span><br><span class="line">:3,6y</span><br><span class="line">G</span><br><span class="line">p</span><br><span class="line"></span><br><span class="line">- 删除该文件的第15-18行内容</span><br><span class="line">:15,18d</span><br><span class="line"></span><br><span class="line">- 查找文件中的home字符</span><br><span class="line">/home</span><br><span class="line"></span><br><span class="line">- 查找含有e的行，查找不区分大小写</span><br><span class="line">/e\c</span><br><span class="line"></span><br><span class="line">- 替换文本所有行的bin为BIN</span><br><span class="line">1,$s/bin/BIN/g</span><br><span class="line"><span class="meta">%</span><span class="bash">s/bin/BIN/g</span></span><br><span class="line"></span><br><span class="line">保存退出</span><br><span class="line">:wq</span><br><span class="line"></span><br><span class="line">- 重新进入该文本编辑，设置显示行号</span><br><span class="line">vi Firsttest.txt</span><br><span class="line">:set nu</span><br><span class="line"></span><br><span class="line">- 跳转到行号40行，将该行的home修改为HOME</span><br><span class="line">:40</span><br><span class="line">s/home/HOME/g</span><br><span class="line">不保存退出</span><br><span class="line">:q!</span><br><span class="line"></span><br><span class="line">17.拷贝1目录下所有的文件及目录至2文件夹下</span><br><span class="line">cd /root/file/1</span><br><span class="line">cp -r 1 2</span><br><span class="line"></span><br><span class="line">18.删除1目录下所有文件及目录</span><br><span class="line">rm -rf 1</span><br><span class="line"></span><br><span class="line">19挂载linux.iso光盘至3文件夹</span><br><span class="line">mount /dev/cdrom 3</span><br><span class="line"></span><br><span class="line">练习：</span><br><span class="line">在root用户家目录新建文件test</span><br><span class="line">手动输入字母a到z,    100遍</span><br></pre></td></tr></table></figure>

<h1 id="003-作业"><a href="#003-作业" class="headerlink" title="003-作业"></a>003-作业</h1><p>基础篇：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">1.恢复RHEL5的快照</span><br><span class="line"></span><br><span class="line">2.新建组china和english</span><br><span class="line">groupadd china</span><br><span class="line">groupadd english</span><br><span class="line"></span><br><span class="line">3.新建用户china1和用户china2，属于china组，将他们的密码设置为他们的用户名，如china1设置密码为china1</span><br><span class="line">useradd -g china china2</span><br><span class="line">passwd china1</span><br><span class="line">passwd china2</span><br><span class="line"></span><br><span class="line">4.新建用户eng1和用户eng2，属于english组，将他们的密码设置为他们的用户名</span><br><span class="line">useradd -g english eng1</span><br><span class="line">useradd -g english eng2</span><br><span class="line"></span><br><span class="line">5.以eng1用户登录系统</span><br><span class="line">su - eng1</span><br><span class="line"></span><br><span class="line">6.创建多个文件夹file1，file2和file3</span><br><span class="line">mkdir file1 file2 file3</span><br><span class="line"></span><br><span class="line">7.拷贝/etc/passwd文件到eng1用户的家目录下，修改名称为groupeng</span><br><span class="line">cp /etc/passwd ~/groupeng</span><br><span class="line"></span><br><span class="line">8.打开groupeng文件</span><br><span class="line">vi groupeng</span><br><span class="line">将该文件的root替换为自己的姓名首字母缩写</span><br><span class="line">:%s/root/wxt/g</span><br><span class="line">到第15行，删除15行之后的所有内容</span><br><span class="line">:15</span><br><span class="line">dG</span><br><span class="line">复制第一行的内容，将它粘贴到最后一行去</span><br><span class="line">gg</span><br><span class="line">yy</span><br><span class="line">G</span><br><span class="line">p</span><br><span class="line">替换第3行到第8行的sh为545</span><br><span class="line">:3,8s/sh/545/g</span><br><span class="line">删除第一行</span><br><span class="line">gg</span><br><span class="line">dd</span><br><span class="line">撤销上一步操作</span><br><span class="line">u</span><br><span class="line">保存该文档</span><br><span class="line">:wq</span><br><span class="line"></span><br><span class="line">9.在文件夹file1下新增递归文件夹a/b/c/d/e/f</span><br><span class="line">mkdir -p file1/a/b/c/d/e/f</span><br><span class="line"></span><br><span class="line">10.拷贝groupeng文件到f文件夹下</span><br><span class="line">cp groupeng file1/a/b/c/d/e/f</span><br><span class="line"></span><br><span class="line">11.拷贝file1/a/b/c/d文件夹及文件夹下所有的文件到file2目录下</span><br><span class="line">cp -r file1/a/b/c/d file2</span><br><span class="line"></span><br><span class="line">12.删除eng1家目录下的groupeng文件</span><br><span class="line">rm groupeng</span><br><span class="line"></span><br><span class="line">13.在file2文件夹下创建文件atest</span><br><span class="line">touch file2/atest</span><br><span class="line"></span><br><span class="line">14.查看atest文件占用的磁盘空间，将查看的结果输出到file2文件夹的btest文件中</span><br><span class="line">du -sh * </span><br><span class="line">du -sh attest &gt;&gt; btest</span><br><span class="line"></span><br><span class="line">15.拷贝file1下a/b/c/d/e/f文件夹中的groupeng为group1</span><br><span class="line">cp file1/a/b/c/d/e/f/groupeng file1/a/b/c/d/e/f/group1</span><br><span class="line"></span><br><span class="line">16.找出系统中关于ssh的进程</span><br><span class="line">ps -ef | grep ssh</span><br><span class="line"></span><br><span class="line">17.查找出home下含有a的文件</span><br><span class="line">find /home -name "*a*"</span><br><span class="line"></span><br><span class="line">18.查找出home下名称为groupeng的文件</span><br><span class="line">find /home -name "groupeng"</span><br><span class="line"></span><br><span class="line">19.查找出第二个字母为h的文件</span><br><span class="line">find /home -name "?h*"</span><br><span class="line"></span><br><span class="line">20.查找系统中是否安装过zsh的rpm包，如果已安装则卸载该应用</span><br><span class="line">rpm -q zsh</span><br><span class="line"></span><br><span class="line">21.挂载rhel5的镜像文件，找出含有zsh的rpm包，安装zsh的rpm包</span><br><span class="line">mount /dev/cdrom /mnt</span><br><span class="line">cd /mnt</span><br><span class="line">ls</span><br><span class="line">cd Server</span><br><span class="line">ls |grep zsh</span><br><span class="line">rpm -ivh zsh-4.2.6-3.el5.i386.rpm</span><br><span class="line"></span><br><span class="line">22.安装vsftpd的rpm包。查看该服务的信息，如何查看该服务的配置文件；</span><br><span class="line">ls |grep ftp</span><br><span class="line">rpm -ivh vstpd</span><br><span class="line">rpm -qi vsftpd</span><br><span class="line">rpm -qc vsftpd</span><br><span class="line"></span><br><span class="line">23.在用户家目录下创建setup文件夹，上传ftplinux第三天mysql相关文件至该目录</span><br><span class="line">cd</span><br><span class="line">mkdir setup</span><br><span class="line">cd setup</span><br><span class="line">rz</span><br><span class="line"></span><br><span class="line">24.将setup目录打包成tar包放置到家目录</span><br><span class="line">tar -cvf setup.tar setup</span><br><span class="line"></span><br><span class="line">将setup目录打包成tar.gz放到home目录，并命名为set.tgz</span><br><span class="line">tar -zcvf /home/set.tgz setup</span><br><span class="line"></span><br><span class="line">解压set.tgz文件至根目录</span><br><span class="line">tar -zxvf set.tgz -C /</span><br><span class="line"></span><br><span class="line">25.删除根目录下setup目录及目录文件</span><br><span class="line">rm -rf  /setup</span><br><span class="line"></span><br><span class="line">26.将setup目录打包成zip包放置到家目录</span><br><span class="line">zip -r setup.zip setup</span><br><span class="line"></span><br><span class="line">27.解压zip包到home目录</span><br><span class="line">unzip setup.zip -d /home</span><br></pre></td></tr></table></figure>

<h1 id="001-shell"><a href="#001-shell" class="headerlink" title="001-shell"></a>001-shell</h1><p><strong>shell是一个命令解释器:</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">shell的版本：常用bshell，cshell</span><br><span class="line">Bourne Shell</span><br><span class="line">BASH( Bshell）</span><br><span class="line">Korn Shell</span><br><span class="line">C Shell</span><br></pre></td></tr></table></figure>

<p><strong>查看本机shell：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">echo $SHELL</span><br><span class="line">cat  /etc/shells</span><br><span class="line">/bin/sh 已被/bin/bash替换</span><br><span class="line">/bin/bash 默认的shell</span><br><span class="line">/sbin/nologin</span><br><span class="line">/bin/ash</span><br></pre></td></tr></table></figure>

<p><strong>执行脚本：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">./1.sh         </span><br><span class="line">/root/shell1/1.sh</span><br><span class="line">bash 1.sh        </span><br><span class="line">sh  1.sh</span><br></pre></td></tr></table></figure>

<p><strong>脚本格式:</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi 1.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">这是一个shell脚本</span></span><br><span class="line">echo “hello world!”</span><br></pre></td></tr></table></figure>

<p><strong>输出echo：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">echo命令显示文本行或变量取值。或者把字符输入到文件中</span><br><span class="line">\t跳格          </span><br><span class="line">\n换行</span><br><span class="line">echo  -e 使转义符生效</span><br><span class="line">[root@wxt shell1]# echo -e "hello\tboy"</span><br><span class="line"></span><br><span class="line">echo命令对特殊字符敏感：</span><br><span class="line">\:转义特殊字符，使其失效</span><br><span class="line">双引号“ ”:保留引号内字符的特殊含义</span><br><span class="line">单引号‘’：引号里面的内容作为字符输出</span><br><span class="line">反引号：存放命令</span><br><span class="line"></span><br><span class="line">echo The time is `date +%y%m%d`</span><br><span class="line">echo $SHELL</span><br><span class="line">echo $PATH</span><br><span class="line">echo what\'s the means the sign '"`v_v`"'</span><br><span class="line"></span><br><span class="line">a=b</span><br><span class="line">echo $&#123;a&#125;24</span><br><span class="line">b24</span><br></pre></td></tr></table></figure>

<p><strong>输入read：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">-p  在等待read输入前提示信息</span><br><span class="line">-t  秒数，指定等待时间</span><br><span class="line">-n  字符数，指定接受的字符数就会执行</span><br><span class="line">-s  隐藏输入数据，用于机密信息的输入</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# read a</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# echo $a</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# read b</span><br><span class="line">2</span><br><span class="line">[root@wxt shell1]# echo $b</span><br><span class="line">2</span><br><span class="line">[root@wxt shell1]# read b</span><br><span class="line">adcc</span><br><span class="line">[root@wxt shell1]# echo $b</span><br><span class="line">adcc</span><br><span class="line"></span><br><span class="line">-p：</span><br><span class="line">[root@wxt shell1]# read -p "pleas write a number:" a</span><br><span class="line">pleas write a number:fdssd</span><br><span class="line">[root@wxt shell1]# echo $a</span><br><span class="line">fdssd</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# read name surname</span><br><span class="line">John Mike Kate</span><br><span class="line">[root@wxt shell1]# echo $surname</span><br><span class="line">Mike Kate</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">[root@wxt shell1]# read user password</span><br><span class="line">mike 1234567</span><br><span class="line">[root@wxt shell1]# echo $user</span><br><span class="line">mike</span><br><span class="line">[root@wxt shell1]# echo $password</span><br><span class="line">1234567</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# read user password</span><br><span class="line">mike</span><br><span class="line">[root@wxt shell1]# echo $user</span><br><span class="line">mike</span><br><span class="line">       </span><br><span class="line">[root@wxt shell1]# read user password</span><br><span class="line">mike john 123456</span><br><span class="line">[root@wxt shell1]# echo $user</span><br><span class="line">mike</span><br><span class="line">[root@wxt shell1]# echo $password</span><br><span class="line">john 123456</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# read var1 var2 var3</span><br><span class="line">1 2 3 4 5</span><br><span class="line">[root@wxt shell1]# echo var1</span><br><span class="line">var1</span><br><span class="line">[root@wxt shell1]# echo $var1</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# echo $var2</span><br><span class="line">2</span><br><span class="line">[root@wxt shell1]# echo $var3</span><br><span class="line">3 4 5</span><br></pre></td></tr></table></figure>

<p><strong>要以&gt;EOF结尾</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@wxt shell1]# cat &lt;&lt; EOF</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> AKJSDNI</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ASDFAKSDM</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SADKMFA</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> FDKLMVA</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ASKMA</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> EOF</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> AKJSDNI</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ASDFAKSDM</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> SADKMFA</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> FDKLMVA</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ASKMA</span></span><br></pre></td></tr></table></figure>

<p><strong>输出tee：</strong>（常和|结合使用）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">tee -a追加</span><br><span class="line">[root@wxt shell1]# echo "hello" &gt; 1</span><br><span class="line">[root@wxt shell1]# cat 1</span><br><span class="line">hello</span><br><span class="line">[root@wxt shell1]# echo "hello" &gt;&gt; 1</span><br><span class="line">[root@wxt shell1]# echo "hello" &gt;&gt; 1</span><br><span class="line">[root@wxt shell1]# echo "hello" &gt;&gt; 1</span><br><span class="line">[root@wxt shell1]# cat 1</span><br><span class="line">hello</span><br><span class="line">hello</span><br><span class="line">hello</span><br><span class="line">hello</span><br><span class="line">[root@wxt shell1]# echo "hello" &gt; 1</span><br><span class="line">[root@wxt shell1]# cat 1</span><br><span class="line">hello</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# echo "hello world" |tee 1</span><br><span class="line">hello world</span><br><span class="line">[root@wxt shell1]# cat 1</span><br><span class="line">hello world</span><br><span class="line">[root@wxt shell1]# echo "hello world" |tee -a 1</span><br><span class="line">hello world</span><br><span class="line">[root@wxt shell1]# echo "hello world1" |tee -a 1</span><br><span class="line">hello world1</span><br><span class="line">[root@wxt shell1]# cat 1</span><br><span class="line">hello world</span><br><span class="line">hello world</span><br><span class="line">hello world1</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# who |tee who.info</span><br><span class="line">root     tty1         Oct 27 06:06</span><br><span class="line">root     :0           Oct 25 13:18</span><br><span class="line">root     pts/3        Oct 28 04:55 (192.168.184.1)</span><br><span class="line">root     pts/4        Oct 27 07:48 (:0.0)</span><br><span class="line">[root@wxt shell1]# cat who.info</span><br><span class="line">root     tty1         Oct 27 06:06</span><br><span class="line">root     :0           Oct 25 13:18</span><br><span class="line">root     pts/3        Oct 28 04:55 (192.168.184.1)</span><br><span class="line">root     pts/4        Oct 27 07:48 (:0.0)</span><br><span class="line">[root@wxt shell1]# who |tee -a who.info</span><br><span class="line">root     tty1         Oct 27 06:06</span><br><span class="line">root     :0           Oct 25 13:18</span><br><span class="line">root     pts/3        Oct 28 04:55 (192.168.184.1)</span><br><span class="line">root     pts/4        Oct 27 07:48 (:0.0)</span><br><span class="line">[root@wxt shell1]# cat who.info</span><br><span class="line">root     tty1         Oct 27 06:06</span><br><span class="line">root     :0           Oct 25 13:18</span><br><span class="line">root     pts/3        Oct 28 04:55 (192.168.184.1)</span><br><span class="line">root     pts/4        Oct 27 07:48 (:0.0)</span><br><span class="line">root     tty1         Oct 27 06:06</span><br><span class="line">root     :0           Oct 25 13:18</span><br><span class="line">root     pts/3        Oct 28 04:55 (192.168.184.1)</span><br><span class="line">root     pts/4        Oct 27 07:48 (:0.0)</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# ps -ef|grep vi|tee pid_info</span><br><span class="line">[root@wxt shell1]# who |tee -a pid_info</span><br></pre></td></tr></table></figure>

<p><strong>标准输入，输出和错误</strong><br>标准输入  0<br>标准输出  1<br>标准错误  2</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">[root@wxt shell1]# vi 1.sh</span><br><span class="line">[root@wxt shell1]# sh 1.sh</span><br><span class="line">/root/shell1</span><br><span class="line">1.sh: line 3: lsa: command not found</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# sh 1.sh 1&gt;yes</span><br><span class="line">1.sh: line 3: lsa: command not found</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# sh 1.sh 2&gt;no</span><br><span class="line">/root/shell1</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# cat yes</span><br><span class="line">/root/shell1</span><br><span class="line">[root@wxt shell1]# cat no</span><br><span class="line">1.sh: line 3: lsa: command not found</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# sh 1.sh 1&gt;yes 2&gt;no</span><br><span class="line">[root@wxt shell1]# sh 1.sh &gt;file 2&gt;&amp;1</span><br><span class="line">[root@wxt shell1]# cat file</span><br><span class="line">/root/shell1</span><br><span class="line">1.sh: line 3: lsa: command not found</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# sh 1.sh &gt;&gt;file 2&gt;&amp;1</span><br><span class="line">[root@wxt shell1]# cat file</span><br><span class="line">/root/shell1</span><br><span class="line">1.sh: line 3: lsa: command not found</span><br><span class="line">/root/shell1</span><br><span class="line">1.sh: line 3: lsa: command not found</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# cat &lt;file</span><br><span class="line">/root/shell1</span><br><span class="line">1.sh: line 3: lsa: command not found</span><br><span class="line">/root/shell1</span><br><span class="line">1.sh: line 3: lsa: command not found</span><br><span class="line">[root@wxt shell1]# cat &lt;file &gt;file2</span><br><span class="line">[root@wxt shell1]# cat file2</span><br><span class="line">/root/shell1</span><br><span class="line">1.sh: line 3: lsa: command not found</span><br><span class="line">/root/shell1</span><br><span class="line">1.sh: line 3: lsa: command not found</span><br><span class="line"></span><br><span class="line">标准错误输送到系统垃圾箱：</span><br><span class="line">[root@wxt shell1]# sh 1.sh &gt;file 2&gt;/dev/null</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# sh 1.sh &gt; r.log 2&gt;&amp;1</span><br><span class="line"> ls -a&gt;&gt;r.log</span><br></pre></td></tr></table></figure>

<p><strong>sort排序：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">-n</span><br><span class="line">-rn</span><br><span class="line">[root@wxt shell1]# vi test</span><br><span class="line">[root@wxt shell1]# cat test</span><br><span class="line">1 as</span><br><span class="line">3 km</span><br><span class="line">2 ds</span><br><span class="line">4 sa</span><br><span class="line">[root@wxt shell1]# sort -n test</span><br><span class="line">1 as</span><br><span class="line">2 ds</span><br><span class="line">3 km</span><br><span class="line">4 sa</span><br><span class="line">[root@wxt shell1]# sort -rn test</span><br><span class="line">4 sa</span><br><span class="line">3 km</span><br><span class="line">2 ds</span><br><span class="line">1 as</span><br></pre></td></tr></table></figure>

<p><strong>shell后台执行：crontab</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">-e 编辑crontab任务</span><br><span class="line">-l 列出crontab任务中的内容</span><br><span class="line">-r 删除当前用户的crontab</span><br><span class="line">crontab -e</span><br><span class="line">* * * * * date &gt;&gt;/root/shell1/date.log</span><br><span class="line">tail -f date，log</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# crontab -l</span><br><span class="line">* * * * * date &gt;&gt;/root/shell1/date.log</span><br><span class="line"></span><br><span class="line">* * * * *</span><br><span class="line">分，时，日，月，星期</span><br><span class="line">星期为0-6,0为星期日</span><br><span class="line"></span><br><span class="line">1 2 9,18,22 * * service vsftpd restart</span><br><span class="line">0 3 9-18 * * echo "JUST do IT" &gt;&gt;~/it.log</span><br><span class="line">*/5 * * * * /bin/ls</span><br><span class="line">0 18-23/2 * * * sh back.sh</span><br><span class="line">12 2 * * * sh a.sh 2&gt;&gt;~/r.log 1&gt;&gt;~/e.log</span><br><span class="line"></span><br><span class="line">删除:</span><br><span class="line">[root@wxt shell1]# crontab -r</span><br><span class="line"></span><br><span class="line">用户之间不能互相查看crontab -e，root用户也不能</span><br><span class="line">root可以用命令：crontab -l -u hzn</span><br><span class="line"></span><br><span class="line">sleep 10休眠10s</span><br></pre></td></tr></table></figure>

<h1 id="002-shell"><a href="#002-shell" class="headerlink" title="002-shell"></a>002-shell</h1><p><strong>at:SHELL后台执行</strong><br>at -f<br>at -d<br>at -l</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">[root@wxt ~]# date</span><br><span class="line">Fri Oct 28 15:31:55 CST 2016</span><br><span class="line">[root@wxt ~]# at 11:26     (ctrl+d结束at编辑）</span><br><span class="line"><span class="meta">at&gt;</span><span class="bash"> date &gt;&gt;~/date.log</span></span><br><span class="line"><span class="meta">at&gt;</span><span class="bash"> &lt;EOT&gt;</span></span><br><span class="line">job 1 at 2016-10-29 11:26</span><br><span class="line">[root@wxt ~]# at -l</span><br><span class="line">1        2016-10-29 11:26 a root</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">at 时间 -f 脚本</span><br><span class="line">[root@wxt ~]# at 15:00 tomorrow -f  ~/1.sh</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# date</span><br><span class="line">Fri Oct 28 15:39:32 CST 2016</span><br><span class="line">[root@wxt shell1]# at 15:40 today -f date.sh</span><br><span class="line">job 4 at 2016-10-28 15:40</span><br><span class="line">[root@wxt shell1]# at -l</span><br><span class="line">1        2016-10-29 11:26 a root</span><br><span class="line">2        2016-10-29 15:32 a root</span><br><span class="line"></span><br><span class="line">at -d 编号</span><br><span class="line">[root@wxt shell1]# at -l</span><br><span class="line">1        2016-10-29 11:26 a root</span><br><span class="line">2        2016-10-29 15:32 a root</span><br><span class="line">[root@wxt shell1]# at -d 2</span><br><span class="line">[root@wxt shell1]# at -l</span><br><span class="line">1        2016-10-29 11:26 a root</span><br><span class="line"></span><br><span class="line">课上练习：</span><br><span class="line">vi 1.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">finde=`find /home/test/source -name "ROM*"`</span><br><span class="line">cp $finde /home/test/bak &gt;cp_file.log 2&gt;cp_error.log</span><br><span class="line">:wq</span><br><span class="line">at 13:00 -f 1.sh</span><br></pre></td></tr></table></figure>

<p><strong>&amp;:(后台执行，不占据终端）</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">jobs -l 查看后台进程                              </span><br><span class="line">[root@wxt setup]# tar -cf oa.tar oa &amp;</span><br><span class="line">[1] 6628</span><br><span class="line"></span><br><span class="line">[root@wxt setup]# jobs -l</span><br><span class="line">[1]+  6628 Running                 tar -cf oa.tar oa &amp;</span><br><span class="line">ctrl+z将vi放到后台；  fg回到vi rom.sh</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# vi rom.sh</span><br><span class="line">ctrl+z</span><br><span class="line">[1]+  Stopped                 vi rom.sh</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# jobs -l</span><br><span class="line">[1]+  6648 停止                  vi rom.sh</span><br><span class="line">[root@wxt shell1]# fg</span><br></pre></td></tr></table></figure>

<p><strong>系统变量(环境变量）：/etc/profile</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">（必须先export，再env）</span><br><span class="line">env 查看所有系统环境变量</span><br><span class="line">export 变量</span><br><span class="line">env|grep 变量</span><br><span class="line">unset 变量</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# dname=2</span><br><span class="line">[root@wxt shell1]# env |grep dname</span><br><span class="line">[root@wxt shell1]# export dname</span><br><span class="line">[root@wxt shell1]# env |grep dname</span><br><span class="line">dname=2</span><br><span class="line"></span><br><span class="line">unset：清除系统环境变量</span><br><span class="line">[root@wxt shell1]# unset dname</span><br><span class="line">[root@wxt shell1]# echo $dname2</span><br><span class="line">[root@wxt shell1]# env|grep dname</span><br><span class="line"></span><br><span class="line">用户变量(.bash_profile在用户家目录下):</span><br><span class="line">set 显示用户所有变量</span><br><span class="line">①</span><br><span class="line">[root@wxt shell1]# name3=2</span><br><span class="line">[root@wxt shell1]# set |grep name3</span><br><span class="line">name3=2</span><br><span class="line">[root@wxt shell1]# unset name3</span><br><span class="line">[root@wxt shell1]# set |grep name3</span><br><span class="line">_=name3</span><br><span class="line"></span><br><span class="line">②</span><br><span class="line">（abc已经有值，所以不可以再赋值给abc，结果还应该是1，为空则赋值给他）</span><br><span class="line">[root@wxt shell1]# abc=1</span><br><span class="line">[root@wxt shell1]# echo $&#123;abc:=4&#125;</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# echo $&#123;abcd:=4&#125;</span><br><span class="line">4</span><br><span class="line">[root@wxt shell1]# echo $abcd</span><br><span class="line">4</span><br><span class="line"></span><br><span class="line">③</span><br><span class="line">[root@wxt shell1]# dir=/home</span><br><span class="line">[root@wxt shell1]# cd $dir</span><br><span class="line">[root@wxt home]# pwd</span><br><span class="line">/home</span><br><span class="line">[root@wxt home]# ls</span><br><span class="line">123.tar  china2  eng2   home    ourteams  set.tgz  test1  user.log  wang2  wxt</span><br><span class="line">china1   eng1    file1  oracle  passwd    setup    test2  wang1     wang3  yzy</span><br><span class="line">[root@wxt home]# cd /$dir/eng2</span><br><span class="line"></span><br><span class="line">④</span><br><span class="line">[root@wxt eng2]# wen=`date`</span><br><span class="line">[root@wxt eng2]# echo $wen</span><br><span class="line">Fri Oct 28 16:44:35 CST 2016</span><br><span class="line"></span><br><span class="line">⑤</span><br><span class="line">[root@wxt eng2]# file=`find /root -name "a*"`</span><br><span class="line">[root@wxt eng2]# echo $file</span><br><span class="line"></span><br><span class="line">⑥</span><br><span class="line">[root@wxt ~]# file=`ls`</span><br><span class="line">[root@wxt ~]# echo $file</span><br><span class="line">1 11.tar 123.tar Desktop a a1 a2 anaconda-ks.cfg b b1 b2 bash_profile c</span><br><span class="line">设置只读(只能注销或退出才能取消只读，只读的时候不可以unset删除用户变量）</span><br><span class="line">[root@wxt ~]# name=zcw</span><br><span class="line">[root@wxt ~]# readonly name</span><br><span class="line">[root@wxt ~]# name=zcw1(不可写）</span><br><span class="line">-bash: name: readonly variable</span><br><span class="line">[root@wxt ~]# unset name（不可删除）</span><br><span class="line">-bash: unset: name: cannot unset: readonly variable</span><br></pre></td></tr></table></figure>

<p><strong>位置变量：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">属于只读变量</span><br><span class="line">参数个数任意多，但只有前9个被访问到</span><br><span class="line">第一个参数为0，表示预留保存实际脚本名字，无论脚本是否有参数，此值均可用</span><br><span class="line">①</span><br><span class="line">vi 0.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo $0</span><br><span class="line">echo $1</span><br><span class="line">echo $2</span><br><span class="line"></span><br><span class="line">②第一个参数为0，表示预留保存实际脚本名字，无论脚本是否有参数，此值均可用</span><br><span class="line">[root@wxt shell1]# vi test.sh</span><br><span class="line">[root@wxt shell1]# sh test.sh</span><br><span class="line">test.sh</span><br><span class="line">[root@wxt shell1]# sh test.sh a b c d</span><br><span class="line">test.sh</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">[root@wxt shell1]# chmod 777 test.sh</span><br><span class="line">[root@wxt shell1]# ./test.sh a b c d</span><br><span class="line">./test.sh</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line"></span><br><span class="line">③参数个数任意多，但只有前9个被访问到</span><br><span class="line">[root@wxt shell1]# vi test.sh</span><br><span class="line">[root@wxt shell1]# sh test.sh a b c d e f g h i j k</span><br><span class="line">test.sh</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br><span class="line">e</span><br><span class="line">f</span><br><span class="line">g</span><br><span class="line">h</span><br><span class="line">i</span><br><span class="line">a0</span><br></pre></td></tr></table></figure>

<p><strong>向系统命令传递参数</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">①</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">find /root/shell24 -name $1（在这个目录下查找）</span><br><span class="line">[root@wxt shell24]# sh 20.sh passwd</span><br><span class="line"></span><br><span class="line">②（其中1.sh，2.sh,passwd为文件）</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">cat -n $1 $2 $4 &gt;catfile.log 2&gt;catfile.err</span><br><span class="line"><span class="meta">[root@wxtshell1]#</span><span class="bash">sh catfile.sh 1.sh 2.sh passwd                    [root@wxt shell1]<span class="comment"># cat catfile.log </span></span></span><br><span class="line">[root@wxt shell1]# cat catfile.err</span><br><span class="line"></span><br><span class="line">③查看脚本如何执行的步骤</span><br><span class="line">sh  -x  1.sh</span><br><span class="line">sh  -x  1.sh  2.sh</span><br><span class="line">特殊变量</span><br><span class="line"><span class="meta">$</span><span class="bash"><span class="comment"># 脚本的参数个数        （把参数作为整体）        </span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">*脚本的所有（整体）横行</span></span><br><span class="line"><span class="meta">$</span><span class="bash">$脚本运行的当前id号        </span></span><br><span class="line"><span class="meta">$</span><span class="bash">?显示最后命令执行的状态，0表示正确执行，其他任何值表示错误</span></span><br><span class="line"><span class="meta">$</span><span class="bash">!        后台运行的最后一个进程id号        </span></span><br><span class="line"><span class="meta">$</span><span class="bash">@与$*相同，加引号，在引号中返回每个参数(把参数作为个体）竖行</span></span><br><span class="line"></span><br><span class="line">---------------------------------------------------</span><br><span class="line">①</span><br><span class="line">vi 0.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo $#</span><br><span class="line">echo $*</span><br><span class="line">echo $$</span><br><span class="line">echo $?</span><br><span class="line">[root@wxt shell1]# sh 0.sh a fd sdf sadf sdfasdf asdf</span><br><span class="line">6</span><br><span class="line">a fd sdf sadf sdfasdf asdf</span><br><span class="line">8652</span><br><span class="line">0</span><br><span class="line"></span><br><span class="line">②</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@wxt shell1]# lsa</span><br><span class="line">-bash: lsa: command not found</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">127</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# mkdir dir</span><br><span class="line">[root@wxt shell1]# test -e dir</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@wxt shell1]# test -e mkakia</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# test -e mkakia;echo $?</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# test -f dir</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# test -f no</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@wxt shell1]# test -d no</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# test -d dir</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h1 id="003-shell"><a href="#003-shell" class="headerlink" title="003-shell"></a>003-shell</h1><p><strong>expr:字符串测试和数值测试</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">一般用于整数值</span><br><span class="line">expr 5 + 3</span><br><span class="line">expr 5 - 3</span><br><span class="line">expr 5 \* 3</span><br><span class="line">expr 5 / 2(结果为2，不输出小数）</span><br><span class="line">a=1</span><br><span class="line">b=1</span><br><span class="line">echo $a + $b  =echo $[a+b] =echo $((a+b))</span><br><span class="line">echo $(echo $a + $b）= echo $ `echo $a + $b`</span><br></pre></td></tr></table></figure>

<p><strong>查看系统版本</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">uname -l</span><br><span class="line">lsb_release</span><br><span class="line">cat /proce/issue</span><br></pre></td></tr></table></figure>

<p><strong>if条件语句</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">if		条件1</span><br><span class="line">then      </span><br><span class="line">		命令1</span><br><span class="line">elif    条件2</span><br><span class="line">then      </span><br><span class="line">		命令2</span><br><span class="line">else      </span><br><span class="line">		命令3</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">①</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write a number:" a</span><br><span class="line">if [ $a -gt 3 ]</span><br><span class="line">then</span><br><span class="line">    echo   "大了"</span><br><span class="line">else</span><br><span class="line">    echo   "小了"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">②</span><br><span class="line">vi 2.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write:" a</span><br><span class="line">if [ -z $a ]</span><br><span class="line">then    </span><br><span class="line">		echo $aecho $aecho "You did not enter any info."</span><br><span class="line">else</span><br><span class="line">        echo $a</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">③</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write a user name:" name</span><br><span class="line">file=`grep $name passwd`</span><br><span class="line">if [ -n file ]</span><br><span class="line">then</span><br><span class="line">        echo "String $name is exist"</span><br><span class="line">else</span><br><span class="line">        echo "String $name is not exit"</span><br><span class="line">fi</span><br><span class="line">或者</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write a user name:" name</span><br><span class="line">if [ -n “`grep $name passwd`”]</span><br><span class="line">then</span><br><span class="line">        echo "String $name is exist"</span><br><span class="line">else</span><br><span class="line">        echo "String $name is not exit"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">④</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write a number:" a</span><br><span class="line">if [ $a -gt 3 ]</span><br><span class="line">then</span><br><span class="line">    echo   "大了"</span><br><span class="line">elif [ $a -eq 3 ]</span><br><span class="line">then</span><br><span class="line">        echo "等于3"</span><br><span class="line">else</span><br><span class="line">    echo   "小了"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">⑤</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write name:" name</span><br><span class="line">if [ -d $name ]</span><br><span class="line">then </span><br><span class="line">	echo "$name is a dir"</span><br><span class="line">elif [ -f $name ]</span><br><span class="line">then </span><br><span class="line">	echo "$name is file"</span><br><span class="line">else </span><br><span class="line">	echo "$name is an unknow"</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p><strong>case条件选择</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">case 值（如a;） in</span><br><span class="line">命令1 ；；</span><br><span class="line">命令2 ；；</span><br><span class="line">3|4)       命令3 （|表示或者的意思）</span><br><span class="line">*）        命令4 ；；</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">①</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write:" a</span><br><span class="line">case $a in</span><br><span class="line">1)      echo "a" ;;</span><br><span class="line">2)</span><br><span class="line">        echo "b" ;;</span><br><span class="line">3)</span><br><span class="line">        echo "c" ;;</span><br><span class="line">4|5)    echo "cd" ;;</span><br><span class="line">*)      echo "unknow" ;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">②</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write a name:" name</span><br><span class="line">case $name in</span><br><span class="line">1)      echo $[1+2] ;;</span><br><span class="line">2)      pwd ;;</span><br><span class="line">3|4)   cat /proce/issue ;;</span><br><span class="line">*)      echo "Please enter number [1|2|3|4]" ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<p><strong>for循环</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">for 变量名（如：i,loop) in 列表</span><br><span class="line">do</span><br><span class="line">    命令1</span><br><span class="line">    命令2</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">①</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for i in 1 2 3 4</span><br><span class="line">do</span><br><span class="line">        echo $i</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">②</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write namae:" a b c d e</span><br><span class="line">for loop in $a $b $c $d $e</span><br><span class="line">do </span><br><span class="line">	touch $loop</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">③</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for loop</span><br><span class="line">do </span><br><span class="line">	touch $loop</span><br><span class="line">done</span><br><span class="line">[root@wxt shell24]# sh 9.sh a b c d e (for后面不加in，执行脚本时，输入参数）</span><br><span class="line"></span><br><span class="line">④</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for loop in `seq 10`</span><br><span class="line">do </span><br><span class="line">	echo "$loop * $loop= $[loop * loop]"</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">⑤（seq 9输出1-9;seq 2 10;输出2-10)（echo -n 不换行）</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash]</span></span><br><span class="line">for i in `seq 9`</span><br><span class="line">do</span><br><span class="line">        for j in `seq 9`</span><br><span class="line">        do</span><br><span class="line">        	[ $j -le $i ] &amp;&amp; echo -n "$i * $j =$[i*j]  "</span><br><span class="line">        done</span><br><span class="line">        echo " "</span><br><span class="line">done</span><br><span class="line">[root@wxt shell24]# sh 11.sh</span><br><span class="line">1 * 1 =1  </span><br><span class="line">2 * 1 =2  2 * 2 =4  </span><br><span class="line">3 * 1 =3  3 * 2 =6  3 * 3 =9  </span><br><span class="line">4 * 1 =4  4 * 2 =8  4 * 3 =12  4 * 4 =16  </span><br><span class="line">5 * 1 =5  5 * 2 =10  5 * 3 =15  5 * 4 =20  5 * 5 =25  </span><br><span class="line">6 * 1 =6  6 * 2 =12  6 * 3 =18  6 * 4 =24  6 * 5 =30  6 * 6 =36  </span><br><span class="line">7 * 1 =7  7 * 2 =14  7 * 3 =21  7 * 4 =28  7 * 5 =35  7 * 6 =42  7 * 7 =49  </span><br><span class="line">8 * 1 =8  8 * 2 =16  8 * 3 =24  8 * 4 =32  8 * 5 =40  8 * 6 =48  8 * 7 =56  8 * 8 =64  </span><br><span class="line">9 * 1 =9  9 * 2 =18  9 * 3 =27  9 * 4 =36  9 * 5 =45  9 * 6 =54  9 * 7 =63  9 * 8 =72  9 * 9 =81</span><br><span class="line"></span><br><span class="line">⑥(输出循环次数）</span><br><span class="line"><span class="meta">#</span><span class="bash">！/bin/bash</span></span><br><span class="line">n=0</span><br><span class="line">for i in `ls`</span><br><span class="line">do                </span><br><span class="line">    echo $i</span><br><span class="line">    n=$[n+1&#125;</span><br><span class="line">done</span><br><span class="line">echo $n</span><br></pre></td></tr></table></figure>

<h1 id="004-shell"><a href="#004-shell" class="headerlink" title="004-shell"></a>004-shell</h1><p><strong>课前回答问题：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">①判断是否为三角形（不考虑是不是三角形）</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write three number:" a b c</span><br><span class="line">if [ $a -eq $b -o $a -eq $c -o $b -eq $c ]</span><br><span class="line">then    </span><br><span class="line">		echo "等腰三角形"</span><br><span class="line">elif    [ $a -eq $b -a $a -eq $c ]</span><br><span class="line">then    </span><br><span class="line">		echo "等边三角形"</span><br><span class="line">else    </span><br><span class="line">		echo "普通三角形"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">②</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write 3 number: " a b c</span><br><span class="line">case $a in</span><br><span class="line">1)      expr 1 + 1 ;;</span><br><span class="line">2)      ps -ef|grep ftp ;;</span><br><span class="line">3)      find / -name "*root* &gt;a.log ;;</span><br><span class="line">*)      echo "please re_enter it"  ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<p><strong>while 条件循环</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">while 条件</span><br><span class="line">do                </span><br><span class="line">		命令</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">课上习题：求10以内的自然数的平方值</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">n=1</span><br><span class="line">while [ $n -le 10 ]</span><br><span class="line">do      </span><br><span class="line">		echo "$n * $n" =$[n*n]</span><br><span class="line">        n=$[n+1]</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">求n1到n2以内的自然数的平方值</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "输入两个数字:" n1 n2</span><br><span class="line">if [ $n2 -gt $n1 ]</span><br><span class="line">then</span><br><span class="line">        while   [ $n1 -le $n2 ]</span><br><span class="line">        do       </span><br><span class="line">        	echo "$n1 * $n1=$[n1*n1]"</span><br><span class="line">        	n1=$[n1+1]</span><br><span class="line">        done</span><br><span class="line">else    </span><br><span class="line">		echo "重新输入"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">for循环做不到，while做得到的循环</span><br><span class="line">[root@wxt shell29]# cat a.text</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for i in `cat a.tex`</span><br><span class="line">do</span><br><span class="line">        echo $i</span><br><span class="line">        sleep 1</span><br><span class="line">done</span><br><span class="line">[root@wxt shell29]# sh 00.sh</span><br><span class="line">afhia</span><br><span class="line">aksjfdioas</span><br><span class="line">askdjfgiaj</span><br><span class="line">afhia</span><br><span class="line">aksjfdioas</span><br><span class="line">askdjfgiaj</span><br><span class="line">afhia</span><br><span class="line">aksjfdioas</span><br><span class="line">askdjfgiaj</span><br><span class="line"></span><br><span class="line">cat a.text|while read line</span><br><span class="line">do</span><br><span class="line">        echo $line</span><br><span class="line">        sleep 1</span><br><span class="line">done</span><br><span class="line">[root@wxt shell29]# sh 111.sh</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line"></span><br><span class="line">②（passwd里有/bin/bash的是可登陆用户）</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">cat passwd|while read line</span><br><span class="line">do</span><br><span class="line">	echo "$line"</span><br><span class="line">	n=`echo "$line" | grep /bin/bash`</span><br><span class="line">	if [ -z "$n" ]</span><br><span class="line">	then</span><br><span class="line">			echo "NO "</span><br><span class="line">	else</span><br><span class="line">			echo "YES"</span><br><span class="line">	fi</span><br><span class="line">	sleep 1</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p><strong>until：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">until 	条件</span><br><span class="line">do </span><br><span class="line">		命令</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">i=1</span><br><span class="line">until [ $i -eq 11 ]</span><br><span class="line">do  </span><br><span class="line">		echo "$i * $i =$[i*i]"</span><br><span class="line">        i=$[i+1]</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p><strong>continue和break:</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">continue和break用在while，for，if语句中</span><br><span class="line">break		跳出循环；</span><br><span class="line">continu		回到循环开始的地方break2跳出整个循环</span><br><span class="line"></span><br><span class="line">continue：</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for i in 1 2 3 4 5 6</span><br><span class="line">do</span><br><span class="line">        [ $i -eq 3 ] &amp;&amp; continue</span><br><span class="line">        echo $i</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">[root@wxt shell29]# sh 8.sh</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line"></span><br><span class="line">break:</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for i in 1 2 3 4 5 6</span><br><span class="line">do</span><br><span class="line">        [ $i -eq 3 ] &amp;&amp; break</span><br><span class="line">        echo $i</span><br><span class="line">done</span><br><span class="line">[root@wxt shell29]# sh 9.sh</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line">a++;b--(a=a+1;b=b-1)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for ((i=2;i&lt;=100;i=i*2))</span><br><span class="line">do</span><br><span class="line">        echo "$i"</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p><strong>函数：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">fun( ) &#123;</span><br><span class="line">        echo $1</span><br><span class="line">        echo $2</span><br><span class="line">        echo $3</span><br><span class="line">        echo $4</span><br><span class="line">&#125;</span><br><span class="line">fun a b c d</span><br></pre></td></tr></table></figure>

<p><strong>补充：</strong></p>
<p>cd $HOME    <strong>等于</strong>    cd    <strong>等于</strong>    cd ~ 【到家目录】</p>
<h1 id="005-shell"><a href="#005-shell" class="headerlink" title="005-shell"></a>005-shell</h1><p><strong>正则表达式</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.正则表达式，又称正规表示法、常规表示法（英语：Regular Expression，在代码中常简写为regex、regexp或RE），计算机科学的一个概念。正则表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。</span><br><span class="line">2.用某种模式去匹配一类字符串。</span><br><span class="line">3.如：以字母a开头，该表达法可以让你写一个表达式，选定或匹配多个数据字符串。</span><br></pre></td></tr></table></figure>

<p><strong>基本正则表达式：</strong></p>
<table>
<thead>
<tr>
<th>符号</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>匹配前一个字符0到任意多个字符</td>
</tr>
<tr>
<td>.</td>
<td>匹配任意单个字符</td>
</tr>
<tr>
<td>^</td>
<td>匹配行首</td>
</tr>
<tr>
<td>$</td>
<td>匹配行尾</td>
</tr>
<tr>
<td>[]</td>
<td>匹配行尾</td>
</tr>
<tr>
<td>\</td>
<td>转义符，屏蔽一个特殊符号的特殊意义</td>
</tr>
<tr>
<td>\&lt;\&gt;|</td>
<td>精确匹配</td>
</tr>
<tr>
<td>\{n\}</td>
<td>匹配前面的字符出现n次</td>
</tr>
<tr>
<td>\{n,m\}</td>
<td>匹配前面的字符出现n~m次</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><strong>cut</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">命令：cut按列进行截取</span><br><span class="line">语法：cut[option]文件名</span><br><span class="line">参数：</span><br><span class="line">-c：参数后面跟数字，表示指定第几个字符</span><br><span class="line">-f：参数后面跟数字，表示指定第几个区（由分隔符分隔的区块）</span><br><span class="line">-d：后面跟分隔用的字符，如果不加该参数，默认为tab，一般与-f一起使用</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line">1.截取系统中的组名</span><br><span class="line">cut-d ":" -f 1 /etc/group</span><br><span class="line">2.获取文件每行的第一个字符</span><br><span class="line">cut -c 1 /etc/group</span><br><span class="line">3.获取文件每行的第1到5个字符</span><br><span class="line">cut -c 1-5 /etc/group</span><br><span class="line">4.获取文件每行的第1和第5个字符</span><br><span class="line">cut -c 1,5 /etc/group</span><br></pre></td></tr></table></figure>

<p><strong>grep</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">命令：grep</span><br><span class="line">语法：grep [option] pattern [file]</span><br><span class="line">参数：</span><br><span class="line">-c：计算找到‘搜寻字符串’的行数</span><br><span class="line">-i：忽略大写的不同，所以大小写视为相同</span><br><span class="line">-n：顺便输出行号</span><br><span class="line">-v：反向选择</span><br><span class="line"></span><br><span class="line">2.word$:待搜寻的字符串（word）在行尾</span><br><span class="line">搜寻"bash"结尾的行：</span><br><span class="line">例：</span><br><span class="line">grep bash$ passwd</span><br><span class="line"></span><br><span class="line">6.搜寻不以#开头的行</span><br><span class="line">^[^#]</span><br><span class="line">注:^符号，在字符集合符合（括号[]）之内与之外是不同的！在[]内代表方向选择，在[]之外则代表定位在行首的意义！</span><br><span class="line"></span><br><span class="line">7.","匹配任意单个字符</span><br><span class="line">查找出a和c之间一定有一个字符的行</span><br><span class="line"></span><br><span class="line">8.[n1-n2]：字符集合的，里面列出想要包括的字符范围</span><br><span class="line">搜寻含有数字的3和4的行：grep "[3-4]" file.txt</span><br><span class="line">搜寻含有数字的行：grep "[0-9]" file.txt</span><br><span class="line">搜寻含有小写字母的行：grep "[a-z]" file.txt</span><br><span class="line">搜寻含有大写字母的行：grep "[A-Z]" file.txt</span><br><span class="line">搜寻含有字母的行：grep "[a-zA-Z]" file.txt</span><br><span class="line"></span><br><span class="line">9.\&#123;n.m\&#125;匹配表达式前至少n次，至多m次</span><br><span class="line">搜寻r和r之间有2到3个o的行：grep 'ro\&#123;2,3\&#125;r' file.txt</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line">grep -c root passwd</span><br><span class="line">2</span><br><span class="line">grep root passwd|wc -l</span><br><span class="line">2</span><br><span class="line">grep -r root shell5</span><br><span class="line">shell5/passwd:root:x:0:0:root:/root:/bin/bash</span><br><span class="line">shell5/passwd:operator:x:11:0:operator:/root/sbin/nologin</span><br><span class="line"></span><br><span class="line">grep ro.*t passwd</span><br><span class="line">grep ^b passwd</span><br><span class="line">grep t$ passwd</span><br><span class="line">grep in$ passwd</span><br><span class="line">grep ^.o passwd</span><br><span class="line">grep o..$ passwd</span><br><span class="line">grep ^[rbs] passwd</span><br><span class="line">grep ^[^a-z] passwd</span><br><span class="line">grep "r\*" passwd</span><br><span class="line">grep "2\*" passwd</span><br><span class="line">grep "ro\&#123;3\&#125;t" test</span><br><span class="line">grep "ro\&#123;2\&#125;t" test</span><br><span class="line">grep "ro\&#123;2\&#125;" test</span><br><span class="line">grep "ro\&#123;3\&#125;" test</span><br><span class="line">grep "ro\&#123;3,\&#125;t" test</span><br><span class="line">grep "ro\&#123;3,4\&#125;t" test</span><br><span class="line">grep "\&lt;bin\&gt;" test</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Exercise:grep,cut</span><br><span class="line">1.查找passwd文件中含有nologin的行，且输出行号</span><br><span class="line">2.查找passwd文件中没有/bin/bash的行</span><br><span class="line">3.输出每个用户的用户名及用户的shell类型</span><br><span class="line">4.输出passwd文件的中每行的前10个字符</span><br><span class="line">5.输出含有root的行，不区分大小写</span><br><span class="line">6.将PATH变量取出，找出第三个路径</span><br><span class="line">7.输出登录系统的用户名</span><br><span class="line"></span><br><span class="line">Exercise:grep</span><br><span class="line">寻找包括g 开头和t 结束的字符串, 中间 可有可无</span><br><span class="line">grep ^g.*t$ test</span><br><span class="line"> 寻找包括有r 开头和t 结束且长度为四个字符行</span><br><span class="line">grep ^r..t$ test</span><br><span class="line"> 显示 空白行及行 号   grep -n ^$ tes</span><br><span class="line"> 寻找开头不是英文 字母	</span><br><span class="line">grep -v ^[a-zA-Z] test</span><br><span class="line"> 找出开始为小写字母 的 	</span><br><span class="line">grep  ^[a-z]  tests</span><br><span class="line"> 寻找oo, ooo 等等的数据, 也就是说, 至少要有两个o  以上</span><br><span class="line"> grep "o\&#123;2,\&#125;" test</span><br><span class="line"> 找出g 后有两个以上的a ，以n 结尾的 行</span><br><span class="line">grep "ga\&#123;2,\&#125;.*n$" test</span><br><span class="line"> 找出含有hz 或hj 的 行     grep h[zj] test</span><br><span class="line">env ，取得第 12  字符以后的所有字符串且去掉 空行</span><br><span class="line">env | cut -c 12- | grep -v ^$</span><br></pre></td></tr></table></figure>

<p><strong>sed</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">sed是一种在线编辑器，它一次处理一行内容。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”，接着用sed命令处理缓冲区中的内容，处理完成后把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，知道文件末尾。文件内容并没有改变，除非你使用重定向存储输出。sed主要用来自动编辑一个或多个文件：简化对文件的反复造作；</span><br><span class="line"></span><br><span class="line">语法：</span><br><span class="line">sed [选项] '命令' [文件名]</span><br><span class="line">选项：</span><br><span class="line">-n 只输出经过sed命令处理的行</span><br><span class="line">-i 编辑文件内容，修改源文件，而不是屏幕输出</span><br><span class="line"></span><br><span class="line">a	追加</span><br><span class="line">i	插入</span><br><span class="line">p	打印，通常p会与参数sed -n一起运作</span><br><span class="line">d	删除***</span><br><span class="line">s	字符串替换！通常这个s的动作可以搭配正则表示法！例如1,20s/old/new/g</span><br><span class="line">c	行替换</span><br><span class="line"></span><br><span class="line">Example：</span><br><span class="line">1.不打印第一行</span><br><span class="line">sed '1d' passwd</span><br><span class="line"></span><br><span class="line">2.不打印最后一行</span><br><span class="line">sed '$d' passwd</span><br><span class="line"></span><br><span class="line">3.不打印第一行到第二行</span><br><span class="line">sed '1,2d' passwd</span><br><span class="line"></span><br><span class="line">4.替换第2行到第5行的数据为team</span><br><span class="line">sed '2,5cteam' passwd</span><br><span class="line"></span><br><span class="line">5.在文件头插入"###"</span><br><span class="line">sed '1i###' passwd &gt;a.txt</span><br><span class="line"></span><br><span class="line">6.显示文件第三行</span><br><span class="line">sed -n '3p' passwd</span><br><span class="line"></span><br><span class="line">7.显示文件第一行和第三行</span><br><span class="line">sed -n '1p;3p' passwd</span><br><span class="line"></span><br><span class="line">8.显示文件除前三行之外的全部内容</span><br><span class="line">sed -n '1,3!p' passwd</span><br><span class="line"></span><br><span class="line">sed命令可以使用正则表达式的字符进行匹配，如sed结合$匹配最后一行</span><br><span class="line">例：打印最后一行</span><br><span class="line">sed -n '$p' file</span><br><span class="line">sed可以使用/字符串/进行任意字符的匹配</span><br><span class="line">例：打印开头字符是a的行</span><br><span class="line">sed -n '/^.a/p' file</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line">sed -n '/root/p' /etc/passwd|sed 's/root/bird/g'</span><br><span class="line">sed -n '/root/p' /etc/passwd|sed 's/root//g'</span><br><span class="line">sed -n '/root/p' /etc/passwd|sed 's/^root/bird/g'</span><br><span class="line">sed 's/[0-9]/team/g' mail.log</span><br><span class="line">sed 's/^a.*/team/g' mail.log</span><br><span class="line"></span><br><span class="line">Exercise:sed</span><br><span class="line">1.在文件尾插入“@@@”</span><br><span class="line">sed '$a@@@' passwd</span><br><span class="line"></span><br><span class="line">2.把文件第三行替换成“$$$”</span><br><span class="line">sed '3c$$$' passwd</span><br><span class="line"></span><br><span class="line">3.列出行号并打印，同时删除2-5行</span><br><span class="line">cat -n a.sh|sed '2,5d'</span><br><span class="line"></span><br><span class="line">4.删除最后一行</span><br><span class="line">cat -n a.sh|sed '$d'</span><br><span class="line"></span><br><span class="line">5.删除空行并打印出行号</span><br><span class="line">sed 's/^$/d' a.sh|cat -n</span><br><span class="line"></span><br><span class="line">6.替换/etc/inittab文件中</span><br><span class="line">“id:5:initdefault:”一行中的数字为3</span><br><span class="line">cat /etc/inittab|grep id|sed 's/5/3/g'</span><br><span class="line"></span><br><span class="line">7.替换passwd中root所在的行，替换为iusttest</span><br><span class="line">sed 's/.*root.*/justtest/g' a.txt</span><br><span class="line">(sed '/root/ciusttest')</span><br><span class="line"></span><br><span class="line">8.打印出passwd中的第3行和第8行</span><br><span class="line">sed -n '3p;8p' a.sh</span><br><span class="line"></span><br><span class="line">9.给文件每一行的最后面添加字符串root23</span><br><span class="line">sed 's/^.*$/&amp;root123' a.sh</span><br><span class="line"></span><br><span class="line">使用脚本实现下列功能：</span><br><span class="line">1.设定变量file的值为/etc/passwd</span><br><span class="line">2.使用循环读取文件/etc/passwd的第2，4，6，8，10，13行，并显示其内容</span><br><span class="line">3.把这些行保存到/tmp/mvpasswd文件中</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">file=/etc/passwd</span><br><span class="line">for i in 2 4 6 8 10 13</span><br><span class="line">do</span><br><span class="line">	sed -n $&#123;i&#125;p $file</span><br><span class="line">	sleep 1</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p><strong>awk</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">1.awk是一种优良的文本处理工具，linux及unix环境中现有的功能最强大的数据处理引擎之一。这种编程及数据操作语言的最大功能取决于一个人所拥有的知识。</span><br><span class="line">2.最简单地说，awk是一种用于处理文本的编程语言工具</span><br><span class="line">3.任何awk语句都是由模式和动作组成，一个awk脚本可以有多个语句。模式决定动作语句的触发条件和触发时间</span><br><span class="line"></span><br><span class="line">awk '&#123;print $1 " and " $2&#125;' test</span><br><span class="line">a and b</span><br><span class="line">f and g</span><br><span class="line">q and e</span><br><span class="line"></span><br><span class="line">awk '条件类型1 ｛动作1｝条件类型2 ｛动作2｝...' 文件名称</span><br><span class="line">分隔符默认是空格</span><br><span class="line">可以用-F，改变变成逗号为分隔符或改成冒号-F：</span><br><span class="line">变量:</span><br><span class="line">NR 目前awk所处理的行数</span><br><span class="line">FS	目前的分隔符</span><br><span class="line">NF	每行所拥有的总数</span><br><span class="line">awk '&#123;print $1 "\tlines" FS":"NR"\nSum:"NF&#125;' awk.txt</span><br><span class="line"></span><br><span class="line">who|awk '&#123;print $3 "\t" NR&#125;'</span><br><span class="line">2016-11-17	1</span><br><span class="line">2016-11-17	2</span><br><span class="line">2016-11-29	3</span><br><span class="line">2016-11-27	4</span><br><span class="line"></span><br><span class="line">awk -F : '&#123;print $1&#125;' passwd</span><br><span class="line"></span><br><span class="line">显示所有内容：</span><br><span class="line">awk '&#123;print $0&#125;' result.txt</span><br><span class="line"></span><br><span class="line">显示第一列，以:作为分隔符</span><br><span class="line">awk -F: '&#123;print $1&#125;' /etc/passwd</span><br><span class="line"></span><br><span class="line">显示第一列和第三列的内容</span><br><span class="line">awk '&#123;print $1,$3&#125;' result.txt</span><br><span class="line"></span><br><span class="line">显示第一列含有bob的行</span><br><span class="line">awk '$1~/bob/ &#123;print $0&#125;' result.txt</span><br><span class="line"></span><br><span class="line">awk -F : '/root/&#123;print $1 &#125;' passwd</span><br><span class="line">root</span><br><span class="line">aperator</span><br><span class="line"></span><br><span class="line">自定义年月日显示方式：</span><br><span class="line">Year:2016 month:Feb	days:11</span><br><span class="line">例：</span><br><span class="line">date|awk '&#123;print "Year:"$6 "\tmonth:$2"\tdays:"$3&#125;'</span><br><span class="line"></span><br><span class="line">Years:2015	month:Feb	days:11</span><br><span class="line"></span><br><span class="line">打印一个文件头，打印一个文件尾</span><br><span class="line">特殊字段：</span><br><span class="line">BEGIN语句设置计算和打印头部信息，在任何动作之前进行。</span><br><span class="line">END语句输出统计结构，在完成动作之后执行。</span><br><span class="line">awk 'BEGIN&#123;print "name level result\n"&#125; &#123;print $1,$2,$3&#125; END &#123;print "end of class results"&#125;' result.txt</span><br><span class="line"></span><br><span class="line">tail -4 /etc/passwd|awk -F : 'BEGIN&#123;print "username userbash"&#125; &#123;print $1,$7&#125; END&#123;print "The END"&#125;'</span><br><span class="line"></span><br><span class="line">第二列大于等于5的那些记录</span><br><span class="line">awk '$2&gt;=5 &#123;print $0&#125;' result.txt</span><br><span class="line"></span><br><span class="line">显示用户名为andy或（和）第二列为9的记录</span><br><span class="line">awk '&#123;if($1 == "andy" &amp;&amp; $2=="9"print $0)&#125;' result.txt</span><br><span class="line">awk '&#123;if($1 == "andy" || $2=="9"print $0)&#125;' result.txt</span><br><span class="line"></span><br><span class="line">Esercise:awk</span><br><span class="line">以/etc/passwd文件示例：</span><br><span class="line">输出系统的所有用户名和用户的shell类型</span><br><span class="line">awk 'BEGIN&#123;FS=":"&#125;&#123;print $1,$2&#125;' /etc/passwd</span><br><span class="line">输出以root开头的行</span><br><span class="line">awk -F : '/^root/&#123;print $0&#125;' /etc/passwd</span><br><span class="line">输出bash类型不是/sbin/nologin的用户</span><br><span class="line">grep -v /sbin/nogin /etc/passwd|awk -F: '&#123;print $1&#125;'</span><br><span class="line"></span><br><span class="line">输出下列字符串中的1和2</span><br><span class="line">sub_source_name=imp_data_1.txt imp_data_2.txt</span><br><span class="line">awk -F _ '&#123;print $5 "." $7&#125;' test.log |awk -F . '&#123;print $1 "\t" $3&#125;'</span><br><span class="line">输出系统的ip地址信息</span><br><span class="line">如：192.168.68.78</span><br><span class="line">ifconfig|sed -n '2p'|awk '&#123;print $2&#125;'|awk -F : '&#123;print $2&#125;'</span><br><span class="line">192.168.163.100</span><br><span class="line">输出以root开头和包含squid的行</span><br><span class="line">awk -F : '$1~/root/ &#123;print $0&#125; /squid/ &#123;print $0&#125;' /etc/passwd</span><br><span class="line"></span><br><span class="line">awk -F : '$1/root/ &#123;print $0&#125;' /etc/passwd</span><br><span class="line"></span><br><span class="line">head -5 /etc/passwd|awk -F ":" '&#123;if($7 != "/sbin/nologin") print $1&#125;'</span><br><span class="line"></span><br><span class="line">grep sub_source a.txt|awk -F "_" '&#123;print $5,$7&#125;'|awk -F "" '&#123;print $1,"",$11&#125;'|sed 's/[[:blank]]//g'</span><br></pre></td></tr></table></figure>



<h1 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line">dos2unix shell.txt</span><br><span class="line"></span><br><span class="line">查看系统版本</span><br><span class="line">uname -l</span><br><span class="line">lsb_release</span><br><span class="line">cat /proce/issue</span><br><span class="line"></span><br><span class="line">查看连接某服务端口最多的的IP地址</span><br><span class="line">netstat -ant | grep "192.168.4.245:22" |awk '&#123;print $5&#125;'|awk -F: '&#123;print $4&#125;'|sort|uniq -c|sort -nr|head -20</span><br><span class="line"></span><br><span class="line">每秒执行一次命令</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line">	sleep 1</span><br><span class="line">	echo "do"</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">文件名大小写转换</span><br><span class="line">OLDFILE=OLD.FILE</span><br><span class="line">NEWFILE=`echo $OLDFILE | tr 'A-Z' 'a-z'`</span><br><span class="line"></span><br><span class="line">自行建立一支程式，该程式可以用来计算『您还有几天可以过生日』</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash   </span></span><br><span class="line">read -p "Pleas input your birthday (MMDD, ex&gt; 0709): " bir   </span><br><span class="line">now=`date +%m%d`   </span><br><span class="line">if [ "$bir" == "$now" ]; then   </span><br><span class="line">	echo "Happy Birthday to you!!!"  </span><br><span class="line">elif [ "$bir" -gt "$now" ]; then   </span><br><span class="line">	year=`date +%Y`   </span><br><span class="line">	total_d=$(($((`date --date="$year$bir" +%s`-`date +%s`))/60/60/24))   </span><br><span class="line">	echo "Your birthday will be $total_d later"  </span><br><span class="line">else  </span><br><span class="line">	year=$((`date +%Y`+1))   </span><br><span class="line">	total_d=$(($((`date --date="$year$bir" +%s`-`date +%s`))/60/60/24))   </span><br><span class="line">	echo "Your birthday will be $total_d later"  </span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">五颜六色的脚本</span><br><span class="line">Linux终端也是支持五颜六色的，请看下面的脚本：</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">clear</span><br><span class="line">echo -e "\033[1m Hello World"</span><br><span class="line">**bold effect**</span><br><span class="line">echo -e "\033[5m Blink"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> blink effect</span></span><br><span class="line">echo -e "\033[0m Hello World"</span><br><span class="line"></span><br><span class="line">**back to noraml**</span><br><span class="line">echo -e "\033[31m Hello World"</span><br><span class="line"></span><br><span class="line">**Red color**</span><br><span class="line">echo -e "\033[32m Hello World"</span><br><span class="line"></span><br><span class="line">**Green color**</span><br><span class="line">echo -e "\033[33m Hello World"</span><br><span class="line"></span><br><span class="line">**See remaing on screen**</span><br><span class="line">echo -e "\033[34m Hello World"</span><br><span class="line">echo -e "\033[35m Hello World"</span><br><span class="line">echo -e "\033[36m Hello World"</span><br><span class="line">echo -e -n "\033[0m"</span><br><span class="line"></span><br><span class="line">**back to noraml**</span><br><span class="line">echo -e "\033[41m Hello World"</span><br><span class="line">echo -e "\033[42m Hello World"</span><br><span class="line">echo -e "\033[43m Hello World"</span><br><span class="line">echo -e "\033[44m Hello World"</span><br><span class="line">echo -e "\033[45m Hello World"</span><br><span class="line">echo -e "\033[46m Hello World"</span><br><span class="line">echo -e "\033[0m Hello World"</span><br><span class="line"></span><br><span class="line">例子四：查看服务器利用率</span><br><span class="line">查看服务器的利用率是管理员的一份重要的日常工作。聪明的管理员是知道如何是这份任务自动化的。下面的这份脚本会抓取服务器的很多信息，快快试试吧！</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"> date;</span><br><span class="line"> echo "uptime:"</span><br><span class="line"> uptime</span><br><span class="line"> echo "Currently connected:"</span><br><span class="line"> echo "--------------------"</span><br><span class="line"> echo "Last logins:"</span><br><span class="line"> last -a |head -3</span><br><span class="line"> echo "--------------------"</span><br><span class="line"> echo "Disk and memory usage:"</span><br><span class="line"> df -h | xargs | awk '&#123;print "Free/total disk: " $11 " / " $9&#125;'</span><br><span class="line"> free -m | xargs | awk '&#123;print "Free/total memory: " $17 " / " $8 " MB"&#125;'</span><br><span class="line"> echo "--------------------"</span><br><span class="line"> start_log=`head -1 /var/log/messages |cut -c 1-12`</span><br><span class="line"> oom=`grep -ci kill /var/log/messages`</span><br><span class="line"> echo -n "OOM errors since $start_log :" $oom</span><br><span class="line"> echo ""</span><br><span class="line"> echo "--------------------"</span><br><span class="line"> echo "Utilization and most expensive processes:"</span><br><span class="line"> top -b |head -3</span><br><span class="line"> echo</span><br><span class="line"> top -b |head -10 |tail -4</span><br><span class="line"> echo "--------------------"</span><br><span class="line"> echo "Open TCP ports:"</span><br><span class="line"> nmap -p- -T4 127.0.0.1</span><br><span class="line"> echo "--------------------"</span><br><span class="line"> echo "Current connections:"</span><br><span class="line"> ss -s</span><br><span class="line"> echo "--------------------"</span><br><span class="line"> echo "processes:"</span><br><span class="line"> ps auxf --width=200</span><br><span class="line"> echo "--------------------"</span><br><span class="line"> echo "vmstat:"</span><br><span class="line"> vmstat 1 5</span><br></pre></td></tr></table></figure>

<p>备份数据库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">user=root</span><br><span class="line">pass=111111</span><br><span class="line">database=`mysql -u $user -p$pass -e 'show databases;'|sed 1,2d`</span><br><span class="line"> </span><br><span class="line">for i in $database</span><br><span class="line">do</span><br><span class="line">mysqldump -u $user -p$pass -B $i  &gt; $&#123;i&#125;`date +%Y-%m-%d`.sql</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h1 id="抓包"><a href="#抓包" class="headerlink" title="抓包"></a>抓包</h1><p>Tcpdump</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">抓包（packet capture）就是将网络传输发送与接收的数据包进行截获、重发、编辑、转存等操作，也用来检查网络安全。抓包也经常被用来进行数据截取等</span><br><span class="line">实践中，通常在 Linux 里用tcpdump命令抓包，然后在Windows 里用wireshark软件分析包。</span><br><span class="line"></span><br><span class="line">tcpdump tcp -i eth0 -t -s <span class="number">0</span> -c <span class="number">100</span> <span class="keyword">and</span> dst port <span class="number">22</span> <span class="keyword">and</span> src net <span class="number">192.168</span><span class="number">.1</span><span class="number">.0</span>/<span class="number">24</span> -w ./target.cap</span><br><span class="line"></span><br><span class="line">(<span class="number">1</span>)tcp: ip icmp arp rarp 和 tcp、udp、icmp这些选项等都要放到第一个参数的位置，用来过滤数据报的类型</span><br><span class="line">(<span class="number">2</span>)-i eth0 : 只抓经过接口eth0的包</span><br><span class="line">(<span class="number">3</span>)-t : 不显示时间戳</span><br><span class="line">(<span class="number">4</span>)-s <span class="number">0</span> : 抓取数据包时默认抓取长度为<span class="number">68</span>字节。加上-S <span class="number">0</span> 后可以抓到完整的数据包</span><br><span class="line">(<span class="number">5</span>)-c <span class="number">100</span> : 只抓取<span class="number">100</span>个数据包</span><br><span class="line">(<span class="number">6</span>)dst port ! <span class="number">22</span> : 不抓取目标端口是<span class="number">22</span>的数据包</span><br><span class="line">(<span class="number">7</span>)src net <span class="number">192.168</span><span class="number">.1</span><span class="number">.0</span>/<span class="number">24</span> : 数据包的源网络地址为<span class="number">192.168</span><span class="number">.1</span><span class="number">.0</span>/<span class="number">24</span></span><br><span class="line">(<span class="number">8</span>)-w ./target.cap : 保存成cap文件，方便用ethereal(即wireshark)分析 : 抓取数据包时默认抓取长度为<span class="number">68</span>字节。加上-S <span class="number">0</span> 后可以抓到完整的数据包</span><br><span class="line"></span><br><span class="line">较通用的tcpdump命令：tcpdump  -i  eth0  –s  <span class="number">0</span>  –c  <span class="number">10</span>  – w  package.cap</span><br><span class="line"></span><br><span class="line">注[对eth0进行完整数据包抓取，数据包输入保存到当前目录package.cap中,因为没有-c参数限制，须按Ctrl+C停止抓包]</span><br></pre></td></tr></table></figure>

<p><strong>实用命令实例</strong></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">默认启动</span><br><span class="line">tcpdump</span><br><span class="line">普通情况下，直接启动tcpdump将监视第一个网络接口上所有流过的数据包。</span><br><span class="line">监视指定网络接口的数据包</span><br><span class="line">tcpdump -i eth0</span><br><span class="line"></span><br><span class="line">如果不指定网卡，默认tcpdump只会监视第一个网络接口，一般是eth0，下面的例子都没有指定网络接口。</span><br><span class="line">监视指定主机的数据包</span><br><span class="line">也可以指定ip,例如截获所有210.27.48.1 的主机收到的和发出的所有的数据包</span><br><span class="line">tcpdump host 210.27.48.1</span><br><span class="line"></span><br><span class="line">截取本机（192.168.31.147）和主机114.114.114.114之间的数据</span><br><span class="line">tcpdump -n -i eth0 host 192.168.31.147 <span class="keyword">and</span> 114.114.114.114</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">主机hostname接收的所有数据        </span><br><span class="line">tcpdump -i eth0 src host<span class="built_in"> ip </span>        接收目标IP的数据</span><br><span class="line"></span><br><span class="line">监视所有送到主机hostname的数据包        </span><br><span class="line">tcpdump -i eth0 dst host<span class="built_in"> ip </span>               发送到目标IP的数据</span><br></pre></td></tr></table></figure>

<h1 id="作业1"><a href="#作业1" class="headerlink" title="作业1"></a>作业1</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">基础篇：</span><br><span class="line">新建脚本，脚本名称为myfile.sh，脚本中包含下列内容：</span><br><span class="line">使用/bin/sh 执行脚本内容</span><br><span class="line">给脚本添加备注，备注内容为：This is my homework.</span><br><span class="line">使用echo输出字符 Start</span><br><span class="line">使用echo输出该脚本所在的路径</span><br><span class="line">输出执行当前脚本的用户名</span><br><span class="line"></span><br><span class="line">vi myfile.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash">This is my homework.</span></span><br><span class="line">echo Start</span><br><span class="line">echo `pwd`</span><br><span class="line">echo `who am i`</span><br><span class="line">:wq</span><br><span class="line">sh myfile.sh</span><br><span class="line"></span><br><span class="line">使用echo输出如下格式内容（注意对齐格式）</span><br><span class="line">username       passwd</span><br><span class="line">Xiao Ming      xm@123$$</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# echo -e "username\tpasswd\nXiao Ming\txm@123\$$"</span><br><span class="line">username   passwd</span><br><span class="line">Xiao Ming  xm@12325868</span><br><span class="line"></span><br><span class="line">使用脚本实现如下功能，脚本名称为readme.sh：</span><br><span class="line">读取3个变量vara，varb和varc</span><br><span class="line">给变量输入4个值 home，temp，var，usr</span><br><span class="line">输出三个变量的值</span><br><span class="line">使用变量实现：进入home目录，并且列出home目录下的所有文件</span><br><span class="line"></span><br><span class="line">[root@wxt shell1]# vi readme.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo home temp var usr &gt;abc</span><br><span class="line">read vara varb varc &lt;abc</span><br><span class="line">echo $vara</span><br><span class="line">echo $varb</span><br><span class="line">echo $varc</span><br><span class="line">cd /home</span><br><span class="line">ls</span><br><span class="line">[root@wxt shell1]# sh readme.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read vara varb varc</span><br><span class="line">echo $vara</span><br><span class="line">echo $varb</span><br><span class="line">echo $varc</span><br><span class="line">cd  /$vara</span><br><span class="line">ls</span><br><span class="line"></span><br><span class="line">使用tee命令，将当前用户的信息存放到home下的user.log文件中。</span><br><span class="line">[root@wxt shell1]# who am i|tee  /home/user.log</span><br><span class="line">                          </span><br><span class="line">使用文件重定向功能，实现下列内容：</span><br><span class="line">将home目录的详细信息保存到用户家目录的home.info文件中</span><br><span class="line">[root@wxt shell1]# ll /home &gt;~/home.info</span><br><span class="line"></span><br><span class="line">查找home目录下文件名以te开头的文件，将查询的结果信息放入用户家目录下的find.log文件中</span><br><span class="line">[root@wxt shell1]# find /home -name "te*" &gt;~/find.log</span><br><span class="line"></span><br><span class="line">使用定时任务实现：</span><br><span class="line">在11月份内，每天的8点到14点，每隔两小时执行/home/shell/backup.sh脚本，将备份的结果输出到文件bak20160312.log文件中。（其中20160312表示执行定时任务的日期，要将该日期替换为当前日期）</span><br><span class="line">crontab -e</span><br><span class="line">0 8-14/2 11 * * sh /home/shell/back.sh &gt; bak`date +%y%m%d`.log</span><br><span class="line"></span><br><span class="line">使用echo输出字符串 Usage: $0 &#123;start|stop|restart|condrestart|status&#125;</span><br><span class="line">[root@wxt shell1]# echo 'Usage: $0 &#123;start|stop|restart|condrestart|status&#125;'</span><br><span class="line"></span><br><span class="line">编写脚本vars.sh</span><br><span class="line">指定用户的shell类型为bin/sh</span><br><span class="line">输出内容：***** Practice start *****</span><br><span class="line">定义变量username为hznteam</span><br><span class="line">进入当前用户家目录，使用上述变量，创建文件夹，文件夹名称为hznteamN（备注：N表示你所学习的期数，如：我在10期，文件名为hznteam10）</span><br><span class="line">进入文件夹hznteamN</span><br><span class="line">在该文件夹中，创建3个文件，文件名称由用户输入（暂不考虑不输入或输入过多的情况）</span><br><span class="line">在第一个文件中写入 This is first file.</span><br><span class="line">输出内容：***** Practice end *****</span><br><span class="line">vi vars.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line">echo *****Practice start*****</span><br><span class="line">username=hznteam</span><br><span class="line">echo $username</span><br><span class="line">mkdir ~/`echo $username`N</span><br><span class="line">mkdir ~/`echo $&#123;name&#125;24`</span><br><span class="line"><span class="meta">#</span><span class="bash">N表示你所学习的期数，如：我在10期，文件名为hznteam10</span></span><br><span class="line">cd ~/hznteamN</span><br><span class="line">read -p "输入第一个文件名:" a        </span><br><span class="line">read -p "输入第二个文件名:" b</span><br><span class="line">read -p "输入第三个文件名:" c</span><br><span class="line">touch `echo $a` `echo $b` `echo $c`</span><br><span class="line">echo This is first file &gt; `echo $a`</span><br><span class="line">echo *****Practice end*****</span><br></pre></td></tr></table></figure>

<h1 id="作业2"><a href="#作业2" class="headerlink" title="作业2"></a>作业2</h1><p><strong>at:SHELL后台执行</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">at -f</span><br><span class="line">at -d</span><br><span class="line">at -l</span><br><span class="line"></span><br><span class="line">[root@wxt ~]# date</span><br><span class="line">Fri Oct 28 15:31:55 CST 2016</span><br><span class="line">[root@wxt ~]# at 11:26     (ctrl+d结束at编辑）</span><br><span class="line"><span class="meta">at&gt;</span><span class="bash"> date &gt;&gt;~/date.log</span></span><br><span class="line"><span class="meta">at&gt;</span><span class="bash"> &lt;EOT&gt;</span></span><br><span class="line">job 1 at 2016-10-29 11:26</span><br><span class="line">[root@wxt ~]# at -l</span><br><span class="line">1 2016-10-29 11:26 a root</span><br><span class="line"></span><br><span class="line">at 时间 -f 脚本</span><br><span class="line">[root@wxt ~]# at 15:00 tomorrow -f  ~/1.sh</span><br><span class="line">③</span><br><span class="line">[root@wxt shell1]# date</span><br><span class="line">Fri Oct 28 15:39:32 CST 2016</span><br><span class="line">[root@wxt shell1]# at 15:40 today -f date.sh</span><br><span class="line">job 4 at 2016-10-28 15:40</span><br><span class="line">[root@wxt shell1]# at -l</span><br><span class="line">1 2016-10-29 11:26 a root</span><br><span class="line">2 2016-10-29 15:32 a root</span><br><span class="line">at -d 编号</span><br><span class="line">[root@wxt shell1]# at -l</span><br><span class="line">1 2016-10-29 11:26 a root</span><br><span class="line">2 2016-10-29 15:32 a root</span><br><span class="line">[root@wxt shell1]# at -d 2</span><br><span class="line">[root@wxt shell1]# at -l</span><br><span class="line">1 2016-10-29 11:26 a root</span><br><span class="line"></span><br><span class="line">课上练习：</span><br><span class="line">vi 1.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">finde=`find /home/test/source -name "ROM*"`</span><br><span class="line">cp $finde /home/test/bak &gt;cp_file.log 2&gt;cp_error.log</span><br><span class="line">:wq</span><br><span class="line">at 13:00 -f 1.sh</span><br><span class="line">技巧：a=`ls |grep -v 1.sh`</span><br><span class="line">      rm -rf $a</span><br></pre></td></tr></table></figure>

<p><strong>jobs</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&amp;:(后台执行，不占据终端）</span><br><span class="line">jobs -l 查看后台进程                               </span><br><span class="line">[root@wxt setup]# tar -cf oa.tar oa &amp;</span><br><span class="line">[1] 6628</span><br><span class="line">[root@wxt setup]# jobs -l</span><br><span class="line">[1]+  6628 Running                 tar -cf oa.tar oa &amp;</span><br><span class="line">ctrl+z将vi放到后台；  fg回到vi rom.sh</span><br><span class="line">[root@wxt shell1]# vi rom.sh</span><br><span class="line">ctrl+z</span><br><span class="line">[1]+  Stopped                 vi rom.sh</span><br><span class="line">[root@wxt shell1]# jobs -l</span><br><span class="line">[1]+  6648 停止                  vi rom.sh</span><br><span class="line">[root@wxt shell1]# fg</span><br></pre></td></tr></table></figure>

<p><strong>系统变量：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">系统变量(环境变量）：/etc/profile</span><br><span class="line">（必须先export，再env）</span><br><span class="line">env 查看所有系统环境变量</span><br><span class="line">export 变量</span><br><span class="line">env|grep 变量</span><br><span class="line">unset 变量</span><br><span class="line">[root@wxt shell1]# dname=2</span><br><span class="line">[root@wxt shell1]# env |grep dname</span><br><span class="line">[root@wxt shell1]# export dname</span><br><span class="line">[root@wxt shell1]# env |grep dname</span><br><span class="line">dname=2</span><br><span class="line">unset：清除系统环境变量</span><br><span class="line">[root@wxt shell1]# unset dname</span><br><span class="line">[root@wxt shell1]# echo $dname2</span><br><span class="line">[root@wxt shell1]# env|grep dname</span><br><span class="line">用户变量(.bash_profile在用户家目录下):</span><br><span class="line">set 显示用户所有变量</span><br><span class="line">①</span><br><span class="line">[root@wxt shell1]#  name3=2</span><br><span class="line">[root@wxt shell1]# set |grep name3</span><br><span class="line">name3=2</span><br><span class="line">[root@wxt shell1]# unset name3</span><br><span class="line">[root@wxt shell1]# set |grep name3</span><br><span class="line">_=name3</span><br><span class="line"></span><br><span class="line">②</span><br><span class="line">（abc已经有值，所以不可以再赋值给abc，结果还应该是1，为空则赋值给他）</span><br><span class="line">[root@wxt shell1]# abc=1</span><br><span class="line">[root@wxt shell1]# echo $&#123;abc:=4&#125;</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# echo $&#123;abcd:=4&#125;</span><br><span class="line">4</span><br><span class="line">[root@wxt shell1]# echo $abcd</span><br><span class="line">4</span><br><span class="line"> </span><br><span class="line">③</span><br><span class="line">[root@wxt shell1]# dir=/home</span><br><span class="line">[root@wxt shell1]# cd $dir</span><br><span class="line">[root@wxt home]# pwd</span><br><span class="line">/home</span><br><span class="line">[root@wxt home]# ls</span><br><span class="line">123.tar  china2  eng2   home    ourteams  set.tgz  test1  user.log  wang2  wxt</span><br><span class="line">china1   eng1    file1  oracle  passwd    setup    test2  wang1     wang3  yzy</span><br><span class="line">[root@wxt home]# cd /$dir/eng2</span><br><span class="line"></span><br><span class="line">④</span><br><span class="line">[root@wxt eng2]# wen=`date`</span><br><span class="line">[root@wxt eng2]# echo $wen</span><br><span class="line">Fri Oct 28 16:44:35 CST 2016</span><br><span class="line"></span><br><span class="line">⑤</span><br><span class="line">[root@wxt eng2]# file=`find /root -name "a*"`</span><br><span class="line">[root@wxt eng2]# echo $file</span><br><span class="line"></span><br><span class="line">⑥</span><br><span class="line">[root@wxt ~]# file=`ls`</span><br><span class="line">[root@wxt ~]# echo $file</span><br><span class="line">1 11.tar 123.tar Desktop a a1 a2 anaconda-ks.cfg b b1 b2 bash_profile c</span><br><span class="line">设置只读(只能注销或退出才能取消只读，只读的时候不可以unset删除用户变量）</span><br><span class="line">[root@wxt ~]# name=zcw</span><br><span class="line">[root@wxt ~]# readonly name</span><br><span class="line">[root@wxt ~]# name=zcw1(不可写）</span><br><span class="line">-bash: name: readonly variable</span><br><span class="line">[root@wxt ~]# unset name（不可删除）</span><br><span class="line">-bash: unset: name: cannot unset: readonly variable</span><br></pre></td></tr></table></figure>

<p><strong>位置变量：</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">属于只读变量</span><br><span class="line">参数个数任意多，但只有前9个被访问到</span><br><span class="line">第一个参数为0，表示预留保存实际脚本名字，无论脚本是否有参数，此值均可用</span><br><span class="line">①</span><br><span class="line">vi 0.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo $0</span><br><span class="line">echo $1</span><br><span class="line">echo $2</span><br><span class="line"></span><br><span class="line">②第一个参数为0，表示预留保存实际脚本名字，无论脚本是否有参数，此值均可用</span><br><span class="line">[root@wxt shell1]# vi test.sh</span><br><span class="line">[root@wxt shell1]# sh test.sh</span><br><span class="line">test.sh</span><br><span class="line">[root@wxt shell1]# sh test.sh a b c d</span><br><span class="line">test.sh</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">[root@wxt shell1]# chmod 777 test.sh</span><br><span class="line">[root@wxt shell1]# ./test.sh a b c d</span><br><span class="line">./test.sh</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">③参数个数任意多，但只有前9个被访问到</span><br><span class="line">[root@wxt shell1]# vi test.sh</span><br><span class="line">[root@wxt shell1]# sh test.sh a b c d e f g h i j k</span><br><span class="line">test.sh</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br><span class="line">e</span><br><span class="line">f</span><br><span class="line">g</span><br><span class="line">h</span><br><span class="line">i</span><br><span class="line">a0</span><br></pre></td></tr></table></figure>

<p><strong>向系统命令传递参数</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">①</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">find /root/shell24 -name $1（在这个目录下查找）</span><br><span class="line">[root@wxt shell24]# sh 20.sh passwd</span><br><span class="line"></span><br><span class="line">②（其中1.sh，2.sh,passwd为文件）</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">cat -n $1 $2 $4 &gt;catfile.log 2&gt;catfile.err</span><br><span class="line"><span class="meta">[root@wxtshell1]#</span><span class="bash">sh catfile.sh 1.sh 2.sh passwd                    [root@wxt shell1]<span class="comment"># cat catfile.log  </span></span></span><br><span class="line">[root@wxt shell1]# cat catfile.err</span><br><span class="line"></span><br><span class="line">③查看脚本如何执行的步骤</span><br><span class="line">sh  -x  1.sh</span><br><span class="line">sh  -x  1.sh  2.sh</span><br></pre></td></tr></table></figure>

<p><strong>特殊变量</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"><span class="comment"># 脚本的参数个数 （把参数作为整体） $*脚本的所有参数</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">$脚本运行的当前id号</span></span><br><span class="line"><span class="meta">$</span><span class="bash">?显示最后命令执行的状态，0表示正确执行，其他任何值表示错误</span></span><br><span class="line"><span class="meta">$</span><span class="bash">! 后台运行的最后一个进程id号</span></span><br><span class="line"><span class="meta">$</span><span class="bash">@与$*相同，加引号，在引号中返回每个参数</span></span><br><span class="line">①</span><br><span class="line">vi 0.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo $#</span><br><span class="line">echo $*</span><br><span class="line">echo $$</span><br><span class="line">echo $?</span><br><span class="line">[root@wxt shell1]# sh 0.sh a fd sdf sadf sdfasdf asdf</span><br><span class="line">6</span><br><span class="line">a fd sdf sadf sdfasdf asdf</span><br><span class="line">8652</span><br><span class="line">0</span><br><span class="line"></span><br><span class="line">②</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@wxt shell1]# lsa</span><br><span class="line">-bash: lsa: command not found</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">127</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">[root@wxt shell1]# mkdir dir</span><br><span class="line">[root@wxt shell1]# test -e dir</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@wxt shell1]# test -e mkakia</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# test -e mkakia;echo $?</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# test -f dir</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# test -f no</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@wxt shell1]# test -d no</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@wxt shell1]# test -d dir</span><br><span class="line">[root@wxt shell1]# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h1 id="作业3"><a href="#作业3" class="headerlink" title="作业3"></a>作业3</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">Shell 脚本作业：</span><br><span class="line"></span><br><span class="line">使用文件重定向功能</span><br><span class="line">将homework.sh脚本执行的结果正确信息输出到/home/hzn/rig.log，错误信息输出到/home/hzn/error.log文件中</span><br><span class="line">sh homework.sh &gt;/home/hzn/rig.log 2&gt;/home/hzn/error.log</span><br><span class="line"></span><br><span class="line">将homework.sh脚本执行的结果，标准输出和标准错误放到回收站中</span><br><span class="line">sh homework.sh &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line">创建一个定时任务，每个月的13日，15日，25日这几天每十分钟将homework.sh脚本执行的结果，标准输出和标准错误都放到/home/hzn/homework.log中</span><br><span class="line">crontab -e</span><br><span class="line">*/10 * 13,15,25 * * sh homework.sh &gt;/home/hzn/homeework.log 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line">使用at命令，在14:23分执行，查找出/home目录下含有.sh的所有文件，并将标准错误和标准输出都放到/home/hzn/at.log文件中</span><br><span class="line">at 14:23</span><br><span class="line"><span class="meta">at&gt;</span><span class="bash">  find /home -name <span class="string">"*.sh*"</span> &gt;/home/hzn/at.log 2&gt;&amp;1</span></span><br><span class="line"><span class="meta">at&gt;</span><span class="bash"> &lt;EOT&gt;</span></span><br><span class="line">at -l</span><br><span class="line">cat /home/hzn/at.log</span><br><span class="line"></span><br><span class="line">使用echo输出：2^3</span><br><span class="line">使用echo输出：YOU &amp; ME</span><br><span class="line">使用echo输出：homework.sh have X lines. 【注：X替换成homework.sh的行数】</span><br><span class="line">echo 2^3</span><br><span class="line">echo 'YOU&amp;ME'</span><br><span class="line">echo homework.sh have `cat homework.sh|wc -l` lines</span><br><span class="line"></span><br><span class="line">设置环境变量var_name=envname和 var_na=you，查看var_name变量，清除系统环境变量var_na</span><br><span class="line">vi /etc/profile</span><br><span class="line">var_name=envname</span><br><span class="line">ar_na=you</span><br><span class="line">export $var_name</span><br><span class="line">echo $var_name</span><br><span class="line">unset var_na</span><br><span class="line"></span><br><span class="line">系统变量应该在什么文件中设置，在系统变量配置文件中定义一个系统变量var_os=LinuxRHEL5，能够使用env命令查看该系统变量的值</span><br><span class="line">vi /etc/profile</span><br><span class="line">var_os=LinuxRHEL5</span><br><span class="line">source /etc/profile</span><br><span class="line">export var_os</span><br><span class="line">env |grep var_os</span><br><span class="line"></span><br><span class="line">编写脚本myvar.sh，输出当前用户的家目录和当前的系统时间</span><br><span class="line">vi myvar.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">cd;pwd   echo ~</span><br><span class="line">date</span><br><span class="line">sh myvar.sh</span><br><span class="line"></span><br><span class="line">在.bash_profile文件中定义一个变量DEST="we are a team."，将其设置为只读变量；</span><br><span class="line">vi .bash_profile</span><br><span class="line">DEST="we are a team"</span><br><span class="line">readonly DEST</span><br><span class="line"></span><br><span class="line">编写脚本var4.sh，执行该脚本需要4个参数，输出该脚本的参数个数，输出该脚本的进程ID号，并依次输出所有的参数值，在homework.sh文件中找出含有is的内容，并将结果输出到/home/hzn/homework.is文件中</span><br><span class="line">vi var4.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo $#</span><br><span class="line">echo $$</span><br><span class="line">echo $*</span><br><span class="line">grep is homework.sh &gt;/home/hzn/homeework.is</span><br><span class="line">sh var4.sh 1 2 3 4</span><br><span class="line"></span><br><span class="line">编写脚本test.sh 脚本内容如下</span><br><span class="line">1).读取用户输入，并提示“please write three file name:”</span><br><span class="line">2).判断第一个文件名是否存在，如果存在就输出“the first name is exit”，不存在就输出“the fist name is not exit”</span><br><span class="line">3), 判断第一个文件名是否为目录，如果是就输出“the second name is a director”，不存在就输出“the second name is not a director”</span><br><span class="line">4). 判断第一个文件名是否为文件，如果是就输出“the third name is a file”，不存在就输出“the third name is not a file”</span><br><span class="line">vi test.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write three file name:" a b c</span><br><span class="line">test -e $a &amp;&amp; echo "the first name is exit" ||echo "the first name is not exit"</span><br><span class="line">test -d $b &amp;&amp; echo "the second name is a director" ||echo "the second name is not a director"</span><br><span class="line">test -f `echo $c` &amp;&amp; echo "the third name is a file" || echo "the third name is not a file"</span><br><span class="line">sh test.sh</span><br><span class="line"></span><br><span class="line">10. 编写脚本test1.sh 脚本内容如下</span><br><span class="line">1).读取用户输入，并提示“please write two number:”</span><br><span class="line">2).判断第一个数字是否大于第二个数，如果大于就是输出“the first number is more big”</span><br><span class="line">3), 判断第一个数字是否小于第二个数，如果小于就是输出“the second number is more big”</span><br><span class="line">4).判断是否为空，为空则提示“pelease re-enter! ”</span><br><span class="line">vi test1.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write two number:" a b</span><br><span class="line">[ $a -gt $b ] &amp;&amp; echo "the first number is more big"</span><br><span class="line">[ $a -lt $b ] &amp;&amp; echo "the second number is more big"</span><br><span class="line">test -z $a &amp;&amp; echo "please re-enter!"</span><br><span class="line">test -z $b &amp;&amp; echo "please re-enter!"</span><br><span class="line">[ -z $a] || [ -z$b ] &amp;&amp; echo "please re-enter!"</span><br><span class="line">sh test1.sh</span><br></pre></td></tr></table></figure>

<h1 id="作业4"><a href="#作业4" class="headerlink" title="作业4"></a>作业4</h1><p><strong>expr</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">expr:字符串测试和数值测试</span><br><span class="line">一般用于整数值</span><br><span class="line">expr 5 + 3</span><br><span class="line">expr 5 - 3</span><br><span class="line">expr 5 \* 3</span><br><span class="line">expr 5 / 2(结果为2，不输出小数）</span><br><span class="line">a=1</span><br><span class="line">b=1</span><br><span class="line">echo $a + $b  =echo $[a+b] =echo $((a+b))</span><br><span class="line">echo $(echo $a + $b）= echo $ `echo $a + $b`</span><br></pre></td></tr></table></figure>

<p><strong>if条件语句</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">if条件语句</span><br><span class="line">if 条件1</span><br><span class="line">then   命令1</span><br><span class="line">elif    条件2</span><br><span class="line">then  命令2</span><br><span class="line">else  命令3</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">①</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write a number:" a</span><br><span class="line">if [ $a -gt 3 ]</span><br><span class="line">then</span><br><span class="line">    echo   "大了"</span><br><span class="line">else</span><br><span class="line">    echo   "小了"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">②</span><br><span class="line">vi 2.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write:" a</span><br><span class="line">if [ -z $a ]</span><br><span class="line">then    echo $aecho $aecho "You did not enter any info."</span><br><span class="line">else</span><br><span class="line">        echo $a</span><br><span class="line">fi</span><br><span class="line">③</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write a user name:" name</span><br><span class="line">file=`grep $name passwd`</span><br><span class="line">if [ -n file ]</span><br><span class="line">then</span><br><span class="line">        echo "String $name is exist"</span><br><span class="line">else</span><br><span class="line">        echo "String $name is not exit"</span><br><span class="line">fi</span><br><span class="line">或者</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write a user name:" name</span><br><span class="line">if [ -n “`grep $name passwd`”]</span><br><span class="line">then</span><br><span class="line">        echo "String $name is exist"</span><br><span class="line">else</span><br><span class="line">        echo "String $name is not exit"</span><br><span class="line">fi</span><br><span class="line">④</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write a number:" a</span><br><span class="line">if [ $a -gt 3 ]</span><br><span class="line">then</span><br><span class="line">    echo   "大了"</span><br><span class="line">elif [ $a -eq 3 ]</span><br><span class="line">then</span><br><span class="line">        echo "等于3"</span><br><span class="line">else</span><br><span class="line">    echo   "小了"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">⑤</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write name:" name</span><br><span class="line">if [ -d $name ]</span><br><span class="line">then echo "$name is a dir"</span><br><span class="line">elif [ -f $name ]</span><br><span class="line">then echo "$name is file"</span><br><span class="line">else echo "$name is an unknow"</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p><strong>case条件选择</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">case条件选择</span><br><span class="line">case 值（如a;） in</span><br><span class="line">1)</span><br><span class="line">命令1 ;;</span><br><span class="line">2) </span><br><span class="line">命令2 ;;</span><br><span class="line">3|4) 命令3 （|表示或者的意思）</span><br><span class="line">*）  命令4 ;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">①</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write:" a</span><br><span class="line">case $a in</span><br><span class="line">1)      echo "a" ;;</span><br><span class="line">2)</span><br><span class="line">        echo "b" ;;</span><br><span class="line">3)</span><br><span class="line">        echo "c" ;;</span><br><span class="line">4|5)    echo "cd" ;;</span><br><span class="line">*)      echo "unknow" ;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">②</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write a name:" name</span><br><span class="line">case $name in</span><br><span class="line">1)      echo $[1+2] ;;</span><br><span class="line">2)      pwd ;;</span><br><span class="line">3|4)   cat /proce/issue ;;</span><br><span class="line">*)      echo "Please enter number [1|2|3|4]" ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<p><strong>for循环</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">for循环</span><br><span class="line">for 变量名（如：i,loop) in列表</span><br><span class="line">do</span><br><span class="line">命令1</span><br><span class="line">命令2</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">①</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for i in 1 2 3 4</span><br><span class="line">do</span><br><span class="line">        echo $i</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">②</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write namae:" a b c d e</span><br><span class="line">for loop in $a $b $c $d $e</span><br><span class="line">do </span><br><span class="line">	touch $loop</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">③</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for loop</span><br><span class="line">do </span><br><span class="line">	touch $loop</span><br><span class="line">done</span><br><span class="line">[root@wxt shell24]# sh 9.sh a b c d e (for后面不加in，执行脚本时，输入参数)</span><br><span class="line"></span><br><span class="line">④</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for loop in `seq 10`</span><br><span class="line">do echo "$loop * $loop= $[loop * loop]"</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">⑤（seq 9输出1-9;seq 2 10;输出2-10)（echo -n 不换行）</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash]</span></span><br><span class="line">for i in `seq 9`</span><br><span class="line">do</span><br><span class="line">        for j in `seq 9`</span><br><span class="line">        do</span><br><span class="line">        [ $j -le $i ] &amp;&amp; echo -n "$i * $j =$[i*j]  "</span><br><span class="line">        done</span><br><span class="line">        echo " "</span><br><span class="line">done</span><br><span class="line">[root@wxt shell24]# sh 11.sh</span><br><span class="line">1 * 1 =1  </span><br><span class="line">2 * 1 =2  2 * 2 =4  </span><br><span class="line">3 * 1 =3  3 * 2 =6  3 * 3 =9  </span><br><span class="line">4 * 1 =4  4 * 2 =8  4 * 3 =12  4 * 4 =16  </span><br><span class="line">5 * 1 =5  5 * 2 =10  5 * 3 =15  5 * 4 =20  5 * 5 =25  </span><br><span class="line">6 * 1 =6  6 * 2 =12  6 * 3 =18  6 * 4 =24  6 * 5 =30  6 * 6 =36  </span><br><span class="line">7 * 1 =7  7 * 2 =14  7 * 3 =21  7 * 4 =28  7 * 5 =35  7 * 6 =42  7 * 7 =49  </span><br><span class="line">8 * 1 =8  8 * 2 =16  8 * 3 =24  8 * 4 =32  8 * 5 =40  8 * 6 =48  8 * 7 =56  8 * 8 =64  </span><br><span class="line">9 * 1 =9  9 * 2 =18  9 * 3 =27  9 * 4 =36  9 * 5 =45  9 * 6 =54  9 * 7 =63  9 * 8 =72  9 * 9 =81</span><br><span class="line"></span><br><span class="line">⑥(输出循环次数）</span><br><span class="line"><span class="meta">#</span><span class="bash">！/bin/bash</span></span><br><span class="line">n=0</span><br><span class="line">for i in `ls`</span><br><span class="line">do    echo $i</span><br><span class="line">n=$[n+1&#125;</span><br><span class="line">done</span><br><span class="line">echo $n</span><br></pre></td></tr></table></figure>

<h1 id="作业5"><a href="#作业5" class="headerlink" title="作业5"></a>作业5</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">脚本中不考虑给出的参数为空格的情况</span><br><span class="line">1．写一个脚本，实现创建目录的功能，目录的名称由用户给出，需要对如下情况进行判断处理：</span><br><span class="line">      (1)用户没有给出参数</span><br><span class="line">      (2)用户给出的目录名称是否在当前目录存在，如果存在，提示用户重新创建</span><br><span class="line">      (3)目录创建成功或者失败，都给出说明信息</span><br><span class="line">vi 12.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write a name:" name</span><br><span class="line">if      [ -z $name ]</span><br><span class="line">then    echo "用户没给出参数"</span><br><span class="line">elif    [ -d $name ]</span><br><span class="line">then    echo "重新创建"</span><br><span class="line">else    mkdir $name &amp;&amp; echo "目录$name创建成功" ||echo "目录创建$name失败"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">2． 编写一个脚本，实现如下功能：</span><br><span class="line">      (1)给用户以下四个选项：Copy，Delete，Backup和Quit</span><br><span class="line">      (2)读取用户输入的值，当用户输入的值为Copy时输出Copy</span><br><span class="line">      (3)当用户输入的值为Delete时输出Delete，当用户输入的值为Backup时输出Backup，输入其他值则提示用户“Invalide Selection”</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write:" i</span><br><span class="line">case $i in</span><br><span class="line">Copy)   echo Copy ;;  echo $a</span><br><span class="line">Delete)     echo Delete ;;</span><br><span class="line">Backup)  echo Backup ;;</span><br><span class="line">*)          echo "lnalide Selection" ;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">3． 编写脚本，实现如下功能：</span><br><span class="line">     不使用wc -l 命令，计算出当前路径下文件的数量，最终输出如下内容，如：</span><br><span class="line">【There are 10 files in /home】</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">n=0</span><br><span class="line">for i in `ls`</span><br><span class="line">do</span><br><span class="line">n=$[n+1]</span><br><span class="line">done</span><br><span class="line">echo "There are $n in /home"</span><br><span class="line"></span><br><span class="line">4． 编写脚本，实现如下功能：</span><br><span class="line">    使用特殊符号打印三角形。要求整个程序要有交互，运行时可以自动输入打印的行数和用于描绘三角形的特殊符号；</span><br><span class="line">    分析：第一行为一个*，第二行为两个* ，第n行为n个*。有两个循环，其中外层：控制：行数。内层：每行输出的*的个数；</span><br><span class="line">打印结果如下：</span><br><span class="line">Please enter the number of rows to print:6</span><br><span class="line">Please enter the characters Print:*</span><br><span class="line">*</span><br><span class="line">**</span><br><span class="line">***</span><br><span class="line">****</span><br><span class="line">*****</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "Please enter the number of rows to print:" a</span><br><span class="line">read -p "Please enter the characters print:" b</span><br><span class="line">for j in `seq $a`</span><br><span class="line">do</span><br><span class="line">        for i in `seq $a`</span><br><span class="line">        do [ $i -le $j ]&amp;&amp; echo -n "$b "</span><br><span class="line">        done</span><br><span class="line">echo " "</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">5.  编写一个脚本，实现一下功能：</span><br><span class="line">      (1)执行脚本时，提示用户输入1到100的数字Please enter init type number from 1 to 100</span><br><span class="line">      (2)如果没有输入，则提示Please enter your number.</span><br><span class="line">      (3)如果输入的数字小于100，则输出该数字到100之间的值，</span><br><span class="line">        如用户输入98，则输出：</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">      (4)如果输入的数字大于100，则提示用户Your number is larger than 100.</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "Please enter init type number from 1 to 100" a</span><br><span class="line">if      [ -z $a ]</span><br><span class="line">then    echo "Please enter your number"</span><br><span class="line">elif    [ $a -lt 100 ]</span><br><span class="line">then    echo `seq $a 100` then    seq $a 100(不用echo，直接输出，显示竖行）</span><br><span class="line">else    echo "Your number is larger than 100"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">使用循环，添加3个用户test1、test2、test3，判断用户是否存在，存在则输出“&lt;user&gt; exist.”；不存在则添加，并提示用户“&lt;user&gt; add secussful.”其中&lt;user&gt;表示用户名称。</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for i in test1 test2 test3</span><br><span class="line">do file1=`grep $i /etc/passwd`</span><br><span class="line">        [ -z $file1 ] &amp;&amp; useradd $i &amp;&amp; echo "$i add secussful"  || echo "$i exist"</span><br><span class="line">done</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write a name:"  a b c</span><br><span class="line">for i in $a $b $c</span><br><span class="line">do</span><br><span class="line">        id $i &gt;&gt;/dev/null 2&gt;&amp;1</span><br><span class="line">        if [ $? -eq 0 ]</span><br><span class="line">        then echo "$i exit"</span><br><span class="line">        else</span><br><span class="line">                useradd $i</span><br><span class="line">                echo "$i add succesful"</span><br><span class="line">        fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h1 id="作业6"><a href="#作业6" class="headerlink" title="作业6"></a>作业6</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br></pre></td><td class="code"><pre><span class="line">脚本中不考虑给出的参数为空格的情况</span><br><span class="line">1. 使用循环语句，输出 1加到100的结果（至少两种方法）</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">b=0</span><br><span class="line">for i in `seq 0 100`</span><br><span class="line">do</span><br><span class="line">        b=$[b+i]</span><br><span class="line">done</span><br><span class="line">echo $b</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">n=0</span><br><span class="line">b=0</span><br><span class="line">while [ $n -le 100 ]</span><br><span class="line">do</span><br><span class="line">        b=$[b+n]</span><br><span class="line">        n=$[n+1]</span><br><span class="line">done</span><br><span class="line">echo $b</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">n=0</span><br><span class="line">b=0</span><br><span class="line">until [ $n -eq 101 ]</span><br><span class="line">do</span><br><span class="line">        b=$[b+n]</span><br><span class="line">        n=$[n+1]</span><br><span class="line">done</span><br><span class="line">echo $b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">b=0</span><br><span class="line">for i in `seq 0 100`</span><br><span class="line">do</span><br><span class="line">        b=$[b+i]</span><br><span class="line">done</span><br><span class="line">echo $b</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">n=0</span><br><span class="line">b=0</span><br><span class="line">while [ $n -le 100 ]</span><br><span class="line">do</span><br><span class="line">        b=$[b+n]</span><br><span class="line">        n=$[n+1]</span><br><span class="line">done</span><br><span class="line">echo $b</span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">n=0</span><br><span class="line">b=0</span><br><span class="line">until [ $n -eq 101 ]</span><br><span class="line">do</span><br><span class="line">        b=$[b+n]</span><br><span class="line">        n=$[n+1]</span><br><span class="line">done</span><br><span class="line">echo $b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2． 编写脚本，实现如下功能：</span><br><span class="line">    使用特殊符号打印三角形。要求整个程序要有交互，运行时可以自动输入打印的行数和用于描绘三角形的特殊符号；</span><br><span class="line">    分析：倒数第一行为一个*，倒数第二行为两个* ，第一行为n个*。有两个循环，其中外层：控制行数。内层：每行输出的*的个数；</span><br><span class="line">打印结果如下：</span><br><span class="line">Please enter the number of rows to print:6</span><br><span class="line">Please enter the characters Print:*</span><br><span class="line">******</span><br><span class="line">*****</span><br><span class="line">****</span><br><span class="line">***</span><br><span class="line">**</span><br><span class="line">*</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "Please enter the number of rows to print:" a</span><br><span class="line">read -p "Please enter the characters Print:" b</span><br><span class="line">for i in `seq $a`</span><br><span class="line">do      for j in `seq $a`</span><br><span class="line">        do [ $i -le $j ] &amp;&amp; echo -n "$b"</span><br><span class="line">        done</span><br><span class="line">echo " "</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">求10以内的自然数的平方值的和。</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">n=1</span><br><span class="line">a=0</span><br><span class="line">while [ $n -le 10 ]</span><br><span class="line">do</span><br><span class="line">        a=$[n*n+a]</span><br><span class="line">        n=$[n+1]</span><br><span class="line">done</span><br><span class="line">echo $a</span><br><span class="line"></span><br><span class="line">4．编写一个脚本，打印下面的功能，使用break和continue:wq实现：</span><br><span class="line">      (1)输入1，提示用户需要输入复制的文件或文件夹路径，输入后做个判断，看用户输入的是文件还是文件夹。再提示用户输入目标目录。（实现文件拷贝到文件夹中的功能）；复制成功或失败都要给用户提示信息。</span><br><span class="line">      (2)输入2，提示用户输入需要删除的文件，输入后判断该文件是否为文件，提示用户是否确定删除，如果输入y，则删除并提示用户【文件】has already deleted，如果输入n则不删除并提示用户【文件】 is not deleted；</span><br><span class="line">      (3)输入3，则提示用户输入需要备份的文件，文件备份成【文件名.bak】，备份前先判断下有没有重名的文件，如果有重名的文件则提示用户已存在【文件名.bak】，退出备份；如果备份成功，则提示用户【文件】bakup sucessful.</span><br><span class="line">      (4)输错后，则输出Invalide selection,please try again，但用户可以重新输入，只有输入4，才可以退出菜单。</span><br><span class="line">******************************</span><br><span class="line">Please select your operation:</span><br><span class="line">1 Copy</span><br><span class="line">2 Delete</span><br><span class="line">3 Backup</span><br><span class="line">4 Quit</span><br><span class="line">******************************</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">Copy( )&#123;</span><br><span class="line">read -p "需要输入复制的文件或文件夹路径:" a</span><br><span class="line">if      [ -e $a ]</span><br><span class="line">        then    if [ -f $a ]</span><br><span class="line">                then    read -p "用户输入目标目录:" b</span><br><span class="line">                        cp $a $b</span><br><span class="line">                else    "重新输入"</span><br><span class="line">                fi</span><br><span class="line">else "重新输入"</span><br><span class="line">fi</span><br><span class="line">       &#125;</span><br><span class="line">Delete() &#123;</span><br><span class="line">        read -p "输入需要删除的文件" c</span><br><span class="line">        if      [ -f $c ]</span><br><span class="line">        then</span><br><span class="line">                 read -p "是否确定删除?" d</span><br><span class="line">                case $d in</span><br><span class="line">                        y)    rm -rf $c</span><br><span class="line">                                echo "$c has already deleted" ;;</span><br><span class="line">                        n)     echo "$ is not deleted" ;;</span><br><span class="line">                esac</span><br><span class="line">        else    echo "重新输入"</span><br><span class="line">fi</span><br><span class="line">&#125;</span><br><span class="line">Backup () &#123;</span><br><span class="line">read -p "输入需要备份的文件: " e</span><br><span class="line">if [ -e $&#123;e&#125;.bak ]</span><br><span class="line">then    echo 存在$&#123;e&#125;.bak</span><br><span class="line">else</span><br><span class="line">        cp  $e "$&#123;e&#125;.bak"</span><br><span class="line">        echo "bakup sucessful"</span><br><span class="line">fi</span><br><span class="line">&#125;</span><br><span class="line">Quit () &#123;</span><br><span class="line">echo "Invalide selection,please try again"</span><br><span class="line">&#125;</span><br><span class="line">while</span><br><span class="line">        read -p "Please select your operation: " f</span><br><span class="line">do      case $f in</span><br><span class="line">        1) Copy</span><br><span class="line">                break ;;</span><br><span class="line">        2) Delete</span><br><span class="line">                break ;;</span><br><span class="line">        3) Backup</span><br><span class="line">                break ;;</span><br><span class="line">        4) break ;;</span><br><span class="line">        *) Quit</span><br><span class="line">                continue;;</span><br><span class="line">esac</span><br><span class="line">done                                  </span><br><span class="line"></span><br><span class="line">5. 写一个脚本，和用户进行交互，要求用户输入一个目录名称，通过在脚本中调用函数的方法实现，要求函数能够对这个目录名称进行判断，如果不是目录，也不是文件，则返回1，否则返回0；</span><br><span class="line">    如果函数返回1，脚本会继续创建该目录，如果创建失败，返回错误信息，提示用户Create dir failed</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">fun () &#123;</span><br><span class="line">        read -p "输入一个目录名称:" a</span><br><span class="line">        if [ ! -d $a ] &amp;&amp; [ ! -f $a ]</span><br><span class="line">        then  return 1</span><br><span class="line">        else  return 0</span><br><span class="line">        fi</span><br><span class="line">        &#125;</span><br><span class="line">fun</span><br><span class="line">while   [ "$?" -eq 1 ]</span><br><span class="line">do      mkdir $a ||echo "Create dir failed"</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h1 id="作业7"><a href="#作业7" class="headerlink" title="作业7"></a>作业7</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line">课前回答问题：</span><br><span class="line">①</span><br><span class="line">判断是否为三角形（不考虑是不是三角形）</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write three number:" a b c</span><br><span class="line">if [ $a -eq $b -o $a -eq $c -o $b -eq $c ]</span><br><span class="line">then    echo "等腰三角形"</span><br><span class="line">elif    [ $a -eq $b -a $a -eq $c ]</span><br><span class="line">then    echo "等边三角形"</span><br><span class="line">else    echo "普通三角形"</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">②</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "please write 3 number: " a b c</span><br><span class="line">case $a in</span><br><span class="line">1)      expr 1 + 1 ;;</span><br><span class="line">2)      ps -ef|grep ftp ;;</span><br><span class="line">3)      find / -name "*root* &gt;a.log ;;</span><br><span class="line">*)      echo "please re_enter it"  ;;</span><br><span class="line">esac</span><br><span class="line">while 条件循环</span><br><span class="line">while 条件</span><br><span class="line">do </span><br><span class="line">	命令</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">课上习题：</span><br><span class="line">求10以内的自然数的平方值</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">n=1</span><br><span class="line">while [ $n -le 10 ]</span><br><span class="line">do      echo "$n * $n" =$[n*n]</span><br><span class="line">        n=$[n+1]</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">求n1到n2以内的自然数的平方值</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">read -p "输入两个数字:" n1 n2</span><br><span class="line">if [ $n2 -gt $n1 ]</span><br><span class="line">then</span><br><span class="line">        while   [ $n1 -le $n2 ]</span><br><span class="line">        do       echo "$n1 * $n1=$[n1*n1]"</span><br><span class="line">        n1=$[n1+1]</span><br><span class="line">        done</span><br><span class="line">else    echo "重新输入"</span><br><span class="line">fi</span><br><span class="line"> </span><br><span class="line">for循环做不到，while做得到的循环</span><br><span class="line">[root@wxt shell29]# cat a.text</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for i in `cat a.text`</span><br><span class="line">do</span><br><span class="line">        echo $i</span><br><span class="line">        sleep 1</span><br><span class="line">done</span><br><span class="line">[root@wxt shell29]# sh 00.sh</span><br><span class="line">afhia</span><br><span class="line">aksjfdioas</span><br><span class="line">askdjfgiaj</span><br><span class="line">afhia</span><br><span class="line">aksjfdioas</span><br><span class="line">askdjfgiaj</span><br><span class="line">afhia</span><br><span class="line">aksjfdioas</span><br><span class="line">askdjfgiaj</span><br><span class="line"> </span><br><span class="line">cat a.text|while read line</span><br><span class="line">do</span><br><span class="line">        echo $line</span><br><span class="line">        sleep 1</span><br><span class="line">done</span><br><span class="line">[root@wxt shell29]# sh 111.sh</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line">afhia aksjfdioas askdjfgiaj</span><br><span class="line"></span><br><span class="line">②（passwd里有/bin/bash的是可登陆用户）</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">cat passwd|while read line</span><br><span class="line">        do</span><br><span class="line">                echo "$line"</span><br><span class="line">                n=`echo "$line" | grep /bin/bash`</span><br><span class="line">                if [ -z "$n" ]</span><br><span class="line">                then</span><br><span class="line">                        echo "NO "</span><br><span class="line">                else</span><br><span class="line">                        echo "YES"</span><br><span class="line">                fi</span><br><span class="line">                sleep 1</span><br><span class="line">        done</span><br><span class="line"></span><br><span class="line">until：</span><br><span class="line">until 条件</span><br><span class="line">do 命令</span><br><span class="line">done</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">i=1</span><br><span class="line">until [ $i -eq 11 ]</span><br><span class="line">do  echo "$i * $i =$[i*i]"</span><br><span class="line">        i=$[i+1]</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">continue和break用在while，for，if语句中break 跳出循环；continu回到循环开始的地方break2跳出整个循环</span><br><span class="line">continue：</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for i in 1 2 3 4 5 6</span><br><span class="line">do</span><br><span class="line">        [ $i -eq 3 ] &amp;&amp; continue</span><br><span class="line">        echo $i</span><br><span class="line">done</span><br><span class="line">[root@wxt shell29]# sh 8.sh</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line"></span><br><span class="line">break:</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for i in 1 2 3 4 5 6</span><br><span class="line">do</span><br><span class="line">        [ $i -eq 3 ] &amp;&amp; break</span><br><span class="line">        echo $i</span><br><span class="line">done</span><br><span class="line">[root@wxt shell29]# sh 9.sh</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">a++;b--(a=a+1;b=b-1)</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for ((i=2;i&lt;=100;i=i*2))</span><br><span class="line">do</span><br><span class="line">        echo "$i"</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">函数：</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">fun( ) &#123;</span><br><span class="line">echo $1</span><br><span class="line">echo $2</span><br><span class="line">echo $3</span><br><span class="line">echo $4</span><br><span class="line">&#125;</span><br><span class="line">fun a b c d</span><br><span class="line">cd $HOME=cd =cd ~到家目录</span><br></pre></td></tr></table></figure>

<h1 id="作业8"><a href="#作业8" class="headerlink" title="作业8"></a>作业8</h1><p>基础篇：<br>添加练习文本ourpractise.txt，文本内容为《shell课后练习31-文件内容.txt》中的内容，文本添加完成后格式应如下图所示：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">Archive:  drgeo-oneclick.zip</span><br><span class="line"> Length   Method    Size  Ratio   Date   Time   CRC<span class="number">-32</span>    Name</span><br><span class="line">--------  ------  ------- -----   ----   ----   ------    ----</span><br><span class="line">       <span class="number">0</span>  Failed        <span class="number">0</span>   <span class="number">0</span>%  <span class="number">10</span><span class="number">-01</span><span class="number">-08</span> <span class="number">03</span>:<span class="number">53</span>  <span class="number">00000000</span>  dg/</span><br><span class="line">     <span class="number">255</span>  Defl:N      <span class="number">180</span>  <span class="number">29</span>%  <span class="number">09</span><span class="number">-28</span><span class="number">-08</span> <span class="number">16</span>:<span class="number">35</span>  <span class="number">4</span>a44e01b  dg/drgeo.ini</span><br><span class="line">     <span class="number">193</span>  Defl:N      <span class="number">156</span>  <span class="number">19</span>%  <span class="number">09</span><span class="number">-28</span><span class="number">-08</span> <span class="number">16</span>:<span class="number">38</span>  d8a04bc6  dg/drgeo.sh</span><br><span class="line">     <span class="number">432</span>  Defl:N      <span class="number">276</span>  <span class="number">36</span>%  <span class="number">09</span><span class="number">-28</span><span class="number">-08</span> <span class="number">17</span>:<span class="number">59</span>  <span class="number">02381895</span>  dg/ChangeLog</span><br><span class="line">    <span class="number">7639</span>  Defl:N     <span class="number">2621</span>  <span class="number">66</span>%  <span class="number">01</span><span class="number">-31</span><span class="number">-08</span> <span class="number">04</span>:<span class="number">19</span>  <span class="number">75312e7</span>a  dg/LICENSE</span><br><span class="line">  <span class="number">995840</span>  Defl:N   <span class="number">379701</span>  <span class="number">62</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">16</span>:<span class="number">37</span>  bf870ea0  dg/drgeo.exe</span><br><span class="line">       <span class="number">0</span>  Stored        <span class="number">0</span>   <span class="number">0</span>%  <span class="number">09</span><span class="number">-28</span><span class="number">-08</span> <span class="number">18</span>:<span class="number">08</span>  <span class="number">00000000</span>  dg/c/</span><br><span class="line">    <span class="number">2336</span>  Defl:N      <span class="number">679</span>  <span class="number">71</span>%  <span class="number">09</span><span class="number">-28</span><span class="number">-08</span> <span class="number">18</span>:<span class="number">07</span>  e3415ff4  dg/c/Info.plist</span><br><span class="line">       <span class="number">8</span>  Stored        <span class="number">8</span>   <span class="number">0</span>%  <span class="number">06</span><span class="number">-10</span><span class="number">-07</span> <span class="number">08</span>:<span class="number">25</span>  <span class="number">00f</span>a327e  dg/c/PkgInfo</span><br><span class="line">       <span class="number">0</span>  Failed        <span class="number">0</span>   <span class="number">0</span>%  <span class="number">10</span><span class="number">-01</span><span class="number">-08</span> <span class="number">04</span>:<span class="number">18</span>  <span class="number">525</span>g0000  dg/c/res/</span><br><span class="line">       <span class="number">0</span>  Stored        <span class="number">0</span>   <span class="number">0</span>%  <span class="number">11</span><span class="number">-18</span><span class="number">-07</span> <span class="number">00</span>:<span class="number">28</span>  <span class="number">00000000</span>  dg/c/MacOS/</span><br><span class="line">       <span class="number">0</span>  Failed        <span class="number">0</span>   <span class="number">0</span>%  <span class="number">09</span><span class="number">-22</span><span class="number">-08</span> <span class="number">02</span>:<span class="number">55</span>  <span class="number">00000000</span>  dg/c/Linux686/</span><br><span class="line">   <span class="number">38206</span>  Defl:N     <span class="number">9537</span>  <span class="number">75</span>%  <span class="number">09</span><span class="number">-28</span><span class="number">-08</span> <span class="number">17</span>:<span class="number">18</span>  <span class="number">094</span>d9a57  dg/c/res/drgeo.icns</span><br><span class="line"> <span class="number">2320771</span>  Defl:N   <span class="number">546350</span>  <span class="number">77</span>%  <span class="number">10</span><span class="number">-01</span><span class="number">-08</span> <span class="number">04</span>:<span class="number">17</span>  <span class="number">48525057</span>  dg/c/res/drgeo.changes</span><br><span class="line"><span class="number">18141632</span>  Defl:N  <span class="number">8169067</span>  <span class="number">55</span>%  <span class="number">10</span><span class="number">-01</span><span class="number">-08</span> <span class="number">04</span>:<span class="number">17</span>  d2e65bd2  dg/c/res/drgeo.image</span><br><span class="line">       <span class="number">0</span>  Stored        <span class="number">0</span>   <span class="number">0</span>%  <span class="number">10</span><span class="number">-01</span><span class="number">-08</span> <span class="number">04</span>:<span class="number">18</span>  <span class="number">00000000</span>  dg/c/res/My Squeak/</span><br><span class="line">       <span class="number">0</span>  Stored        <span class="number">0</span>   <span class="number">0</span>%  <span class="number">10</span><span class="number">-01</span><span class="number">-08</span> <span class="number">02</span>:<span class="number">47</span>  <span class="number">00000000</span>  dg/c/res/secure/</span><br><span class="line">       <span class="number">0</span>  Stored        <span class="number">0</span>   <span class="number">0</span>%  <span class="number">10</span><span class="number">-01</span><span class="number">-08</span> <span class="number">03</span>:<span class="number">53</span>  <span class="number">00000000</span>  dg/c/res/examples/</span><br><span class="line">     <span class="number">941</span>  Defl:N      <span class="number">313</span>  <span class="number">67</span>%  <span class="number">10</span><span class="number">-01</span><span class="number">-08</span> <span class="number">02</span>:<span class="number">47</span>  edb9783f  dg/c/res/secure/Squeak.keys</span><br><span class="line">   <span class="number">13751</span>  Failed     <span class="number">1494</span>  <span class="number">89</span>%  <span class="number">12</span><span class="number">-22</span><span class="number">-06</span> <span class="number">19</span>:<span class="number">33</span>  <span class="number">9</span>d788893  dg/c/res/examples/wheel.fgeo</span><br><span class="line">    <span class="number">4372</span>  Defl:N      <span class="number">676</span>  <span class="number">85</span>%  <span class="number">12</span><span class="number">-22</span><span class="number">-06</span> <span class="number">19</span>:<span class="number">33</span>  b02000db  dg/c/res/examples/varignon.fgeo</span><br><span class="line">    <span class="number">9341</span>  Failed     <span class="number">1120</span>  <span class="number">88</span>%  <span class="number">12</span><span class="number">-22</span><span class="number">-06</span> <span class="number">19</span>:<span class="number">33</span>  d854c80f  dg/c/res/examples/triangles-othetiques.fgeo</span><br><span class="line">    <span class="number">1803</span>  Defl:N      <span class="number">365</span>  <span class="number">80</span>%  <span class="number">01</span><span class="number">-29</span><span class="number">-08</span> <span class="number">05</span>:<span class="number">41</span>  c0e75f9c  dg/c/res/examples/tetraedre.fgeo</span><br><span class="line">    <span class="number">4256</span>  Defl:N      <span class="number">697</span>  <span class="number">84</span>%  <span class="number">12</span><span class="number">-22</span><span class="number">-06</span> <span class="number">19</span>:<span class="number">33</span>  <span class="number">915739e6</span>  dg/c/res/examples/<span class="built_in">ref</span>raction.fgeo</span><br><span class="line">    <span class="number">6016</span>  Defl:N      <span class="number">818</span>  <span class="number">86</span>%  <span class="number">01</span><span class="number">-29</span><span class="number">-08</span> <span class="number">05</span>:<span class="number">41</span>  <span class="number">1739701</span>a  dg/c/res/examples/pyramide_base_rect.fgeo</span><br><span class="line">    <span class="number">7823</span>  Defl:N      <span class="number">941</span>  <span class="number">88</span>%  <span class="number">12</span><span class="number">-22</span><span class="number">-06</span> <span class="number">19</span>:<span class="number">33</span>  <span class="number">6318</span>b04f  dg/c/res/examples/mercedes.fgeo</span><br><span class="line">    <span class="number">7574</span>  Defl:N     <span class="number">1042</span>  <span class="number">86</span>%  <span class="number">12</span><span class="number">-22</span><span class="number">-06</span> <span class="number">19</span>:<span class="number">33</span>  <span class="number">49</span>daf029  dg/c/res/examples/lens.fgeo</span><br><span class="line">   <span class="number">12137</span>  Defl:N     <span class="number">1183</span>  <span class="number">90</span>%  <span class="number">01</span><span class="number">-29</span><span class="number">-08</span> <span class="number">05</span>:<span class="number">34</span>  adb74826  dg/c/res/examples/exemple_3d.fgeo</span><br><span class="line">    <span class="number">3789</span>  Defl:N      <span class="number">618</span>  <span class="number">84</span>%  <span class="number">12</span><span class="number">-22</span><span class="number">-06</span> <span class="number">19</span>:<span class="number">33</span>  <span class="number">9711f</span>ecc  dg/c/res/examples/euler-line.fgeo</span><br><span class="line">    <span class="number">6921</span>  Defl:N      <span class="number">874</span>  <span class="number">87</span>%  <span class="number">01</span><span class="number">-29</span><span class="number">-08</span> <span class="number">05</span>:<span class="number">08</span>  <span class="number">21693921</span>  dg/c/res/examples/cube.fgeo</span><br><span class="line">    <span class="number">2054</span>  Defl:N      <span class="number">473</span>  <span class="number">77</span>%  <span class="number">12</span><span class="number">-22</span><span class="number">-06</span> <span class="number">19</span>:<span class="number">33</span>  <span class="number">5</span>aaef865  dg/c/res/examples/angle-inscrit.fgeo</span><br><span class="line"> <span class="number">2587868</span>  Defl:N  <span class="number">1050245</span>  <span class="number">59</span>%  <span class="number">06</span><span class="number">-10</span><span class="number">-07</span> <span class="number">08</span>:<span class="number">27</span>  <span class="number">6f</span>243f86  dg/c/MacOS/squeak</span><br><span class="line">   <span class="number">22399</span>  Defl:N     <span class="number">9495</span>  <span class="number">58</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  <span class="number">4632473</span>c  dg/c/Linux686/AioPlugin</span><br><span class="line">   <span class="number">17144</span>  Defl:N     <span class="number">7963</span>  <span class="number">54</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  d83c7211  dg/c/Linux686/npsqueak.so</span><br><span class="line">   <span class="number">29128</span>  Defl:N    <span class="number">12871</span>  <span class="number">56</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  <span class="number">12889f</span>3a  dg/c/Linux686/PseudoTTYPlugin</span><br><span class="line"> <span class="number">2853195</span>  Defl:N  <span class="number">1000109</span>  <span class="number">65</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  c4e06d64  dg/c/Linux686/squeak</span><br><span class="line">  <span class="number">167923</span>  Defl:N    <span class="number">74932</span>  <span class="number">55</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  dac39dcf  dg/c/Linux686/Squeak3D</span><br><span class="line">   <span class="number">91930</span>  Defl:N    <span class="number">34071</span>  <span class="number">63</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  <span class="number">4</span>a43f2a5  dg/c/Linux686/UnixOSProcessPlugin</span><br><span class="line">   <span class="number">87661</span>  Defl:N    <span class="number">38083</span>  <span class="number">57</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  <span class="number">5</span>b09e49b  dg/c/Linux686/vm-display-fbdev</span><br><span class="line">   <span class="number">18363</span>  Defl:N     <span class="number">7230</span>  <span class="number">61</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  <span class="number">69</span>dec6cf  dg/c/Linux686/vm-display-<span class="literal">null</span></span><br><span class="line">  <span class="number">159358</span>  Defl:N    <span class="number">70409</span>  <span class="number">56</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  <span class="number">684</span>a8a9d  dg/c/Linux686/vm-display-X11</span><br><span class="line">   <span class="number">36270</span>  Defl:N    <span class="number">14162</span>  <span class="number">61</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  <span class="number">480e228</span>e  dg/c/Linux686/vm-sound-ALSA</span><br><span class="line">   <span class="number">12797</span>  Defl:N     <span class="number">5083</span>  <span class="number">60</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  <span class="number">5</span>c4a1e29  dg/c/Linux686/vm-sound-<span class="literal">null</span></span><br><span class="line">   <span class="number">54917</span>  Defl:N    <span class="number">21578</span>  <span class="number">61</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  b5e6c293  dg/c/Linux686/vm-sound-OSS</span><br><span class="line">   <span class="number">21170</span>  Defl:N     <span class="number">9001</span>  <span class="number">58</span>%  <span class="number">11</span><span class="number">-10</span><span class="number">-07</span> <span class="number">17</span>:<span class="number">45</span>  a6511bd8  dg/c/Linux686/XDisplayControlPlugin</span><br><span class="line">--------          -------  ---                            -------</span><br><span class="line"><span class="number">27748213</span>         <span class="number">11474421</span>  <span class="number">59</span>%                            <span class="number">45</span> files</span><br></pre></td></tr></table></figure>

<p><img src="/2021/05/17/linux/2021-05-17-linux-all/2021-05-17-linux-all%5Cimage-20210330224332075.png" alt></p>
<img src="/2021/05/17/linux/2021-05-17-linux-all/image-20210330224332075.png" class title="This is an example image">

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line">基础篇：</span><br><span class="line">1. 添加练习文本ourpractise.txt，文本内容为《shell课后练习31-文件内容.txt》中的内容，文本添加完成后格式应如下图所示：</span><br><span class="line"> </span><br><span class="line">2. 根据ourpractise.txt，完成下面的练习</span><br><span class="line">(1) 输出Length和Name两列的值</span><br><span class="line">awk '&#123;print $1,$8&#125;' ourpractise.txt </span><br><span class="line">(2) 打印出第二行和最后两行 </span><br><span class="line">sed -n '2p' ourpractise.txt &amp;&amp; tail -2 ourpractise.txt </span><br><span class="line">(3) 打印出第二行，第三行和Method值为Stored的行</span><br><span class="line"></span><br><span class="line">(4) 不显示含有dg/c/res/examples的行</span><br><span class="line">grep -v dg/c/res/examples ourpractise.txt </span><br><span class="line">(5) 找出b后面有一个或者两个0的行</span><br><span class="line">grep "b0\&#123;1,2\&#125;" ourpractise.txt </span><br><span class="line">(6) 找出含有三个或三个以上0的行</span><br><span class="line">grep "0\&#123;3,\&#125;" ourpractise.txt </span><br><span class="line">(7) 找出含有a4或者a8的行</span><br><span class="line">grep "a[48]" ourpractise.txt </span><br><span class="line">(8) 找出只含有字母的行</span><br><span class="line">grep -v "[^a-zA-Z]" ourpractise.txt </span><br><span class="line">(9) 输出Method和Name两列的值，再找出以S开头的行</span><br><span class="line">awk '&#123;print $2,$8&#125;' ourpractise.txt |grep ^S</span><br><span class="line">(10) 输出Method和Name两列的值，再找出以F开头，以/结尾的行</span><br><span class="line">awk '&#123;print $2,$8&#125;' ourpractise.txt |grep ^S.*/$</span><br><span class="line">(11) 找出e和b之间有两个字符的行</span><br><span class="line">sed -n '/e..b/p' ourpractise.txt </span><br><span class="line">grep e..b ourpractise.txt </span><br><span class="line">(12) 取每行50-100个字符的内容，并删除以数字开头的行</span><br><span class="line">cut -c 50-100 ourpractise.txt |sed '/^[0-9]/d'</span><br><span class="line">(13) 找出含有00000000的行，将00000000替换为Eight zero</span><br><span class="line"> sed -n '/00000000/p' ourpractise.txt |sed 's/00000000/Eight zero/g'</span><br><span class="line">(14) 删除第8-20行</span><br><span class="line">sed '8,20d' ourpractise.txt </span><br><span class="line">3. 解释下列脚本（逐行解释，写出该脚本实现的功能）</span><br><span class="line"><span class="meta">#</span><span class="bash"> Source <span class="keyword">function</span> library.</span></span><br><span class="line">./etc/init.d/functions</span><br><span class="line">test -x /usr/sbin/atd || exit 0</span><br><span class="line">RETVAL=0</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span><span class="bash">	See how we were called.</span></span><br><span class="line"><span class="meta">#</span></span><br><span class="line">prog="atd"</span><br><span class="line"></span><br><span class="line">start() &#123;</span><br><span class="line"><span class="meta">	#</span><span class="bash"> Check <span class="keyword">if</span> atd is already running</span></span><br><span class="line">	if [ ! -f /var/lock/subsys/atd ]; then</span><br><span class="line">	    echo -n $"Starting $prog: "</span><br><span class="line">	    daemon /usr/sbin/atd</span><br><span class="line">	    RETVAL=$?</span><br><span class="line">	    [ $RETVAL -eq 0 ] &amp;&amp; touch /var/lock/subsys/atd</span><br><span class="line">	    echo</span><br><span class="line">	fi</span><br><span class="line">	return $RETVAL</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stop() &#123;</span><br><span class="line">	echo -n $"Stopping $prog: "</span><br><span class="line">	killproc /usr/sbin/atd</span><br><span class="line">	RETVAL=$?</span><br><span class="line">	[ $RETVAL -eq 0 ] &amp;&amp; rm -f /var/lock/subsys/atd</span><br><span class="line">	echo</span><br><span class="line">        return $RETVAL</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">restart() &#123;</span><br><span class="line">	stop</span><br><span class="line">	start</span><br><span class="line">&#125;	</span><br><span class="line"></span><br><span class="line">reload() &#123;</span><br><span class="line">	restart</span><br><span class="line">&#125;	</span><br><span class="line"></span><br><span class="line">status_at() &#123;</span><br><span class="line"> 	status /usr/sbin/atd</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">case "$1" in</span><br><span class="line">start)</span><br><span class="line">	start</span><br><span class="line">	;;</span><br><span class="line">stop)</span><br><span class="line">	stop</span><br><span class="line">	;;</span><br><span class="line">reload|restart)</span><br><span class="line">	restart</span><br><span class="line">	;;</span><br><span class="line">condrestart)</span><br><span class="line">	if [ -f /var/lock/subsys/atd ]; then</span><br><span class="line">	    restart</span><br><span class="line">	fi</span><br><span class="line">	;;</span><br><span class="line">status)</span><br><span class="line">	status_at</span><br><span class="line">	;;</span><br><span class="line">*)</span><br><span class="line">	echo $"Usage: $0 &#123;start|stop|restart|condrestart|status&#125;"</span><br><span class="line">	exit 1</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">exit $?</span><br><span class="line">exit $RETVAL</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">提高篇：</span><br><span class="line">中级：</span><br><span class="line">编写脚本setup.sh，脚本自动安装jdk和tomcat，自动安装mysql数据库，完成oa系统的自动安装。</span><br><span class="line">高级：</span><br><span class="line">完善setup.sh脚本，脚本中需要有如下判断，并适当增加函数实现：</span><br><span class="line">（1）在函数中实现，判断系统是否已经安装过jdk，如果已经安装，输出jdk的版本号，打印信息，提示系统已经安装过jdk并退出安装</span><br><span class="line">（2）在函数中实现，判断系统是否已经启动tomcat，如果启动tomcat，提示系统已经启动tomcat并退出安装</span><br><span class="line">（3）在函数中实现，判断系统是否已经安装mysql数据库，如果已经安装，打印信息，提示已经安装并且退出安装</span><br></pre></td></tr></table></figure>


    </div>

    
    
    
      
  <div class="popular-posts-header">相关文章推荐</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="\2021\05\17\中间件\中间件_Database\2021-05-17-oracle-all\" rel="bookmark">oracle-all</a></div>
    </li>
  </ul>

        <div class="reward-container">
  <div>赞赏一下吧～</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="tongsiying 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>tongsiying
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/" title="linux-all">https://tongsiying.github.io/2021/05/17/linux/2021-05-17-linux-all/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener external nofollow noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%8D%B0%E8%B1%A1-%E8%B1%AA/" rel="tag"># 印象-豪</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/05/17/%E4%B8%AD%E9%97%B4%E4%BB%B6/%E4%B8%AD%E9%97%B4%E4%BB%B6_Database/2021-05-17-oracle-all/" rel="prev" title="oracle-all">
      <i class="fa fa-chevron-left"></i> oracle-all
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/05/17/collect/collect_download/2021-05-17-download-download/" rel="next" title="download">
      download <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#001-linux基础知识"><span class="nav-text">001-linux基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、计算机的构成"><span class="nav-text">一、计算机的构成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、操作系统"><span class="nav-text">二、操作系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、Linux目录结构"><span class="nav-text">三、Linux目录结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、虚拟控制台"><span class="nav-text">四、虚拟控制台</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、LINUX操作技巧"><span class="nav-text">五、LINUX操作技巧</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#002-linux文件查找-amp-压缩"><span class="nav-text">002-linux文件查找&amp;压缩</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、find命令"><span class="nav-text">一、find命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、grep命令"><span class="nav-text">二、grep命令 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、进程管理"><span class="nav-text">三、进程管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四、压缩包"><span class="nav-text">四、压缩包</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五、磁盘管理"><span class="nav-text">五、磁盘管理</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#003-linux用户与组的管理"><span class="nav-text">003-linux用户与组的管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一、-用户与组的管理"><span class="nav-text">一、 用户与组的管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二、-文件与目录管理"><span class="nav-text">二、 文件与目录管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三、链接ln"><span class="nav-text">三、链接ln</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#004-linux环境搭建"><span class="nav-text">004-linux环境搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#linux-如何截取一段时间内log日志"><span class="nav-text">linux 如何截取一段时间内log日志</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux下文本转为图片"><span class="nav-text">Linux下文本转为图片</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#005"><span class="nav-text">005</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#001-作业"><span class="nav-text">001-作业</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#002-作业"><span class="nav-text">002-作业</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#003-作业"><span class="nav-text">003-作业</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#001-shell"><span class="nav-text">001-shell</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#002-shell"><span class="nav-text">002-shell</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#003-shell"><span class="nav-text">003-shell</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#004-shell"><span class="nav-text">004-shell</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#005-shell"><span class="nav-text">005-shell</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#补充"><span class="nav-text">补充</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#抓包"><span class="nav-text">抓包</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#作业1"><span class="nav-text">作业1</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#作业2"><span class="nav-text">作业2</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#作业3"><span class="nav-text">作业3</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#作业4"><span class="nav-text">作业4</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#作业5"><span class="nav-text">作业5</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#作业6"><span class="nav-text">作业6</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#作业7"><span class="nav-text">作业7</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#作业8"><span class="nav-text">作业8</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="tongsiying"
      src="/images/gutianle.gif">
  <p class="site-author-name" itemprop="name">tongsiying</p>
  <div class="site-description" itemprop="description">问渠那得清如许？为有源头活水来。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">436</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">49</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/tongsiying" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;tongsiying" rel="noopener external nofollow noreferrer" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:wxtlucky1015@163.com" title="E-Mail → mailto:wxtlucky1015@163.com" rel="noopener external nofollow noreferrer" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/2964109344" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;2964109344" rel="noopener external nofollow noreferrer" target="_blank"><i class="weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tongsiying.github.io/" title="tongsiying → https:&#x2F;&#x2F;tongsiying.github.io"><i class="wrench fa-fw"></i>tongsiying</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tongsiying.github.io/ReadingNotes/" title="ReadingNotes → https:&#x2F;&#x2F;tongsiying.github.io&#x2F;ReadingNotes&#x2F;"><i class="book fa-fw"></i>ReadingNotes</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tongsiying.github.io/blog/" title="blog → https:&#x2F;&#x2F;tongsiying.github.io&#x2F;blog&#x2F;"><i class="book fa-fw"></i>blog</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tongsiying.github.io/blog/tools/" title="tools → https:&#x2F;&#x2F;tongsiying.github.io&#x2F;blog&#x2F;tools&#x2F;"><i class="wrench fa-fw"></i>tools</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tongsiying.github.io/lanlan/" title="lanlan → https:&#x2F;&#x2F;tongsiying.github.io&#x2F;lanlan&#x2F;"><i class="wrench fa-fw"></i>lanlan</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tongsiying.github.io/Music/" title="note → https:&#x2F;&#x2F;tongsiying.github.io&#x2F;Music&#x2F;"><i class="wrench fa-fw"></i>note</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tongsiying.github.io/sound/" title="Music → https:&#x2F;&#x2F;tongsiying.github.io&#x2F;sound&#x2F;"><i class="wrench fa-fw"></i>Music</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tongsiying.github.io/JSONFormat/" title="JSONFormat → https:&#x2F;&#x2F;tongsiying.github.io&#x2F;JSONFormat&#x2F;"><i class="wrench fa-fw"></i>JSONFormat</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tongsiying.github.io/HTML5-Canvas/" title="Canvas → https:&#x2F;&#x2F;tongsiying.github.io&#x2F;HTML5-Canvas&#x2F;"><i class="wrench fa-fw"></i>Canvas</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tongsiying.github.io/games/" title="games → https:&#x2F;&#x2F;tongsiying.github.io&#x2F;games&#x2F;"><i class="wrench fa-fw"></i>games</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tongsiying.github.io/love/" title="love → https:&#x2F;&#x2F;tongsiying.github.io&#x2F;love&#x2F;"><i class="wrench fa-fw"></i>love</a>
      </span>
  </div>



		<div style="">
  <canvas id="canvas" style="width:60%;">��ǰ�������֧��canvas������������������</canvas>
</div>
<script>
(function(){

   var digit=
    [
        [
            [0,0,1,1,1,0,0],
            [0,1,1,0,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,0,1,1,0],
            [0,0,1,1,1,0,0]
        ],//0
        [
            [0,0,0,1,1,0,0],
            [0,1,1,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [1,1,1,1,1,1,1]
        ],//1
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,0,0,0],
            [0,1,1,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,0,0,0,1,1],
            [1,1,1,1,1,1,1]
        ],//2
        [
            [1,1,1,1,1,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,1,1,0],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//3
        [
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,1,0],
            [0,0,1,1,1,1,0],
            [0,1,1,0,1,1,0],
            [1,1,0,0,1,1,0],
            [1,1,1,1,1,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,1,1]
        ],//4
        [
            [1,1,1,1,1,1,1],
            [1,1,0,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,1,1,1,1,0],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//5
        [
            [0,0,0,0,1,1,0],
            [0,0,1,1,0,0,0],
            [0,1,1,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,0,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//6
        [
            [1,1,1,1,1,1,1],
            [1,1,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0]
        ],//7
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//8
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,1,1,0,0,0,0]
        ],//9
        [
            [0,0,0,0,0,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,0,0,0]
        ]//:
    ];

var canvas = document.getElementById('canvas');

if(canvas.getContext){
    var cxt = canvas.getContext('2d');
    //����canvas�Ŀ���
    var H = 100,W = 700;
    canvas.height = H;
    canvas.width = W;
    cxt.fillStyle = '#f00';
    cxt.fillRect(10,10,50,50);

    //�洢ʱ������
    var data = [];
    //�洢�˶���С��
    var balls = [];
    //�������Ӱ뾶
    var R = canvas.height/20-1;
    (function(){
        var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
        //�洢ʱ�����֣���ʮλСʱ����λСʱ��ð�š�ʮλ���ӡ���λ���ӡ�ð�š�ʮλ���ӡ���λ������7���������
        data.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);
    })();

    /*���ɵ�������*/
    function renderDigit(index,num){
        for(var i = 0; i < digit[num].length; i++){
            for(var j = 0; j < digit[num][i].length; j++){
                if(digit[num][i][j] == 1){
                    cxt.beginPath();
                    cxt.arc(14*(R+2)*index + j*2*(R+1)+(R+1),i*2*(R+1)+(R+1),R,0,2*Math.PI);
                    cxt.closePath();
                    cxt.fill();
                }
            }
        }
    }

    /*����ʱ��*/
    function updateDigitTime(){
        var changeNumArray = [];
        var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
        var NewData = [];
        NewData.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);
        for(var i = data.length-1; i >=0 ; i--){
            //ʱ�䷢���仯
            if(NewData[i] !== data[i]){
                //���仯������ֵ����data�����е������洢��changeNumArray������
                changeNumArray.push(i+'_'+(Number(data[i])+1)%10);
            }
        }
        //����С��
        for(var i = 0; i< changeNumArray.length; i++){
            addBalls.apply(this,changeNumArray[i].split('_'));
        }
        data = NewData.concat();
    }

    /*����С��״̬*/
    function updateBalls(){
        for(var i = 0; i < balls.length; i++){
            balls[i].stepY += balls[i].disY;
            balls[i].x += balls[i].stepX;
            balls[i].y += balls[i].stepY;
            if(balls[i].x > W + R || balls[i].y > H + R){
                balls.splice(i,1);
                i--;
            }
        }
    }

    /*����Ҫ�˶���С��*/
    function addBalls(index,num){
        var numArray = [1,2,3];
        var colorArray =  ["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"];
        for(var i = 0; i < digit[num].length; i++){
            for(var j = 0; j < digit[num][i].length; j++){
                if(digit[num][i][j] == 1){
                    var ball = {
                        x:14*(R+2)*index + j*2*(R+1)+(R+1),
                        y:i*2*(R+1)+(R+1),
                        stepX:Math.floor(Math.random() * 4 -2),
                        stepY:-2*numArray[Math.floor(Math.random()*numArray.length)],
                        color:colorArray[Math.floor(Math.random()*colorArray.length)],
                        disY:1
                    };
                    balls.push(ball);
                }
            }
        }
    }

    /*��Ⱦ*/
    function render(){
        //���û������ȣ��ﵽ��ջ�����Ч��
        canvas.height = 100;
        //��Ⱦʱ��
        for(var i = 0; i < data.length; i++){
            renderDigit(i,data[i]);
        }
        //��ȾС��
        for(var i = 0; i < balls.length; i++){
            cxt.beginPath();
            cxt.arc(balls[i].x,balls[i].y,R,0,2*Math.PI);
            cxt.fillStyle = balls[i].color;
            cxt.closePath();
            cxt.fill();
        }
    }

    clearInterval(oTimer);
    var oTimer = setInterval(function(){
        //����ʱ��
        updateDigitTime();
        //����С��״̬
        updateBalls();
        //��Ⱦ
        render();
    },50);
}

})();
</script>
      </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; Weeny – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">tongsiying</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">7.7m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">116:27</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
